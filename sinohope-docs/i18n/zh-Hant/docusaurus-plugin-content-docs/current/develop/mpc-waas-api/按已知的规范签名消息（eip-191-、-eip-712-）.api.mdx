---
id: 按已知的规范签名消息（eip-191-、-eip-712-）
title: "按已知的规范签名消息（EIP-191、 EIP-712）"
description: "按已知的规范签名消息（EIP-191、 EIP-712）"
sidebar_label: "按已知的规范签名消息（EIP-191、 EIP-712）"
hide_title: true
hide_table_of_contents: true
api: {"tags":["交易"],"x-codeSamples":[{"lang":"python","label":"python","source":"request(\n  \"POST\",\n  \"/v1/waas/mpc/web3/sign_message/\",\n  {\n    \"requestId\": \"4242342,324234\",\n    \"chainSymbol\": \"ETH\",\n    \"hdPath\": \"m/1/1/60/0\",\n    \"signAlgorithm\": \"personal_sign\",\n    \"message\": \"232313c429aeda8bf786cf092224dddadbc0813f9f230b\"\n  },\n  api_key, host\n)\n"},{"lang":"go","label":"go","source":"Request(\"POST\", \"/v1/waas/mpc/web3/sign_message/\", map[string]string{\n    \"requestId\": \"4242342,324234\",\n    \"chainSymbol\": \"ETH\",\n    \"hdPath\": \"m/1/1/60/0\",\n    \"signAlgorithm\": \"personal_sign\",\n    \"message\": \"232313c429aeda8bf786cf092224dddadbc0813f9f230b\"\n})\n"}],"requestBody":{"content":{"application/json":{"schema":{"required":["chainSymbol","hdPath","message","requestId","signAlgorithm"],"type":"object","properties":{"requestId":{"type":"string","description":"请求方交易的requestId","example":"4242342,324234"},"chainSymbol":{"type":"string","description":"链","example":"ETH"},"hdPath":{"type":"string","description":"bip32、bip44的推导路径","example":"m/1/1/60/0"},"signAlgorithm":{"type":"string","description":"支持签名算法: （personal_sign、signTypedData、eth_signTypedData_v3、eth_signTypedData_v4）","example":"personal_sign"},"message":{"type":"string","description":"待签名的字符串信息","example":"232313c429aeda8bf786cf092224dddadbc0813f9f230b"}}}}},"required":false},"responses":{"200":{"description":"successful operation","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200},"msg":{"type":"string","example":""},"data":{"type":"object","properties":{"sinoId":{"type":"integer","description":"sinoId","example":2},"messageHash":{"type":"string","description":"签名信息，待签名的消息hash","example":"243545657745232313c429aeda8bf786cf092224dddadbc0813f9f230b"}}},"success":{"type":"boolean"}},"description":""}}}}},"x-codegen-request-body-name":"root","description":"按已知的规范签名消息（EIP-191、 EIP-712）","extensions":[{"key":"x-codegen-request-body-name","value":"root"}],"method":"post","path":"/v1/waas/mpc/web3/sign_message","servers":[{"url":"https://api.sinohope.com/"},{"url":"https://api-sandbox.sinohope.com/"}],"jsonRequestBodyExample":{"requestId":"4242342,324234","chainSymbol":"ETH","hdPath":"m/1/1/60/0","signAlgorithm":"personal_sign","message":"232313c429aeda8bf786cf092224dddadbc0813f9f230b"},"info":{"title":"Sinohope WaaS API","version":"0.9.1","description":"# 参数及返回值通用说明\n## 统一的返回值结构\n| 代码 | 说明 |\n| :-- |:---------------|\n| code | 状态返回代码（成功返回200） |\n| msg | 状态返回描述 |\n| data | 响应的数据 |\n| success | 请求是否成功（成功返回true，失败返回false） |\n\n## 常见错误码定义\n\n当Sinohope WaaS 服务发生错误的时候，会返回给客户端统一格式的数据\n\n- `200`: Successful response. Refer to each API for the detailed response data.\n- `400`: Return Bad Request.\n- `401`: Unauthorized. Either API details are missing or invalid\n- `403`: Forbidden - You do not have access to the requested resource.\n- `415`: Unsupported media type. You need to use application/json.\n- `500`: Exchange/Sinohope internal error.\n\n### 系统层面错误\n| 错误码 | 描述 |\n| :-- |:---------------|\n| 1001 | 未知异常，请联系 Sinohope 客服 |\n| 1002 | 重复的请求 |\n| 1004 | APIKey 错误 |\n| 1005 | 验签失败 |\n| 1006 | IP 调用频率受限 |\n| 1007 | 无接口权限 |\n| 1008 | 无效的ip地址 |\n| 1009 | 签名请求头不能为空 |\n| 1010 | 时间戳请求头不能为空 |\n| 1011 | 请求服务接口异常 |\n| 1012 | 无效的业务请求，请检查是否有对应业务请求头 |\n| 1013 | 签名失败 |\n| 1014 | 不支持的请求类型(仅支持GET、POST) |\n| 1015 | 缺少签名参数 |\n\n### 参数层面错误\n| 错误码 | 描述 |\n| :-- |:---------------|\n| 2001 | 币种暂不支持 |\n| 2002 | 链暂不支持 |\n| 2003 | 输入地址无效 |\n| 2004 | 交易记录不存在 |\n| 2005 | 无权限 |\n| 2006 | 转账信息异常 （kyt校验不通过） |\n| 2007 | 矿工费过低 |\n| 2008 | To地址非内部地址 （转账保护） |\n| 2009 | 余额不足以支付转账数量和Gas费 |\n| 2010 | gas不足 （token转账） |\n| 2011 | 可用余额不足 （token转账） |\n| 2012 | 名称中不能包含反斜杠\\ |\n| 2013 | 未找到path对应地址 |\n| 2097 | 页页数错误 pageIndex >=1 |\n| 2098 | 分页数量错误 pageSize <=50 |\n| 2099 | 必须参数缺失 |\n| 2100 | pageSize必须大于0 |\n| 2101 | 指定的钱包不存在 |\n| 2102 | 指定的资产不存在 |\n| 2103 | 指定的链标识不存在 |\n| 2104 | 指定的金库不存在 |\n| 2105 | page size exceeds maximum limit(50) |\n| 2106 | 生成链地址单子最大个数超限（50） |\n| 2107 | pageIndex最小为1 |\n| 2108 | 参数类型错误 |\n| 2109 | advancedEnabled must be 0 or 1 |\n| 2110 | algorithmType must be 0 or 1 |\n| 2111 | requestId total cannot be greater than 50 |\n| 2112 | sinoId total cannot be greater than 50 |\n| 2113 | signAlgorithm must in 'personal_sign、signTypedData、 eth_signTypedData_v3、eth_signTypedData_v4' |\n| 2114 | The length of requestId is too long, the maximum is 120 |\n| 2115 | message 格式错误，或者signAlgorithm参数错误 |\n| 2116 | 钱包与组织信息不匹配 |\n| 2117 | 钱包与金库信息不匹配 |\n| 2118 | 金库与组织信息不匹配 |\n\n### 业务层面错误\n| 错误码 | 描述 |\n| :-- |:---------------|\n| 4001 | 组交易失败 |\n| 4002 | 广播失败 |\n| 4003 | 不支持加速的币种 |\n| 4004 | 加速交易已上链或nonce已被占用 |\n| 4005 | 取消交易已上链或nonce已被占用 |\n| 4006 | MPC Node 未绑定 |\n| 4007 | MPC Node 未DKG |\n| 4008 | 同一金库不能够同时发起创建钱包操作 |\n| 4009 | 同一金库下钱包名称不能相同 |\n| 4010 | 创建钱包数量和自定义钱包list不一致 |\n| 4011 | 钱包数量限额 |\n\n## 数据字典\n### 交易手续费费率等级\n| 字典码 | 描述 |\n| :-- |:---------------|\n| LOW | 低 |\n| MIDDLE | 中 |\n| HIGH | 高 |\n\n### 交易状态\n| 字典码 | 描述 |\n| :-- |:---------------|\n| 0 | 交易待二次确认 |\n| 1 | 交易待签名 |\n| 2 | 交易上链中 |\n| 4 | 广播失败 |\n| 5 | 交易上链失败 |\n| 6 | 广播网络超时 |\n| 10 | 交易上链成功 |\n| 11 | 交易链上回滚 |\n| 13 | 交易拒绝 |\n\n\n## 文档变更记录\n\n| Version | Log           | Date       | Modifier |\n| ---- | ------------- | ---------- | ------ |\n| v0.9.0 | first version | 2023-08-04 | Owen  |\n| v0.9.1 | add new sections,and fix some apis | 2023-08-22 | Owen  |"},"postman":{"name":"按已知的规范签名消息（EIP-191、 EIP-712）","description":{"type":"text/plain"},"url":{"path":["v1","waas","mpc","web3","sign_message"],"host":["{{baseUrl}}"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}}}}
sidebar_class_name: "post api-method"
info_path: docs/develop/mpc-waas-api/sinohope-waas-api
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## 按已知的规范签名消息（EIP-191、 EIP-712）



按已知的规范签名消息（EIP-191、 EIP-712）

<MimeTabs><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"requestId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求方交易的requestId","example":"4242342,324234"}}></SchemaItem><SchemaItem collapsible={false} name={"chainSymbol"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"链","example":"ETH"}}></SchemaItem><SchemaItem collapsible={false} name={"hdPath"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"bip32、bip44的推导路径","example":"m/1/1/60/0"}}></SchemaItem><SchemaItem collapsible={false} name={"signAlgorithm"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"支持签名算法: （personal_sign、signTypedData、eth_signTypedData_v3、eth_signTypedData_v4）","example":"personal_sign"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"待签名的字符串信息","example":"232313c429aeda8bf786cf092224dddadbc0813f9f230b"}}></SchemaItem></ul></details></TabItem></MimeTabs><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

successful operation

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","example":200}}></SchemaItem><SchemaItem collapsible={false} name={"msg"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":""}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>data</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"sinoId"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"sinoId","example":2}}></SchemaItem><SchemaItem collapsible={false} name={"messageHash"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"签名信息，待签名的消息hash","example":"243545657745232313c429aeda8bf786cf092224dddadbc0813f9f230b"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"success"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"code\": 200,\n  \"msg\": \"\",\n  \"data\": {\n    \"sinoId\": 2,\n    \"messageHash\": \"243545657745232313c429aeda8bf786cf092224dddadbc0813f9f230b\"\n  },\n  \"success\": true\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>