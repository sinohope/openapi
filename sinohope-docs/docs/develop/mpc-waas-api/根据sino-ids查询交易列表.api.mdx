---
id: 根据sino-ids查询交易列表
title: "根据sinoIds查询交易列表"
description: "根据sinoIds查询交易列表"
sidebar_label: "根据sinoIds查询交易列表"
hide_title: true
hide_table_of_contents: true
api: {"tags":["交易"],"x-codeSamples":[{"lang":"python","label":"python","source":"request(\n  \"POST\",\n  \"/v1/waas/mpc/transaction/transactions_by_sino_ids/\",\n  {\n    \"sinoIds\": \"1,2,3,4\"\n  },\n  api_key, host\n)\n"},{"lang":"go","label":"go","source":"Request(\"POST\", \"/v1/waas/mpc/transaction/transactions_by_sino_ids/\", map[string]string{\n    \"sinoIds\": \"1,2,3,4\"\n})\n"}],"requestBody":{"content":{"application/json":{"schema":{"required":["sinoIds"],"type":"object","properties":{"sinoIds":{"type":"string","description":"通过sinoId查询获取已确认交易记录列表，sinoid是sinohope唯一标识交易id，以逗号分割，不能为空且不能大于50个","example":"1,2,3,4"}}}}},"required":false},"responses":{"200":{"description":"successful operation","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200},"msg":{"type":"string","example":""},"data":{"type":"array","description":"交易记录列表","items":{"type":"object","description":"完整交易记录","properties":{"sinoId":{"type":"string","description":"Sinohope对交易的唯一标识","example":"2"},"assetId":{"type":"string","description":"资产Id","example":"ETH_ETH"},"assetName":{"type":"string","description":"资产名称","example":"ETH"},"chainSymbol":{"type":"string","description":"链简称","example":"ETH"},"chainName":{"type":"string","description":"链名称","example":"Ethereum"},"txDirection":{"type":"integer","description":"交易方向类型 1充值 2提现","example":1},"txType":{"type":"integer","description":"交易类型。对于以太坊，可能的交易类型为：0 - legacy，1 - EIP2930，2 - EIP1559","example":0},"decimal":{"type":"integer","description":"精度","example":18},"coinDecimals":{"type":"integer","description":"链对应的主币的精度","example":18},"transaction":{"type":"object","description":"交易信息","properties":{"txHash":{"type":"string","description":"交易hash","example":"ee506b40220af3692be8b84a95a6e02d956164007d875812c1be26b594c2c27a"},"from":{"type":"string","description":"from地址","example":"0xc9cf7d652a036d65b3392dfcabc3d3c332082558"},"fromTag":{"type":"string","description":"from地址tag","example":"12300"},"to":{"type":"string","description":"to地址","example":"0xca1b41bc3c4ffa88e3a31bff85e3289ec375d138"},"toTag":{"type":"string","description":"to地址tag","example":"1001"},"amount":{"type":"string","description":"金额：最小精度的整数值 例如：1230000000000000000","example":"1230000000000000000"},"asset":{"type":"string","description":"资产id","example":"ETH"},"feeAsset":{"type":"string","description":"手续费资产","example":"ETH"},"usedFee":{"type":"string","description":"真实消耗的手续费，最小精度的整数值","example":"21000000000000"},"fee":{"type":"string","description":"构造交易时赋予的手续费","example":"30000000000000"},"feePrice":{"type":"string","description":"手续费Price","example":"1000000000"},"feeStep":{"type":"string","description":"手续费Step （在evm兼容链中即 gas）","example":"30000"},"state":{"type":"integer","description":"交易状态  21-交易已签名待上链 2-交易上链中 4-广播失败 5-交易上链失败 6-广播网络超时 10-交易上链成功 11-交易上链回滚","example":10},"nonce":{"type":"string","description":"交易nonce","example":"2"},"chainId":{"type":"string","description":"链id","example":"2"},"timestamp":{"type":"integer","description":"交易时间","example":1691500614},"note":{"type":"string","description":"交易文本","example":""},"currentTime":{"type":"integer","description":"当前时间","example":1691500611},"expireTime":{"type":"integer","description":"有效时间","example":1691500231},"expireBlockHeight":{"type":"integer","description":"交易有效高度","example":6566009},"referBlockHeight":{"type":"integer","description":"refer 高度","example":6566020},"vin":{"type":"array","description":"utxo input, 当币种是utxo类型币种时，才有此参数","items":{"type":"object","properties":{"id":{"type":"integer","description":"交易id","example":1},"hash":{"type":"string","description":"交易hash","example":"a585a524c0f60d24d9c6bdebd47b94435d24e7f6181afbc1b6ba810d97cf0a77"},"voutIndex":{"type":"string","description":"交易index,代表当前未花费交易所在位置","example":"1"},"address":{"type":"string","description":"交易地址","example":"16tXHQkjcCPibB9eLnR4GUWPpcg3oasvDx"},"amount":{"type":"string","description":"交易金额","example":"123000"},"asset":{"type":"string","description":"交易资产","example":"BTC"}}}},"vout":{"type":"array","description":"交易output, 当币种是utxo类型币种时，才有此参数","items":{"type":"object","properties":{"asset":{"type":"string","description":"交易资产","example":"BTC"},"address":{"type":"string","description":"交易地址","example":"16tXHQkjcCPibB9eLnR4GUWPpcg3oasvDx"},"amount":{"type":"string","description":"交易金额","example":"123000"}}}}},"title":"transactionObject"}},"title":"transactionRecord"}},"success":{"type":"boolean"}},"description":""}}}}},"x-codegen-request-body-name":"root","description":"根据sinoIds查询交易列表","extensions":[{"key":"x-codegen-request-body-name","value":"root"}],"method":"post","path":"/v1/waas/mpc/transaction/transactions_by_sino_ids","servers":[{"url":"https://api.sinohope.com/"},{"url":"https://api-sandbox.sinohope.com/"}],"jsonRequestBodyExample":{"sinoIds":"1,2,3,4"},"info":{"title":"Sinohope WaaS API","version":"0.9.1","description":"\n# 开始使用\n## 快速开始\n\n本章节是一个快速使用教程，将帮助您快速了解并开始使用Sinohope WaaS服务。\n\n客户在Sinohope开通账户时，将允许分别开通“测试组织” 和 “正式组织”，分别代表测试环境和正式使用环境。\n测试环境只支持少量的测试链，供试用、集成测试等用途使用。本教程主要是在测试环境下使用。\n\n本教程主要涉及以下事项：\n- 开通并登录账户\n- 部署并配置MPC Node\n- 创建金库\n- 创建并配置API Key\n- 基于SDK开发集成\n\n\n### 开通并登录账户\n\n要开始使用Sinohope WaaS服务，您需要联系[Sinohope](https://www.sinohope.com/)开通组织账户，之后在 [web console](https://console.sinohope.com/user/login) 界面基于邮箱注册您的个人账户并登录Sinohope为您开通的组织。\n\n### 部署并配置MPC Node\n\nSinohope使用 MPC-TSS 技术提供 WaaS 服务，并采用 3-3 的阈值签名设置，平台持有2片私钥分片，用户持有1片私钥分片。\n\nSinohope提供 MPC Node软件，由客户部署运行，用于管理属于用户的私钥分片。要配置 MPC Node，主要有以下事项：\n\n1. 准备：开通Sinohope WaaS 账号；准备好部署环境，获取并验证 MPC Node 安装包；\n2. 初始化节点，生成节点的 Node ID 和 部署回调服务所需的节点公钥；\n3. （按需）部署及配置您的回调服务；\n4. 绑定MPC Node，登录 web console 配置 MPC Node，将您的 Node ID 与您的组织账号绑定；\n5. 启动MPC Node，节点将持续运行，并自动按需驱动MPC协议的运行，其中，稍等片刻将可完成DKG，之后在 Web Console MPC Node管理界面将看到 “key share 状态”为“已生成”。\n6. 重要：安全妥善备份 MPC Node 本地数据库文件！\n\n> 详见 [MPC Node使用指南](#section/MPC-Node) 章节。\n\n### 创建金库\n\nSinohope 采用分层结构管理组织内的链地址，包括四个层级：根密钥、金库、钱包、各个链上的地址。\n\n在 WaaS服务中，金库需要在Web console管理界面人工创建，之后，钱包、链上地址 均需通过API完成创建。\n\n在 “waas钱包”界面，通过“创建金库” 功能即可完成金库创建。\n\n在钱包、地址的应用模式方面，有两种模式可供您参考，具体应该结合您的业务而定：\n\n1. 为您的每个业务/终端用户 分配一个多链钱包；在这种模式下，对链上地址的管理将会更加集中，业务/终端用户 之间可以有较清晰的划分。\n2. 只使用一个多链钱包，在该钱包下按需创建并为业务/终端用户 分配链上地址。此种模式下，直接管理最终的链上地址，更接近于传统的地址管理方式。\n\n\n### 创建并配置API Key\n\n当前，需要对每个金库进行独立配置，包括 API Key设置、回调设置、高级功能开关设置 等。\n\n您需要创建一对 ECDSA 密钥对用于WaaS API请求鉴权。您可通过 Sinohope 官方SDK，或者如下java 示例来创建您的密钥对：\n\n```java\nimport org.nhex.sinohope.sign.api.ECDSA;\n\nECDSA ecdsa = new ECDSA(SECP256R1);\nKeyPair keyPair = ecdsa.generateKeyPair();\nString publicKey = Hex.toHexString(keyPair.getPublic().getEncoded());\nString privateKey = Hex.toHexString(keyPair.getPrivate().getEncoded());\nSystem.out.println(\"publicKey = \" + publicKey);\nSystem.out.println(\"privateKey = \" + privateKey);\n```\n\n其中，私钥 `privateKey`由您自己妥善保管并配置到您的业务系统中，代表您的身份，用于做API请求签名；公钥`publicKey` 即 API Key，需要您通过Sinohope web console管理界面，配置到您的金库中，从而绑定其API访问权限。\n\n> 关于接口请求签名及验签，详情请参考“[API 认证](#section/开始使用/API)” 章节。\n\n### 基于SDK开发集成\n\nSinohope将提供多种语言的SDK，方便开发者集成WaaS功能。SDK 主要提供以下功能：\n\n- 统一封装接口请求签名处理；\n- 封装API接口，方便开发者以方法调用的方式完成对WaaS API的请求。\n\n当前提供的SDK：[java sdk](https://github.com/sinohope/sinohope-java-api)。\n\nJS、Golang 等开发语言的SDK 正在进行中，敬请期待。\n\n\n# 参数及返回值通用说明\n## 统一的返回值结构\n| 代码 | 说明 |\n| :-- |:---------------|\n| code | 状态返回代码（成功返回200） |\n| msg | 状态返回描述 |\n| data | 响应的数据 |\n| success | 请求是否成功（成功返回true，失败返回false） |\n\n## 常见错误码定义\n\n当Sinohope WaaS 服务发生错误的时候，会返回给客户端统一格式的数据\n\n\n- `200`: Successful response. Refer to each API for the detailed response data.\n- `400`: Return Bad Request.\n- `401`: Unauthorized. Either API details are missing or invalid\n- `403`: Forbidden - You do not have access to the requested resource.\n- `415`: Unsupported media type. You need to use application/json.\n- `500`: Exchange/Sinohope internal error.\n\n### 系统层面错误\n| 错误码 | 描述 |\n| :-- |:---------------|\n| 1001 | 未知异常，请联系 Sinohope 客服 |\n| 1002 | 重复的请求 |\n| 1004 | APIKey 错误 |\n| 1005 | 验签失败 |\n| 1006 | IP 调用频率受限 |\n| 1007 | 无接口权限 |\n| 1008 | 无效的ip地址 |\n| 1009 | 签名请求头不能为空 |\n| 1010 | 时间戳请求头不能为空 |\n| 1011 | 请求服务接口异常 |\n| 1012 | 无效的业务请求，请检查是否有对应业务请求头 |\n| 1013 | 签名失败 |\n| 1014 | 不支持的请求类型(仅支持GET、POST) |\n| 1015 | 缺少签名参数 |\n\n### 参数层面错误\n| 错误码 | 描述 |\n| :-- |:---------------|\n| 2001 | 币种暂不支持 |\n| 2002 | 链暂不支持 |\n| 2003 | 输入地址无效 |\n| 2004 | 交易记录不存在 |\n| 2005 | 无权限 |\n| 2006 | 转账信息异常 （kyt校验不通过） |\n| 2007 | 矿工费过低 |\n| 2008 | To地址非内部地址 （转账保护） |\n| 2009 | 余额不足以支付转账数量和Gas费 |\n| 2010 | gas不足 （token转账） |\n| 2011 | 可用余额不足 （token转账） |\n| 2012 | 名称中不能包含反斜杠\\ |\n| 2013 | 未找到path对应地址 |\n| 2097 | 页页数错误 pageIndex >=1 |\n| 2098 | 分页数量错误 pageSize <=50 |\n| 2099 | 必须参数缺失 |\n| 2100 | pageSize必须大于0 |\n| 2101 | 指定的钱包不存在 |\n| 2102 | 指定的资产不存在 |\n| 2103 | 指定的链标识不存在 |\n| 2104 | 指定的金库不存在 |\n| 2105 | page size exceeds maximum limit(50) |\n| 2106 | 生成链地址单子最大个数超限（50） |\n| 2107 | pageIndex最小为1 |\n| 2108 | 参数类型错误 |\n| 2109 | advancedEnabled must be 0 or 1 |\n| 2110 | algorithmType must be 0 or 1 |\n| 2111 | requestId total cannot be greater than 50 |\n| 2112 | sinoId total cannot be greater than 50 |\n| 2113 | signAlgorithm must in 'personal_sign、signTypedData、 eth_signTypedData_v3、eth_signTypedData_v4' |\n| 2114 | The length of requestId is too long, the maximum is 120 |\n| 2115 | message 格式错误，或者signAlgorithm参数错误 |\n| 2116 | 钱包与组织信息不匹配 |\n| 2117 | 钱包与金库信息不匹配 |\n| 2118 | 金库与组织信息不匹配 |\n\n### 业务层面错误\n| 错误码 | 描述 |\n| :-- |:---------------|\n| 4001 | 组交易失败 |\n| 4002 | 广播失败 |\n| 4003 | 不支持加速的币种 |\n| 4004 | 加速交易已上链或nonce已被占用 |\n| 4005 | 取消交易已上链或nonce已被占用 |\n| 4006 | MPC Node 未绑定 |\n| 4007 | MPC Node 未DKG |\n| 4008 | 同一金库不能够同时发起创建钱包操作 |\n| 4009 | 同一金库下钱包名称不能相同 |\n| 4010 | 创建钱包数量和自定义钱包list不一致 |\n| 4011 | 钱包数量限额 |\n\n## 数据字典\n### 交易手续费费率等级\n| 字典码 | 描述 |\n| :-- |:---------------|\n| LOW | 低 |\n| MIDDLE | 中 |\n| HIGH | 高 |\n\n### 交易状态\n| 字典码 | 描述 |\n| :-- |:---------------|\n| 0 | 交易待二次确认 |\n| 1 | 交易待签名 |\n| 2 | 交易上链中 |\n| 4 | 广播失败 |\n| 5 | 交易上链失败 |\n| 6 | 广播网络超时 |\n| 10 | 交易上链成功 |\n| 11 | 交易链上回滚 |\n| 13 | 交易拒绝 |\n\n\n## 术语定义\n### sinoId\n对于涉及到MPC私钥分片的业务，包括开发者请求的交易及签名类业务（如发起交易、发起签名等），Sinohope均会给该业务产生一个唯一标识，即 sinoId。\n\n### requestId\n对于需要实现幂等处理的请求（如发起转账），请求方需要为API请求提供一个唯一标识，即 requestId。requestId 应实现全局唯一性，并确保对多次提交的同一个业务请求使用同一个requestId。**允许的最大长度为 120 个ASCII字符。**\n建议使用 UUID 或雪花算法生成 requestId。\n### chainSymbol的规则\n1、chainSymbol是链配置的唯一标识；\n\n2、区分测试网和正式网；\n\n3、使用大写字母命名。\n\n> 例如： \n> - 主网使用常见简称，如`ETH`, `BTC` 分别是 `Ethereum 主网`/ `Bitcoin主网`\n> - 对于有特定名字的测试网使用其测试网名字，如用`GOERLI` 表示`ETH Goerli 测试网`\n> - 对于无特定名字的测试网，使用`_TEST`加以区分，如 `BTC_TEST` 表示 `Bitcoin testnet3测试网`\n> - 注意：系统支持的链，以`/v1/waas/common/get_supported_chains`接口返回值为准\n\n### assetId的规则\n1、assetId是Asset配置表唯一标识；\n\n2、命名方式前币(coin)后链(chain)，中间以下划线分隔；\n\n3、使用大写字母命名。\n\n> 例如：USDT_GOERLI 是 ETH Goerli 测试网上的的一个 USDT 币种\n\n## 文档变更记录\n\n| Version | Log           | Date       | Modifier |\n| ---- | ------------- | ---------- | ------ |\n| v0.9.0 | first version | 2023-08-04 | Owen  |\n| v0.9.1 | add new sections,and fix some apis | 2023-08-22 | Owen  |\n\n\n# MPC Node使用指南\n\n## 1. Sinohope WaaS MPC技术简介\n\n门限签名（Threshold Signature Scheme，TSS）是数字签名的一个重要分支，它是一种基于安全多方计算（Secure Multi-Party Computation，MPC）的密码学技术，也是 MPC 密钥管理的重要研究方向。\n\nSinohope 推出的 WaaS（Wallet as a Service）是以MPC-TSS技术为基础的钱包即服务方案。Sinohope WaaS服务需要客户与平台以分布式协作的方式，各自持有私钥分片，基于[MPC-CMP协议](https://eprint.iacr.org/2021/060)（ECDSA）及[SS01协议](https://link.springer.com/chapter/10.1007/3-540-47719-5_33#chapter-info)（EdDSA）实现由客户主导的链下多方签名。MPC Node 是 Sinohope WaaS 为客户提供的专属程序包，用于管理客户自己的私钥分片。\n\nSinohope 采用3-3多签模式，客户持有一个私钥分片、Sinohope持有两个私钥分片。\n\n- MPC Node 1：Sinohope负责管理，该 Node 会一直在线。\n- MPC Node 2：Sinohope负责管理，该 Node 会一直在线。\n- MPC Node 3：客户负责管理，该 Node 仅在处理业务需要时在线。\n\n## 2. MPC Node部署实施\n\n### 2.1 环境准备\n\n#### 2.1.1 通用服务器环境\n\n通用服务器指的是云服务器商 EC，或者是客户自主运维的服务器物理机。\n\n##### 最低配置\n\n- CPU：AMD64 或ARM64 架构，2 核，主频 2.0 GHz\n- 内存：4 G\n- 硬盘：64 G SSD\n- 操作系统：Ubuntu 20.04或最新。 (注：理论上支持所有可运行Docker的系统)\n\n##### 推荐配置\n\n- CPU：AMD64 或者 ARM64 架构，4 核心，主频 3.0 GHz\n- 内存：8 G\n- 硬盘：128 G SSD\n- 操作系统：Ubuntu 20.04或最新。 (注：理论上支持所有可运行Docker的系统)\n\n#### 2.1.2 网络要求\n\n##### 防火墙入站规则\n\n- 开放443 端口，MPC Node服务向使用者提供https服务。\n- 在不影响运维和安全的情况下，其他端口全部关掉。\n\n##### 防火墙出站规则\n\n- 安装阶段：\n  - 可访问 apt 源，以安装基础依赖包\n  - 可访问 docker 安装源，以安装 docker\n  - 可访问 docker.io registry 镜像仓库\n- 服务阶段：\n  - 可访问客户配置的 Callback 回调服务器\n  - 可访问mpc-proxy，签名时需要与其他MPC Node通信。\n  - 在不影响运维和安全的情况下，其他出站ip全部关掉。\n\n#### 2.1.3 安装 Docker\n\n请参考[官方文档](https://docs.docker.com/engine/install/)安装Docker。Sinohope MPC Node安装包中的启动脚本执行时，会自动检查Docker的安装情况，如果未安装无法运行。\n\n### 2.2 部署与配置\n\n部署及配置 MPC Node 是使用Sinohope WaaS 服务的基础要求。请参考如下步骤完成 MPC Node 的部署运行：\n\n1. 准备：开通Sinohope WaaS 账号；准备好部署环境，获取并验证 MPC Node 安装包；\n2. 初始化节点，生成节点的 Node ID 和 部署回调服务所需的节点公钥；\n3. （按需）部署及配置您的回调服务；\n4. 绑定MPC Node，登录 web console 配置 MPC Node，将您的 Node ID 与您的组织账号绑定；\n5. 启动MPC Node，节点将持续运行，并自动按需驱动MPC协议的运行，其中，稍等片刻将可完成DKG，之后在 Web Console MPC Node管理界面将看到 “key share 状态”为“已生成”。\n6. ❗️❗️重要：安全妥善备份 MPC Node 本地数据库文件！\n\n#### 2.2.1 获取并验证安装包\n\n- 请联系SINOHOPE的工作人员，获取软件包“sinohope-mpc-node.tar.gz” 及其 sha256 哈希值。\n- 将软件包上传至您的部署环境的目标目录，在终端执行以下命令，对比软件包的hash值，确认软件包的正确性。\n\n```Bash\nshasum -a 256 sinohope-mpc-node.tar.gz\n```\n\n- 解压后确认内部数据\n\n```Bash\ntar -zxzf sinohope-mpc-node.tar.gz\n```\n\n- 软件包解压后文件结构如下：\n\n```Bash\nsinohope-mpc-node\n├── config.toml （销售人员给到的配置文件中包含了与mpc-proxy通信的安全信息，勿泄漏）\n└── node.sh （控脚本，用于初始化和启动MPC Node服务）\n```\n\n- MPC Node初始化成功后，会自动创建asset.db文件和logs目录：\n\n```JSON\nsinohope-mpc-node\n├── config.toml （SINOHOPE工作人员给到的配置文件中包含了与mpc-proxy通信的安全信息，勿泄漏）\n├── node.sh （控脚本，用于初始化和启动MPC Node服务）\n├── asset.db (本地产生的重要数据都存储在这里，备份与恢复就是恢复数据)\n└── logs (日志文件)\n```\n\n#### 2.2.2 初始化节点\n\n执行以下命令完成节点初始化：\n\n```Bash\nsudo ./node.sh init\n```\n\n示例：\n\n```Shell\nsudo ./node.sh init\n[sudo] password for ubuntu:   (ubuntu账户密码)\n? Type password (at least 8 characters): ********\n? Retype password: ********\n2023/08/18 10:18:46 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:18:46 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n说明：首先脚本会自动做一些环境的检查工作，如判断是否安装了Docker，判断用户的权限等。init命令的主要任务是初始化节点信息，包括：\n\n- 给 MPC 节点设置一个密码，这个密码用于保护您的私钥分片 及其他私密数据，**请您妥善保管，切勿泄漏，并且做好安全冗余备份**。节点启动时会要求输入该密码。\n  - 您可采用如下措施实现密码自动输入：打开config.toml配置文件，[storage]配置项中增加password字段：\n  - ```Shell\n    [storage]\n    db-file-path = \"/tmp/mpc-node/asset.db\"\n    unseal-server-address = \"0.0.0.0:8080\"\n    password = \"FILL YOUR PASSWORD HERE\"\n    ```\n- 创建node id， 每一个MPC Node都有一个唯一标识id，您将需要使用该 node id 将您的MPC 节点与您的 WaaS 组织账号做唯一关联。\n- 创建与callback-server通信时的ECDSA密钥对。\n\n#### 2.2.3 (Optional) 部署及配置回调服务\n\nMPC Node 提供回调机制用于供您执行风险控制，这个回调服务是可选的（在生产环境下，强烈建议您开发并部署回调服务）。\n\n为MPC Node配置了回调服务之后，MPC Node 在发起任何 MPC业务（如签名）之前均会回调指定的接口，请求回调服务对当前MPC 业务的授权，只有在您的回调服务明确返回 ACCEPT 状态时，MPC业务才会开始执行。\n\n另外，当您使用消息签名 或 对原始数据直接签名 的功能时，MPC Node 将通过回调接口将签名结果提供给您，供您的业务使用。\n\n关于回调服务的开发、部署、配置等内容，详见“MPC Node 回调机制”章节。\n\n#### 2.2.4 绑定 MPC Node\n\n前述步骤完成后，可使用具有管理员权限的账号登录 Sinohope Web Console， 在【设置】-【MPC Node】页面完成 MPC Node 的关联绑定。此处需要输入MPC Node 初始化时生成的 Node ID。\n\n\n#### 2.2.5 启动 MPC Node 服务\n\n绑定 MPC Node 完成后，通过如下命令启动 MPC Node 服务。\n\n```Bash\n./node.sh start \n```\n\n服务启动运行后，回到web console MPC Node 配置界面，正常情况下稍等片刻即可看到 “key share 状态” 为“已生成”，同时界面上将展示您的组织的MPC 根公钥 信息。\n\n![img](./images/mpc-node.jpeg)\n\n\n#### 2.2.6 ❗️❗️重要：数据库备份\n\nMPC Node 本地数据库文件 `asset.db` 存储了您的私钥分片 等重要数据，所有数据均使用强密钥加密存储，该强密钥由您为 MPC Node 设置的密码经 KDF 函数派生而来。\n\n私钥分片事关资金安全及可用，Sinohope所掌管的私钥分片由平台基于多层级多区域的一系列高可用及灾备方案加以保管及备份，同时您也可申请对您的组织的所有分片私钥进行备份，从而完全掌控您的所有3片分片私钥。\n\n\n而**对于您本地的数据库文件中存在的私钥分片，则必须由您自己完成安全冗余备份。请采取足够的安全措施、异地多副本 备份您的数据库文件，以及您为MPC Node设置的 密码**。\n\n**建议数据库文件与密码分开保管，降低数据泄漏风险**。\n\n**后续若您的 MPC Node 服务器或服务发生故障、数据受损、不可用等情况时，只能通过您备份的 数据库 文件及密码 重新部署MPC Node服务来进行恢复。Sinohope 将无法帮您恢复您的MPC Node 服务！！**\n\n## 3. MPC Node 完整交互命令介绍\n\n### 初始化\n\n请在命令行执行以下命令：\n\n```Bash\nsudo ./node.sh init\n```\n\n示例：\n\n```Shell\nsudo ./node.sh init\n[sudo] password for ubuntu:   (ubuntu账户密码)\n? Type password (at least 8 characters): ********\n? Retype password: ********\n2023/08/18 10:18:46 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:18:46 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n说明：首先脚本会自动做一些环境的检查工作，如判断是否安装了Docker，判断用户的控住权限等。init命令的主要任务是初始化账户信息，包括：\n\n- 给 MPC 节点设置一个密码，这个密码用于保护您的私钥分片 及其他私密数据，**请您妥善保管，切勿泄漏，并且做好安全冗余备份**。节点启动时会要求输入该密码。\n  - 您可采用如下措施实现密码自动输入：打开config.toml配置文件，[storage]配置项中增加password字段：\n  ```Shell\n    [storage]\n    db-file-path = \"/tmp/mpc-node/asset.db\"\n    unseal-server-address = \"0.0.0.0:8080\"\n    password = \"FILL YOUR PASSWORD HERE\"\n  ```\n- 创建node id， 每一个MPC Node都有一个唯一标识id，您将需要使用该 node id 将您的MPC 节点与您的 WaaS 组织账号做唯一关联。\n- 创建与callback-server通信时的ECDSA密钥对。\n\n### 启动服务\n\n请在命令行执行以下命令：\n\n```Bash\n./node.sh start \n```\n\n示例：\n\n```JSON\nsudo ./node.sh start\n[sudo] password for ubuntu:   (ubuntu账户密码)\n? Enter password: ********\n```\n\n说明：脚本会读取密码并启动docker内的服务\n\n### MPC Node其他命令\n\n注：启动服务主要是init和start命令，其他命令是非必须命令，可按需查阅。\n\n#### 查看node-id和callback公钥\n\n```JSON\n./node.sh info\n```\n\n示例：\n\n```Shell\n./node.sh info\n? Enter password: ********\n2023/08/18 10:23:59 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:23:59 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n#### 修改密码\n\n```JSON\n./node.sh reset\n./node.sh reset\n? Enter password: ********\n? Choose an action:  [Use arrows to move, type to filter]\n> Reset password\n```\n\n说明：执行此命令后请根据提示信息选择修改密码。\n\n#### 查看日志\n\n```Bash\n./node.sh log\n```\n\n#### 停止服务\n\n```Bash\n./node.sh stop\n```\n\n#### 手动检查环境\n\n```Bash\n./node.sh check\n```\n\n#### 命令帮助\n\n```Bash\n./node.sh help\n```\n\n## 4. MPC Node回调机制\n\nMPC Node 启动后，会自动和 Sinohope 后台建立长链接，用于接收 Sinohope 后台下发的任务，默认情况下，MPC Node没有启用回调机制，MPC Node 会自动完成所有任务的执行；\n\n如果配置为启用回调机制，客服需要自己开发一个回调验证服务，用于验证Sinohope下发的任务是否合理，最终决定是否配合Sinohope完成签名。\n\n回调服务的开发，可参考Sinohope 提供的回调服务示例：[GitHub - sinohope/mpc-node-callback-demo](https://github.com/sinohope/mpc-node-callback-demo)\n\n### 4.1 配置回调验证服务\n\n在部署回调服务器的主机上需要进行一些初始化的配置工作，具体步骤如下：\n\n- 生成回调服务器的 ECDSA 私钥\n\n```Go\nopenssl ecparam -genkey -name prime256v1 -out private_key.pem\n```\n\n- 导出回调服务器的 ECDSA 公钥\n\n```Go\nopenssl ec -in private_key.pem -pubout -out callback_server_public.pem\n```\n\n- 将导出的 ECDSA 公钥（即  callback_server_public.pem 文件）复制到 MPC Node 所在机器，并在 MPC Node 配置文件中指定callback_server_public.pem文件位置：\n\n```TOML\n[callback]\nretry-times = 60\nsleep-seconds = 60\n[[callback.server]]\n  address = \"http://127.0.0.1:9090/v1/check\"\n  public-key-path = \"./callback_server_public.pem\"\n```\n\n- 将 MPC Node 的 ECDSA 公钥复制到回调服务器相关配置文件中\n\n如何获取 MPC Node 的 ECDSA 公钥： \n\n- 在 MPC Node 完成初始化后，可以通过如下命令查询 MPC Node 的 ECDSA 公钥：\n\n```TOML\n./node.sh info\n```\n\n- 示例输出：\n\n```TOML\n./node.sh info\n? Enter password: ********\n2023/08/18 10:23:59 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:23:59 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n其中的 callback public key 即为 MPC Node 的 ECDSA 公钥。\n\n### 4.2 开发回调验证服务\n\n#### 4.2.1 签名与验签\n\nMPC Node与回调服务之间的数据通过各自的ECDSA私钥生成签名，然后对方使用提前配置好的公钥根据指定的规则进行验签，只有签验通过才可以认为是合法的请求。\n\n以下是当前MPC Node与回调服务之间通信的数据结构，请注意不要随意更改字段先后顺序。\n\nRequest:\n\n```Go\ntype Check struct {\n    CallbackId    string `json:\"callback_id,omitempty\"`\n    RequestType   string `json:\"request_type,omitempty\"`\n    RequestDetail `json:\"request_detail,omitempty\"`\n    ExtraInfo     `json:\"extra_info,omitempty\"`\n}\n\ntype RequestDetail struct {\n    T            int      `json:\"t,omitempty\"`\n    N            int      `json:\"n,omitempty\"`\n    Cryptography string   `json:\"cryptography,omitempty\"`\n    PartyIds     []string `json:\"party_ids,omitempty\"`\n\n    PublicKey   string `json:\"public_key,omitempty\"`\n    Path        string `json:\"path,omitempty\"`\n    Message     string `json:\"message,omitempty\"`\n    Coin        string `json:\"coin,omitempty\"`\n    FromAddress string `json:\"from_address,omitempty\"`\n    ToAddress   string `json:\"to_address,omitempty\"`\n    Amount      string `json:\"amount,omitempty\"`\n    Fee         string `json:\"fee,omitempty\"`\n    GasPrice    string `json:\"gas_price,omitempty\"`\n    GasLimit    string `json:\"gas_limit,omitempty\"`\n    Signature   string `json:\"signature,omitempty\"`\n}\n\ntype ExtraInfo struct {\n    SinoId    string `json:\"sino_id,omitempty\"`\n    RequestId string `json:\"request_id,omitempty\"`\n}\n```\n\nResponse:\n\n```Go\ntype Response struct {\n    Status    string        `json:\"status,omitempty\"`\n    Error     string        `json:\"error,omitempty\"`\n    Data      *ResponseData `json:\"data,omitempty\"`\n    Signature string        `json:\"signature,omitempty\"`\n}\n\ntype ResponseData struct {\n    CallbackId string `json:\"callback_id,omitempty\"`\n    SinoId     string `json:\"sino_id,omitempty\"`\n    RequestId  string `json:\"request_id,omitempty\"`\n    Action     string `json:\"action,omitempty\"`\n    WaitTime   string `json:\"wait_time,omitempty\"`\n}\n```\n\n##### 1、 生成Request签名\n\n- MPC Node根据请求的类型构造Check结构体；\n- 将构造好的Check结构体进行json序列化，得到Message；\n- MPC Node使用自己的ECDSA私钥对Message签名，得到Signature；\n- MPC Node将Signature设置到本次HTTP请求头中，Key为Sigature；\n\n##### 2、Request签名验签\n\n- 回调服务使用Check结构体解析MPC Node的HTTP请求，得到本次请求的Check数据；\n- 回调服务将得到的Check数据进行json序列化，得到待验签的Message；\n- 回调服务从HTTP请求中得到Signature，然后结合Mesage和提前配置好的MPC Node公钥对Signature进行验签；\n\n##### 3、生成Response签名\n\n- 回调服务根据自身的决策生成上述Response，并在Response.Data中填充相应的字段；\n- 回调服务对Response.Data进行json序列化，得到Message；\n- 回调服务使用自身的ECDSA私钥对Message签名，得到Signature，并将Signature赋值给Response.Signature字段；\n\n##### 4、Response签名验签\n\n- MPC Node得到回调服务的Response，并对Response.Data字段进行json序列化得到Message；\n- MPC Node结合Message和提前配置好的回调服务公钥对Response.Signature进行验签；\n\n#### 4.2.2 check\n\n每次keygen和sign业务mpc-node都会通过check接口请求用户进行风控，只有回调服务明确回复Approve时相关业务才允许开始。\n\n##### 1、HTTP 接口\n\n> path: /v1/check\n\n> method: post\n\n> body: JSON编码的数据\n\n##### 2、Request\n\n| 参数           | 类型   | 描述                                                         |\n| -------------- | ------ | ------------------------------------------------------------ |\n| callback_id    | string | 回调请求唯一ID                                               |\n| request_type   | string | 回调请求是字符串类型，有以下两种取值：keygen、sign           |\n| request_detail | struct | 回调请求详细信息，包括请求的一系列关键信息。不同的回调请求类型对应不同的 request_detail 结构；格式为 JSON 序列化后的字符串 |\n| extra_info     | struct | 回调请求辅助信息，包括请求的一些额外相关信息；不同的回调请求类型对应不同的 extra_info 结构；格式为 JSON 序列化后的字符串 |\n\n- 当`request_type == keygen`时，`request_detail` 的结构定义如下：\n\n| 参数         | 类型     | 描述                                          |\n| ------------ | -------- | --------------------------------------------- |\n| threshold    | int      | 签名阈值                                      |\n| party_ids    | []string | 参与生成私钥的节点ID集合                      |\n| cryptography | string   | 使用的签名算法。ecdsa-secp256k1/eddsa-ed25519 |\n\n`extra_info` 的结构定义如下：\n\n| 参数        | 类型   | 描述                                                         |\n| ----------- | ------ | ------------------------------------------------------------ |\n| callback_id | string | MPC Node每次请求时生成的唯一ID                               |\n| sino_id     | string | Sinohope 内部 keygen 请求唯一 ID                             |\n| request_id  | string | 用户通过 WaaS 接口传入的请求 ID，如果请求非 WaaS 接口，Cobo 内部会自动生成 |\n\n- 当 `request_type == sign` 时，`request_detail` 的结构定义如下：\n\n| 参数       | 类型     | 描述                 |\n| ---------- | -------- | -------------------- |\n| public_key | string   | 根公钥               |\n| party_id   | []string | 参与签名时的节点列表 |\n| path       | string   | 使用的bip32path列表  |\n| message    | string   | 待签名的消息         |\n\n`extra_info` 的结构定义如下：\n\n| 参数         | 类型   | 描述                                                         |\n| ------------ | ------ | ------------------------------------------------------------ |\n| sign_type    | string | 待签名的交易类型：1、普通交易；2、EIP191/EIP712消息签名；3、RawData签名；       |\n| public_key   | string | 根公钥对应的public key                                       |\n| path         | string | bip32派生路径                                                |\n| message      | string | 待签名的消息                                                 |\n| coin         | string | 资产名称                                                     |\n| decimal      | string | 币种精度                                                     |\n| from_address | string | 资产出账地址                                                 |\n| to_address   | string | 提币到账地址                                                 |\n| amount       | string | （非必需）交易数额，请注意，这里的数值包含小数位，例如 BTC decimal 为8位，则这里的 100000000 实际为 1 个 BTC |\n| fee          | string | （非必需）对于 BTC 交易，该字段表示每字节对应的手续费，单位为 satoshi |\n| gas_price    | string | （非必需）燃料价格，ETH 类型账号模型适用，单位为 GWei        |\n| gas_limit    | string | （非必需）燃料上限，ETH 类型账号模型适用                     |\n\n##### 3、Response\n\n| 参数   | 类型   | 描述                                                         |\n| ------ | ------ | ------------------------------------------------------------ |\n| status | string | 状态码，当状态码为 0 时，表明回调服务器正常执行；当状态码为其他值时，表明回调服务器执行过程中出现了一些异常情况 |\n| error  | string | 错误信息；当 status 返回值不是 0 时，代表回调服务器内部出现的错误信息；当 status 为 0，且风控结果为 REJECT 时，代表具体的风控拒绝信息。 |\n| data   | json   | 请求的结果数据                                               |\n\ndata结构\n\n| 参数        | 类型   | 描述                                                         |\n| ----------- | ------ | ------------------------------------------------------------ |\n| callback_id | string | 本次请求的callback_id                                        |\n| sino_id     | string | 本次请求的sino_id                                            |\n| request_id  | string | 本次请求的request_id                                         |\n| action      | string | 本次请求的处理结果： Approve: 允许 Reject: 拒绝 Wait: 等待后重试 |\n| wait_time   | string | 当action为Wait时，此字段用于指示MPC Node需要等待的时间，单位为秒 |\n\n#### 4.2.3 rawdata_signature\n\n该接口用于上报用户自定义的消息的签名结果，只有当sign业务的sign_type为`2`或`3`时且MPC Node签名成功后才会向回调服务上报原始的消息和签名结果。\n\n##### 1、HTTP接口\n\n> path: /v1/rawdata_signature\n\n> method: post\n\n> body: JSON编码的数据\n\n##### 2、 Request\n\n| 参数           | 类型   | 描述                                                         |\n| -------------- | ------ | ------------------------------------------------------------ |\n| callback_id    | string | 回调请求唯一ID                                               |\n| request_detail | struct | 回调请求详细信息，包括请求的一系列关键信息。不同的回调请求类型对应不同的 request_detail 结构；格式为 JSON 序列化后的字符串 |\n\nrequest_defailt内容如下：\n\n| 参数      | 类型   | 描述             |\n| --------- | ------ | ---------------- |\n| message   | string | 原始待签名的消息 |\n| signature | string | 签名结果         |\n\n##### 3、Response\n\n| 参数   | 类型   | 描述                                                         |\n| ------ | ------ | ------------------------------------------------------------ |\n| status | string | 状态码，当状态码为 0 时，表明回调服务器正常执行；当状态码为其他值时，表明回调服务器执行过程中出现了一些异常情况 |\n| error  | string | 错误信息；当 status 返回值不是 0 时，代表回调服务器内部出现的错误信息。 |\n\n"},"postman":{"name":"根据sinoIds查询交易列表","description":{"type":"text/plain"},"url":{"path":["v1","waas","mpc","transaction","transactions_by_sino_ids"],"host":["{{baseUrl}}"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}}}}
sidebar_class_name: "post api-method"
info_path: docs/develop/mpc-waas-api/sinohope-waas-api
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## 根据sinoIds查询交易列表



根据sinoIds查询交易列表

<MimeTabs><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"sinoIds"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"通过sinoId查询获取已确认交易记录列表，sinoid是sinohope唯一标识交易id，以逗号分割，不能为空且不能大于50个","example":"1,2,3,4"}}></SchemaItem></ul></details></TabItem></MimeTabs><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

successful operation

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","example":200}}></SchemaItem><SchemaItem collapsible={false} name={"msg"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":""}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>data</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

交易记录列表

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"sinoId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Sinohope对交易的唯一标识","example":"2"}}></SchemaItem><SchemaItem collapsible={false} name={"assetId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"资产Id","example":"ETH_ETH"}}></SchemaItem><SchemaItem collapsible={false} name={"assetName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"资产名称","example":"ETH"}}></SchemaItem><SchemaItem collapsible={false} name={"chainSymbol"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"链简称","example":"ETH"}}></SchemaItem><SchemaItem collapsible={false} name={"chainName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"链名称","example":"Ethereum"}}></SchemaItem><SchemaItem collapsible={false} name={"txDirection"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"交易方向类型 1充值 2提现","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"txType"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"交易类型。对于以太坊，可能的交易类型为：0 - legacy，1 - EIP2930，2 - EIP1559","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"decimal"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"精度","example":18}}></SchemaItem><SchemaItem collapsible={false} name={"coinDecimals"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"链对应的主币的精度","example":18}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>transaction</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

交易信息

</div><SchemaItem collapsible={false} name={"txHash"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易hash","example":"ee506b40220af3692be8b84a95a6e02d956164007d875812c1be26b594c2c27a"}}></SchemaItem><SchemaItem collapsible={false} name={"from"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"from地址","example":"0xc9cf7d652a036d65b3392dfcabc3d3c332082558"}}></SchemaItem><SchemaItem collapsible={false} name={"fromTag"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"from地址tag","example":"12300"}}></SchemaItem><SchemaItem collapsible={false} name={"to"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"to地址","example":"0xca1b41bc3c4ffa88e3a31bff85e3289ec375d138"}}></SchemaItem><SchemaItem collapsible={false} name={"toTag"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"to地址tag","example":"1001"}}></SchemaItem><SchemaItem collapsible={false} name={"amount"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"金额：最小精度的整数值 例如：1230000000000000000","example":"1230000000000000000"}}></SchemaItem><SchemaItem collapsible={false} name={"asset"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"资产id","example":"ETH"}}></SchemaItem><SchemaItem collapsible={false} name={"feeAsset"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"手续费资产","example":"ETH"}}></SchemaItem><SchemaItem collapsible={false} name={"usedFee"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"真实消耗的手续费，最小精度的整数值","example":"21000000000000"}}></SchemaItem><SchemaItem collapsible={false} name={"fee"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"构造交易时赋予的手续费","example":"30000000000000"}}></SchemaItem><SchemaItem collapsible={false} name={"feePrice"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"手续费Price","example":"1000000000"}}></SchemaItem><SchemaItem collapsible={false} name={"feeStep"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"手续费Step （在evm兼容链中即 gas）","example":"30000"}}></SchemaItem><SchemaItem collapsible={false} name={"state"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"交易状态  21-交易已签名待上链 2-交易上链中 4-广播失败 5-交易上链失败 6-广播网络超时 10-交易上链成功 11-交易上链回滚","example":10}}></SchemaItem><SchemaItem collapsible={false} name={"nonce"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易nonce","example":"2"}}></SchemaItem><SchemaItem collapsible={false} name={"chainId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"链id","example":"2"}}></SchemaItem><SchemaItem collapsible={false} name={"timestamp"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"交易时间","example":1691500614}}></SchemaItem><SchemaItem collapsible={false} name={"note"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易文本","example":""}}></SchemaItem><SchemaItem collapsible={false} name={"currentTime"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"当前时间","example":1691500611}}></SchemaItem><SchemaItem collapsible={false} name={"expireTime"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"有效时间","example":1691500231}}></SchemaItem><SchemaItem collapsible={false} name={"expireBlockHeight"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"交易有效高度","example":6566009}}></SchemaItem><SchemaItem collapsible={false} name={"referBlockHeight"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"refer 高度","example":6566020}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>vin</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

utxo input, 当币种是utxo类型币种时，才有此参数

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"交易id","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"hash"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易hash","example":"a585a524c0f60d24d9c6bdebd47b94435d24e7f6181afbc1b6ba810d97cf0a77"}}></SchemaItem><SchemaItem collapsible={false} name={"voutIndex"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易index,代表当前未花费交易所在位置","example":"1"}}></SchemaItem><SchemaItem collapsible={false} name={"address"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易地址","example":"16tXHQkjcCPibB9eLnR4GUWPpcg3oasvDx"}}></SchemaItem><SchemaItem collapsible={false} name={"amount"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易金额","example":"123000"}}></SchemaItem><SchemaItem collapsible={false} name={"asset"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易资产","example":"BTC"}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>vout</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

交易output, 当币种是utxo类型币种时，才有此参数

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"asset"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易资产","example":"BTC"}}></SchemaItem><SchemaItem collapsible={false} name={"address"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易地址","example":"16tXHQkjcCPibB9eLnR4GUWPpcg3oasvDx"}}></SchemaItem><SchemaItem collapsible={false} name={"amount"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"交易金额","example":"123000"}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem></div></details></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"success"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"code\": 200,\n  \"msg\": \"\",\n  \"data\": [\n    {\n      \"sinoId\": \"2\",\n      \"assetId\": \"ETH_ETH\",\n      \"assetName\": \"ETH\",\n      \"chainSymbol\": \"ETH\",\n      \"chainName\": \"Ethereum\",\n      \"txDirection\": 1,\n      \"txType\": 0,\n      \"decimal\": 18,\n      \"coinDecimals\": 18,\n      \"transaction\": {\n        \"txHash\": \"ee506b40220af3692be8b84a95a6e02d956164007d875812c1be26b594c2c27a\",\n        \"from\": \"0xc9cf7d652a036d65b3392dfcabc3d3c332082558\",\n        \"fromTag\": \"12300\",\n        \"to\": \"0xca1b41bc3c4ffa88e3a31bff85e3289ec375d138\",\n        \"toTag\": \"1001\",\n        \"amount\": \"1230000000000000000\",\n        \"asset\": \"ETH\",\n        \"feeAsset\": \"ETH\",\n        \"usedFee\": \"21000000000000\",\n        \"fee\": \"30000000000000\",\n        \"feePrice\": \"1000000000\",\n        \"feeStep\": \"30000\",\n        \"state\": 10,\n        \"nonce\": \"2\",\n        \"chainId\": \"2\",\n        \"timestamp\": 1691500614,\n        \"note\": \"\",\n        \"currentTime\": 1691500611,\n        \"expireTime\": 1691500231,\n        \"expireBlockHeight\": 6566009,\n        \"referBlockHeight\": 6566020,\n        \"vin\": [\n          {\n            \"id\": 1,\n            \"hash\": \"a585a524c0f60d24d9c6bdebd47b94435d24e7f6181afbc1b6ba810d97cf0a77\",\n            \"voutIndex\": \"1\",\n            \"address\": \"16tXHQkjcCPibB9eLnR4GUWPpcg3oasvDx\",\n            \"amount\": \"123000\",\n            \"asset\": \"BTC\"\n          }\n        ],\n        \"vout\": [\n          {\n            \"asset\": \"BTC\",\n            \"address\": \"16tXHQkjcCPibB9eLnR4GUWPpcg3oasvDx\",\n            \"amount\": \"123000\"\n          }\n        ]\n      }\n    }\n  ],\n  \"success\": true\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>