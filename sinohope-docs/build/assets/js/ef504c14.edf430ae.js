"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[1318],{82930:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>h,contentTitle:()=>m,default:()=>y,frontMatter:()=>l,metadata:()=>M,toc:()=>N});var s=o(87462),t=(o(67294),o(3905)),a=o(26389),i=o(94891),d=(o(75190),o(47507)),r=o(24310),p=o(63303),c=(o(75035),o(85162));const l={id:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",title:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",description:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",sidebar_label:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",hide_title:!0,hide_table_of_contents:!0,api:{tags:["\u8d26\u6237&\u5730\u5740"],"x-codeSamples":[{lang:"python",label:"python",source:'request(\n  "POST",\n  "/v1/waas/mpc/is_valid_address/",\n  {\n    "assetId": "USDT_ETH",\n    "address": "0x67d0F791D950CdC25Ac44bA249328022f4df93b6"\n  },\n  api_key, host\n)\n'},{lang:"go",label:"go",source:'Request("POST", "/v1/waas/mpc/is_valid_address/", map[string]string{\n    "assetId": "USDT_ETH",\n    "address": "0x67d0F791D950CdC25Ac44bA249328022f4df93b6"\n})\n'}],requestBody:{content:{"application/json":{schema:{required:["address","assetId"],type:"object",properties:{assetId:{type:"string",description:"\u5e01\u79cd\u4ee3\u53f7 \u5e01\u6807\u8bc6 \u5177\u6709\u552f\u4e00\u6027",example:"USDT_ETH"},address:{type:"string",description:"\u5730\u5740",example:"0x67d0F791D950CdC25Ac44bA249328022f4df93b6"}}}}},required:!1},responses:{200:{description:"successful operation",content:{"application/json":{schema:{type:"object",properties:{code:{type:"integer",example:200},msg:{type:"string",example:""},data:{type:"object",properties:{isValid:{type:"boolean",description:"\u68c0\u67e5\u7ed3\u679c",example:!0}}},success:{type:"boolean"}}}}}}},"x-codegen-request-body-name":"root",description:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",extensions:[{key:"x-codegen-request-body-name",value:"root"}],method:"post",path:"/v1/waas/mpc/is_valid_address",servers:[{url:"https://api.sinohope.com/"},{url:"https://api-sandbox.sinohope.com/"}],jsonRequestBodyExample:{assetId:"USDT_ETH",address:"0x67d0F791D950CdC25Ac44bA249328022f4df93b6"},info:{title:"Sinohope WaaS API",version:"0.9.1",description:'\n# \u5f00\u59cb\u4f7f\u7528\n## \u5feb\u901f\u5f00\u59cb\n\n\u672c\u7ae0\u8282\u662f\u4e00\u4e2a\u5feb\u901f\u4f7f\u7528\u6559\u7a0b\uff0c\u5c06\u5e2e\u52a9\u60a8\u5feb\u901f\u4e86\u89e3\u5e76\u5f00\u59cb\u4f7f\u7528Sinohope WaaS\u670d\u52a1\u3002\n\n\u5ba2\u6237\u5728Sinohope\u5f00\u901a\u8d26\u6237\u65f6\uff0c\u5c06\u5141\u8bb8\u5206\u522b\u5f00\u901a\u201c\u6d4b\u8bd5\u7ec4\u7ec7\u201d \u548c \u201c\u6b63\u5f0f\u7ec4\u7ec7\u201d\uff0c\u5206\u522b\u4ee3\u8868\u6d4b\u8bd5\u73af\u5883\u548c\u6b63\u5f0f\u4f7f\u7528\u73af\u5883\u3002\n\u6d4b\u8bd5\u73af\u5883\u53ea\u652f\u6301\u5c11\u91cf\u7684\u6d4b\u8bd5\u94fe\uff0c\u4f9b\u8bd5\u7528\u3001\u96c6\u6210\u6d4b\u8bd5\u7b49\u7528\u9014\u4f7f\u7528\u3002\u672c\u6559\u7a0b\u4e3b\u8981\u662f\u5728\u6d4b\u8bd5\u73af\u5883\u4e0b\u4f7f\u7528\u3002\n\n\u672c\u6559\u7a0b\u4e3b\u8981\u6d89\u53ca\u4ee5\u4e0b\u4e8b\u9879\uff1a\n- \u5f00\u901a\u5e76\u767b\u5f55\u8d26\u6237\n- \u90e8\u7f72\u5e76\u914d\u7f6eMPC Node\n- \u521b\u5efa\u91d1\u5e93\n- \u521b\u5efa\u5e76\u914d\u7f6eAPI Key\n- \u57fa\u4e8eSDK\u5f00\u53d1\u96c6\u6210\n\n\n### \u5f00\u901a\u5e76\u767b\u5f55\u8d26\u6237\n\n\u8981\u5f00\u59cb\u4f7f\u7528Sinohope WaaS\u670d\u52a1\uff0c\u60a8\u9700\u8981\u8054\u7cfb[Sinohope](https://www.sinohope.com/)\u5f00\u901a\u7ec4\u7ec7\u8d26\u6237\uff0c\u4e4b\u540e\u5728 [web console](https://console.sinohope.com/user/login) \u754c\u9762\u57fa\u4e8e\u90ae\u7bb1\u6ce8\u518c\u60a8\u7684\u4e2a\u4eba\u8d26\u6237\u5e76\u767b\u5f55Sinohope\u4e3a\u60a8\u5f00\u901a\u7684\u7ec4\u7ec7\u3002\n\n### \u90e8\u7f72\u5e76\u914d\u7f6eMPC Node\n\nSinohope\u4f7f\u7528 MPC-TSS \u6280\u672f\u63d0\u4f9b WaaS \u670d\u52a1\uff0c\u5e76\u91c7\u7528 3-3 \u7684\u9608\u503c\u7b7e\u540d\u8bbe\u7f6e\uff0c\u5e73\u53f0\u6301\u67092\u7247\u79c1\u94a5\u5206\u7247\uff0c\u7528\u6237\u6301\u67091\u7247\u79c1\u94a5\u5206\u7247\u3002\n\nSinohope\u63d0\u4f9b MPC Node\u8f6f\u4ef6\uff0c\u7531\u5ba2\u6237\u90e8\u7f72\u8fd0\u884c\uff0c\u7528\u4e8e\u7ba1\u7406\u5c5e\u4e8e\u7528\u6237\u7684\u79c1\u94a5\u5206\u7247\u3002\u8981\u914d\u7f6e MPC Node\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e8b\u9879\uff1a\n\n1. \u51c6\u5907\uff1a\u5f00\u901aSinohope WaaS \u8d26\u53f7\uff1b\u51c6\u5907\u597d\u90e8\u7f72\u73af\u5883\uff0c\u83b7\u53d6\u5e76\u9a8c\u8bc1 MPC Node \u5b89\u88c5\u5305\uff1b\n2. \u521d\u59cb\u5316\u8282\u70b9\uff0c\u751f\u6210\u8282\u70b9\u7684 Node ID \u548c \u90e8\u7f72\u56de\u8c03\u670d\u52a1\u6240\u9700\u7684\u8282\u70b9\u516c\u94a5\uff1b\n3. \uff08\u6309\u9700\uff09\u90e8\u7f72\u53ca\u914d\u7f6e\u60a8\u7684\u56de\u8c03\u670d\u52a1\uff1b\n4. \u7ed1\u5b9aMPC Node\uff0c\u767b\u5f55 web console \u914d\u7f6e MPC Node\uff0c\u5c06\u60a8\u7684 Node ID \u4e0e\u60a8\u7684\u7ec4\u7ec7\u8d26\u53f7\u7ed1\u5b9a\uff1b\n5. \u542f\u52a8MPC Node\uff0c\u8282\u70b9\u5c06\u6301\u7eed\u8fd0\u884c\uff0c\u5e76\u81ea\u52a8\u6309\u9700\u9a71\u52a8MPC\u534f\u8bae\u7684\u8fd0\u884c\uff0c\u5176\u4e2d\uff0c\u7a0d\u7b49\u7247\u523b\u5c06\u53ef\u5b8c\u6210DKG\uff0c\u4e4b\u540e\u5728 Web Console MPC Node\u7ba1\u7406\u754c\u9762\u5c06\u770b\u5230 \u201ckey share \u72b6\u6001\u201d\u4e3a\u201c\u5df2\u751f\u6210\u201d\u3002\n6. \u91cd\u8981\uff1a\u5b89\u5168\u59a5\u5584\u5907\u4efd MPC Node \u672c\u5730\u6570\u636e\u5e93\u6587\u4ef6\uff01\n\n> \u8be6\u89c1 [MPC Node\u4f7f\u7528\u6307\u5357](#section/MPC-Node) \u7ae0\u8282\u3002\n\n### \u521b\u5efa\u91d1\u5e93\n\nSinohope \u91c7\u7528\u5206\u5c42\u7ed3\u6784\u7ba1\u7406\u7ec4\u7ec7\u5185\u7684\u94fe\u5730\u5740\uff0c\u5305\u62ec\u56db\u4e2a\u5c42\u7ea7\uff1a\u6839\u5bc6\u94a5\u3001\u91d1\u5e93\u3001\u94b1\u5305\u3001\u5404\u4e2a\u94fe\u4e0a\u7684\u5730\u5740\u3002\n\n\u5728 WaaS\u670d\u52a1\u4e2d\uff0c\u91d1\u5e93\u9700\u8981\u5728Web console\u7ba1\u7406\u754c\u9762\u4eba\u5de5\u521b\u5efa\uff0c\u4e4b\u540e\uff0c\u94b1\u5305\u3001\u94fe\u4e0a\u5730\u5740 \u5747\u9700\u901a\u8fc7API\u5b8c\u6210\u521b\u5efa\u3002\n\n\u5728 \u201cwaas\u94b1\u5305\u201d\u754c\u9762\uff0c\u901a\u8fc7\u201c\u521b\u5efa\u91d1\u5e93\u201d \u529f\u80fd\u5373\u53ef\u5b8c\u6210\u91d1\u5e93\u521b\u5efa\u3002\n\n\u5728\u94b1\u5305\u3001\u5730\u5740\u7684\u5e94\u7528\u6a21\u5f0f\u65b9\u9762\uff0c\u6709\u4e24\u79cd\u6a21\u5f0f\u53ef\u4f9b\u60a8\u53c2\u8003\uff0c\u5177\u4f53\u5e94\u8be5\u7ed3\u5408\u60a8\u7684\u4e1a\u52a1\u800c\u5b9a\uff1a\n\n1. \u4e3a\u60a8\u7684\u6bcf\u4e2a\u4e1a\u52a1/\u7ec8\u7aef\u7528\u6237 \u5206\u914d\u4e00\u4e2a\u591a\u94fe\u94b1\u5305\uff1b\u5728\u8fd9\u79cd\u6a21\u5f0f\u4e0b\uff0c\u5bf9\u94fe\u4e0a\u5730\u5740\u7684\u7ba1\u7406\u5c06\u4f1a\u66f4\u52a0\u96c6\u4e2d\uff0c\u4e1a\u52a1/\u7ec8\u7aef\u7528\u6237 \u4e4b\u95f4\u53ef\u4ee5\u6709\u8f83\u6e05\u6670\u7684\u5212\u5206\u3002\n2. \u53ea\u4f7f\u7528\u4e00\u4e2a\u591a\u94fe\u94b1\u5305\uff0c\u5728\u8be5\u94b1\u5305\u4e0b\u6309\u9700\u521b\u5efa\u5e76\u4e3a\u4e1a\u52a1/\u7ec8\u7aef\u7528\u6237 \u5206\u914d\u94fe\u4e0a\u5730\u5740\u3002\u6b64\u79cd\u6a21\u5f0f\u4e0b\uff0c\u76f4\u63a5\u7ba1\u7406\u6700\u7ec8\u7684\u94fe\u4e0a\u5730\u5740\uff0c\u66f4\u63a5\u8fd1\u4e8e\u4f20\u7edf\u7684\u5730\u5740\u7ba1\u7406\u65b9\u5f0f\u3002\n\n\n### \u521b\u5efa\u5e76\u914d\u7f6eAPI Key\n\n\u5f53\u524d\uff0c\u9700\u8981\u5bf9\u6bcf\u4e2a\u91d1\u5e93\u8fdb\u884c\u72ec\u7acb\u914d\u7f6e\uff0c\u5305\u62ec API Key\u8bbe\u7f6e\u3001\u56de\u8c03\u8bbe\u7f6e\u3001\u9ad8\u7ea7\u529f\u80fd\u5f00\u5173\u8bbe\u7f6e \u7b49\u3002\n\n\u60a8\u9700\u8981\u521b\u5efa\u4e00\u5bf9 ECDSA \u5bc6\u94a5\u5bf9\u7528\u4e8eWaaS API\u8bf7\u6c42\u9274\u6743\u3002\u60a8\u53ef\u901a\u8fc7 Sinohope \u5b98\u65b9SDK\uff0c\u6216\u8005\u5982\u4e0bjava \u793a\u4f8b\u6765\u521b\u5efa\u60a8\u7684\u5bc6\u94a5\u5bf9\uff1a\n\n```java\nimport org.nhex.sinohope.sign.api.ECDSA;\n\nECDSA ecdsa = new ECDSA(SECP256R1);\nKeyPair keyPair = ecdsa.generateKeyPair();\nString publicKey = Hex.toHexString(keyPair.getPublic().getEncoded());\nString privateKey = Hex.toHexString(keyPair.getPrivate().getEncoded());\nSystem.out.println("publicKey = " + publicKey);\nSystem.out.println("privateKey = " + privateKey);\n```\n\n\u5176\u4e2d\uff0c\u79c1\u94a5 `privateKey`\u7531\u60a8\u81ea\u5df1\u59a5\u5584\u4fdd\u7ba1\u5e76\u914d\u7f6e\u5230\u60a8\u7684\u4e1a\u52a1\u7cfb\u7edf\u4e2d\uff0c\u4ee3\u8868\u60a8\u7684\u8eab\u4efd\uff0c\u7528\u4e8e\u505aAPI\u8bf7\u6c42\u7b7e\u540d\uff1b\u516c\u94a5`publicKey` \u5373 API Key\uff0c\u9700\u8981\u60a8\u901a\u8fc7Sinohope web console\u7ba1\u7406\u754c\u9762\uff0c\u914d\u7f6e\u5230\u60a8\u7684\u91d1\u5e93\u4e2d\uff0c\u4ece\u800c\u7ed1\u5b9a\u5176API\u8bbf\u95ee\u6743\u9650\u3002\n\n> \u5173\u4e8e\u63a5\u53e3\u8bf7\u6c42\u7b7e\u540d\u53ca\u9a8c\u7b7e\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u201c[API \u8ba4\u8bc1](#section/\u5f00\u59cb\u4f7f\u7528/API)\u201d \u7ae0\u8282\u3002\n\n### \u57fa\u4e8eSDK\u5f00\u53d1\u96c6\u6210\n\nSinohope\u5c06\u63d0\u4f9b\u591a\u79cd\u8bed\u8a00\u7684SDK\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u96c6\u6210WaaS\u529f\u80fd\u3002SDK \u4e3b\u8981\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a\n\n- \u7edf\u4e00\u5c01\u88c5\u63a5\u53e3\u8bf7\u6c42\u7b7e\u540d\u5904\u7406\uff1b\n- \u5c01\u88c5API\u63a5\u53e3\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u4ee5\u65b9\u6cd5\u8c03\u7528\u7684\u65b9\u5f0f\u5b8c\u6210\u5bf9WaaS API\u7684\u8bf7\u6c42\u3002\n\n\u5f53\u524d\u63d0\u4f9b\u7684SDK\uff1a[java sdk](https://github.com/sinohope/sinohope-java-api)\u3002\n\nJS\u3001Golang \u7b49\u5f00\u53d1\u8bed\u8a00\u7684SDK \u6b63\u5728\u8fdb\u884c\u4e2d\uff0c\u656c\u8bf7\u671f\u5f85\u3002\n\n\n# \u53c2\u6570\u53ca\u8fd4\u56de\u503c\u901a\u7528\u8bf4\u660e\n## \u7edf\u4e00\u7684\u8fd4\u56de\u503c\u7ed3\u6784\n| \u4ee3\u7801 | \u8bf4\u660e |\n| :-- |:---------------|\n| code | \u72b6\u6001\u8fd4\u56de\u4ee3\u7801\uff08\u6210\u529f\u8fd4\u56de200\uff09 |\n| msg | \u72b6\u6001\u8fd4\u56de\u63cf\u8ff0 |\n| data | \u54cd\u5e94\u7684\u6570\u636e |\n| success | \u8bf7\u6c42\u662f\u5426\u6210\u529f\uff08\u6210\u529f\u8fd4\u56detrue\uff0c\u5931\u8d25\u8fd4\u56defalse\uff09 |\n\n## \u5e38\u89c1\u9519\u8bef\u7801\u5b9a\u4e49\n\n\u5f53Sinohope WaaS \u670d\u52a1\u53d1\u751f\u9519\u8bef\u7684\u65f6\u5019\uff0c\u4f1a\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u7edf\u4e00\u683c\u5f0f\u7684\u6570\u636e\n\n\n- `200`: Successful response. Refer to each API for the detailed response data.\n- `400`: Return Bad Request.\n- `401`: Unauthorized. Either API details are missing or invalid\n- `403`: Forbidden - You do not have access to the requested resource.\n- `415`: Unsupported media type. You need to use application/json.\n- `500`: Exchange/Sinohope internal error.\n\n### \u7cfb\u7edf\u5c42\u9762\u9519\u8bef\n| \u9519\u8bef\u7801 | \u63cf\u8ff0 |\n| :-- |:---------------|\n| 1001 | \u672a\u77e5\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb Sinohope \u5ba2\u670d |\n| 1002 | \u91cd\u590d\u7684\u8bf7\u6c42 |\n| 1004 | APIKey \u9519\u8bef |\n| 1005 | \u9a8c\u7b7e\u5931\u8d25 |\n| 1006 | IP \u8c03\u7528\u9891\u7387\u53d7\u9650 |\n| 1007 | \u65e0\u63a5\u53e3\u6743\u9650 |\n| 1008 | \u65e0\u6548\u7684ip\u5730\u5740 |\n| 1009 | \u7b7e\u540d\u8bf7\u6c42\u5934\u4e0d\u80fd\u4e3a\u7a7a |\n| 1010 | \u65f6\u95f4\u6233\u8bf7\u6c42\u5934\u4e0d\u80fd\u4e3a\u7a7a |\n| 1011 | \u8bf7\u6c42\u670d\u52a1\u63a5\u53e3\u5f02\u5e38 |\n| 1012 | \u65e0\u6548\u7684\u4e1a\u52a1\u8bf7\u6c42\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u6709\u5bf9\u5e94\u4e1a\u52a1\u8bf7\u6c42\u5934 |\n| 1013 | \u7b7e\u540d\u5931\u8d25 |\n| 1014 | \u4e0d\u652f\u6301\u7684\u8bf7\u6c42\u7c7b\u578b(\u4ec5\u652f\u6301GET\u3001POST) |\n| 1015 | \u7f3a\u5c11\u7b7e\u540d\u53c2\u6570 |\n\n### \u53c2\u6570\u5c42\u9762\u9519\u8bef\n| \u9519\u8bef\u7801 | \u63cf\u8ff0 |\n| :-- |:---------------|\n| 2001 | \u5e01\u79cd\u6682\u4e0d\u652f\u6301 |\n| 2002 | \u94fe\u6682\u4e0d\u652f\u6301 |\n| 2003 | \u8f93\u5165\u5730\u5740\u65e0\u6548 |\n| 2004 | \u4ea4\u6613\u8bb0\u5f55\u4e0d\u5b58\u5728 |\n| 2005 | \u65e0\u6743\u9650 |\n| 2006 | \u8f6c\u8d26\u4fe1\u606f\u5f02\u5e38 \uff08kyt\u6821\u9a8c\u4e0d\u901a\u8fc7\uff09 |\n| 2007 | \u77ff\u5de5\u8d39\u8fc7\u4f4e |\n| 2008 | To\u5730\u5740\u975e\u5185\u90e8\u5730\u5740 \uff08\u8f6c\u8d26\u4fdd\u62a4\uff09 |\n| 2009 | \u4f59\u989d\u4e0d\u8db3\u4ee5\u652f\u4ed8\u8f6c\u8d26\u6570\u91cf\u548cGas\u8d39 |\n| 2010 | gas\u4e0d\u8db3 \uff08token\u8f6c\u8d26\uff09 |\n| 2011 | \u53ef\u7528\u4f59\u989d\u4e0d\u8db3 \uff08token\u8f6c\u8d26\uff09 |\n| 2012 | \u540d\u79f0\u4e2d\u4e0d\u80fd\u5305\u542b\u53cd\u659c\u6760 |\n| 2013 | \u672a\u627e\u5230path\u5bf9\u5e94\u5730\u5740 |\n| 2097 | \u9875\u9875\u6570\u9519\u8bef pageIndex >=1 |\n| 2098 | \u5206\u9875\u6570\u91cf\u9519\u8bef pageSize <=50 |\n| 2099 | \u5fc5\u987b\u53c2\u6570\u7f3a\u5931 |\n| 2100 | pageSize\u5fc5\u987b\u5927\u4e8e0 |\n| 2101 | \u6307\u5b9a\u7684\u94b1\u5305\u4e0d\u5b58\u5728 |\n| 2102 | \u6307\u5b9a\u7684\u8d44\u4ea7\u4e0d\u5b58\u5728 |\n| 2103 | \u6307\u5b9a\u7684\u94fe\u6807\u8bc6\u4e0d\u5b58\u5728 |\n| 2104 | \u6307\u5b9a\u7684\u91d1\u5e93\u4e0d\u5b58\u5728 |\n| 2105 | page size exceeds maximum limit(50) |\n| 2106 | \u751f\u6210\u94fe\u5730\u5740\u5355\u5b50\u6700\u5927\u4e2a\u6570\u8d85\u9650\uff0850\uff09 |\n| 2107 | pageIndex\u6700\u5c0f\u4e3a1 |\n| 2108 | \u53c2\u6570\u7c7b\u578b\u9519\u8bef |\n| 2109 | advancedEnabled must be 0 or 1 |\n| 2110 | algorithmType must be 0 or 1 |\n| 2111 | requestId total cannot be greater than 50 |\n| 2112 | sinoId total cannot be greater than 50 |\n| 2113 | signAlgorithm must in \'personal_sign\u3001signTypedData\u3001 eth_signTypedData_v3\u3001eth_signTypedData_v4\' |\n| 2114 | The length of requestId is too long, the maximum is 120 |\n| 2115 | message \u683c\u5f0f\u9519\u8bef\uff0c\u6216\u8005signAlgorithm\u53c2\u6570\u9519\u8bef |\n| 2116 | \u94b1\u5305\u4e0e\u7ec4\u7ec7\u4fe1\u606f\u4e0d\u5339\u914d |\n| 2117 | \u94b1\u5305\u4e0e\u91d1\u5e93\u4fe1\u606f\u4e0d\u5339\u914d |\n| 2118 | \u91d1\u5e93\u4e0e\u7ec4\u7ec7\u4fe1\u606f\u4e0d\u5339\u914d |\n\n### \u4e1a\u52a1\u5c42\u9762\u9519\u8bef\n| \u9519\u8bef\u7801 | \u63cf\u8ff0 |\n| :-- |:---------------|\n| 4001 | \u7ec4\u4ea4\u6613\u5931\u8d25 |\n| 4002 | \u5e7f\u64ad\u5931\u8d25 |\n| 4003 | \u4e0d\u652f\u6301\u52a0\u901f\u7684\u5e01\u79cd |\n| 4004 | \u52a0\u901f\u4ea4\u6613\u5df2\u4e0a\u94fe\u6216nonce\u5df2\u88ab\u5360\u7528 |\n| 4005 | \u53d6\u6d88\u4ea4\u6613\u5df2\u4e0a\u94fe\u6216nonce\u5df2\u88ab\u5360\u7528 |\n| 4006 | MPC Node \u672a\u7ed1\u5b9a |\n| 4007 | MPC Node \u672aDKG |\n| 4008 | \u540c\u4e00\u91d1\u5e93\u4e0d\u80fd\u591f\u540c\u65f6\u53d1\u8d77\u521b\u5efa\u94b1\u5305\u64cd\u4f5c |\n| 4009 | \u540c\u4e00\u91d1\u5e93\u4e0b\u94b1\u5305\u540d\u79f0\u4e0d\u80fd\u76f8\u540c |\n| 4010 | \u521b\u5efa\u94b1\u5305\u6570\u91cf\u548c\u81ea\u5b9a\u4e49\u94b1\u5305list\u4e0d\u4e00\u81f4 |\n| 4011 | \u94b1\u5305\u6570\u91cf\u9650\u989d |\n\n## \u6570\u636e\u5b57\u5178\n### \u4ea4\u6613\u624b\u7eed\u8d39\u8d39\u7387\u7b49\u7ea7\n| \u5b57\u5178\u7801 | \u63cf\u8ff0 |\n| :-- |:---------------|\n| LOW | \u4f4e |\n| MIDDLE | \u4e2d |\n| HIGH | \u9ad8 |\n\n### \u4ea4\u6613\u72b6\u6001\n| \u5b57\u5178\u7801 | \u63cf\u8ff0 |\n| :-- |:---------------|\n| 0 | \u4ea4\u6613\u5f85\u4e8c\u6b21\u786e\u8ba4 |\n| 1 | \u4ea4\u6613\u5f85\u7b7e\u540d |\n| 2 | \u4ea4\u6613\u4e0a\u94fe\u4e2d |\n| 4 | \u5e7f\u64ad\u5931\u8d25 |\n| 5 | \u4ea4\u6613\u4e0a\u94fe\u5931\u8d25 |\n| 6 | \u5e7f\u64ad\u7f51\u7edc\u8d85\u65f6 |\n| 10 | \u4ea4\u6613\u4e0a\u94fe\u6210\u529f |\n| 11 | \u4ea4\u6613\u94fe\u4e0a\u56de\u6eda |\n| 13 | \u4ea4\u6613\u62d2\u7edd |\n\n\n## \u672f\u8bed\u5b9a\u4e49\n### sinoId\n\u5bf9\u4e8e\u6d89\u53ca\u5230MPC\u79c1\u94a5\u5206\u7247\u7684\u4e1a\u52a1\uff0c\u5305\u62ec\u5f00\u53d1\u8005\u8bf7\u6c42\u7684\u4ea4\u6613\u53ca\u7b7e\u540d\u7c7b\u4e1a\u52a1\uff08\u5982\u53d1\u8d77\u4ea4\u6613\u3001\u53d1\u8d77\u7b7e\u540d\u7b49\uff09\uff0cSinohope\u5747\u4f1a\u7ed9\u8be5\u4e1a\u52a1\u4ea7\u751f\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\uff0c\u5373 sinoId\u3002\n\n### requestId\n\u5bf9\u4e8e\u9700\u8981\u5b9e\u73b0\u5e42\u7b49\u5904\u7406\u7684\u8bf7\u6c42\uff08\u5982\u53d1\u8d77\u8f6c\u8d26\uff09\uff0c\u8bf7\u6c42\u65b9\u9700\u8981\u4e3aAPI\u8bf7\u6c42\u63d0\u4f9b\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\uff0c\u5373 requestId\u3002requestId \u5e94\u5b9e\u73b0\u5168\u5c40\u552f\u4e00\u6027\uff0c\u5e76\u786e\u4fdd\u5bf9\u591a\u6b21\u63d0\u4ea4\u7684\u540c\u4e00\u4e2a\u4e1a\u52a1\u8bf7\u6c42\u4f7f\u7528\u540c\u4e00\u4e2arequestId\u3002**\u5141\u8bb8\u7684\u6700\u5927\u957f\u5ea6\u4e3a 120 \u4e2aASCII\u5b57\u7b26\u3002**\n\u5efa\u8bae\u4f7f\u7528 UUID \u6216\u96ea\u82b1\u7b97\u6cd5\u751f\u6210 requestId\u3002\n### chainSymbol\u7684\u89c4\u5219\n1\u3001chainSymbol\u662f\u94fe\u914d\u7f6e\u7684\u552f\u4e00\u6807\u8bc6\uff1b\n\n2\u3001\u533a\u5206\u6d4b\u8bd5\u7f51\u548c\u6b63\u5f0f\u7f51\uff1b\n\n3\u3001\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u547d\u540d\u3002\n\n> \u4f8b\u5982\uff1a \n> - \u4e3b\u7f51\u4f7f\u7528\u5e38\u89c1\u7b80\u79f0\uff0c\u5982`ETH`, `BTC` \u5206\u522b\u662f `Ethereum \u4e3b\u7f51`/ `Bitcoin\u4e3b\u7f51`\n> - \u5bf9\u4e8e\u6709\u7279\u5b9a\u540d\u5b57\u7684\u6d4b\u8bd5\u7f51\u4f7f\u7528\u5176\u6d4b\u8bd5\u7f51\u540d\u5b57\uff0c\u5982\u7528`GOERLI` \u8868\u793a`ETH Goerli \u6d4b\u8bd5\u7f51`\n> - \u5bf9\u4e8e\u65e0\u7279\u5b9a\u540d\u5b57\u7684\u6d4b\u8bd5\u7f51\uff0c\u4f7f\u7528`_TEST`\u52a0\u4ee5\u533a\u5206\uff0c\u5982 `BTC_TEST` \u8868\u793a `Bitcoin testnet3\u6d4b\u8bd5\u7f51`\n> - \u6ce8\u610f\uff1a\u7cfb\u7edf\u652f\u6301\u7684\u94fe\uff0c\u4ee5`/v1/waas/common/get_supported_chains`\u63a5\u53e3\u8fd4\u56de\u503c\u4e3a\u51c6\n\n### assetId\u7684\u89c4\u5219\n1\u3001assetId\u662fAsset\u914d\u7f6e\u8868\u552f\u4e00\u6807\u8bc6\uff1b\n\n2\u3001\u547d\u540d\u65b9\u5f0f\u524d\u5e01(coin)\u540e\u94fe(chain)\uff0c\u4e2d\u95f4\u4ee5\u4e0b\u5212\u7ebf\u5206\u9694\uff1b\n\n3\u3001\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u547d\u540d\u3002\n\n> \u4f8b\u5982\uff1aUSDT_GOERLI \u662f ETH Goerli \u6d4b\u8bd5\u7f51\u4e0a\u7684\u7684\u4e00\u4e2a USDT \u5e01\u79cd\n\n## \u6587\u6863\u53d8\u66f4\u8bb0\u5f55\n\n| Version | Log           | Date       | Modifier |\n| ---- | ------------- | ---------- | ------ |\n| v0.9.0 | first version | 2023-08-04 | Owen  |\n| v0.9.1 | add new sections,and fix some apis | 2023-08-22 | Owen  |\n\n\n# MPC Node\u4f7f\u7528\u6307\u5357\n\n## 1. Sinohope WaaS MPC\u6280\u672f\u7b80\u4ecb\n\n\u95e8\u9650\u7b7e\u540d\uff08Threshold Signature Scheme\uff0cTSS\uff09\u662f\u6570\u5b57\u7b7e\u540d\u7684\u4e00\u4e2a\u91cd\u8981\u5206\u652f\uff0c\u5b83\u662f\u4e00\u79cd\u57fa\u4e8e\u5b89\u5168\u591a\u65b9\u8ba1\u7b97\uff08Secure Multi-Party Computation\uff0cMPC\uff09\u7684\u5bc6\u7801\u5b66\u6280\u672f\uff0c\u4e5f\u662f MPC \u5bc6\u94a5\u7ba1\u7406\u7684\u91cd\u8981\u7814\u7a76\u65b9\u5411\u3002\n\nSinohope \u63a8\u51fa\u7684 WaaS\uff08Wallet as a Service\uff09\u662f\u4ee5MPC-TSS\u6280\u672f\u4e3a\u57fa\u7840\u7684\u94b1\u5305\u5373\u670d\u52a1\u65b9\u6848\u3002Sinohope WaaS\u670d\u52a1\u9700\u8981\u5ba2\u6237\u4e0e\u5e73\u53f0\u4ee5\u5206\u5e03\u5f0f\u534f\u4f5c\u7684\u65b9\u5f0f\uff0c\u5404\u81ea\u6301\u6709\u79c1\u94a5\u5206\u7247\uff0c\u57fa\u4e8e[MPC-CMP\u534f\u8bae](https://eprint.iacr.org/2021/060)\uff08ECDSA\uff09\u53ca[SS01\u534f\u8bae](https://link.springer.com/chapter/10.1007/3-540-47719-5_33#chapter-info)\uff08EdDSA\uff09\u5b9e\u73b0\u7531\u5ba2\u6237\u4e3b\u5bfc\u7684\u94fe\u4e0b\u591a\u65b9\u7b7e\u540d\u3002MPC Node \u662f Sinohope WaaS \u4e3a\u5ba2\u6237\u63d0\u4f9b\u7684\u4e13\u5c5e\u7a0b\u5e8f\u5305\uff0c\u7528\u4e8e\u7ba1\u7406\u5ba2\u6237\u81ea\u5df1\u7684\u79c1\u94a5\u5206\u7247\u3002\n\nSinohope \u91c7\u75283-3\u591a\u7b7e\u6a21\u5f0f\uff0c\u5ba2\u6237\u6301\u6709\u4e00\u4e2a\u79c1\u94a5\u5206\u7247\u3001Sinohope\u6301\u6709\u4e24\u4e2a\u79c1\u94a5\u5206\u7247\u3002\n\n- MPC Node 1\uff1aSinohope\u8d1f\u8d23\u7ba1\u7406\uff0c\u8be5 Node \u4f1a\u4e00\u76f4\u5728\u7ebf\u3002\n- MPC Node 2\uff1aSinohope\u8d1f\u8d23\u7ba1\u7406\uff0c\u8be5 Node \u4f1a\u4e00\u76f4\u5728\u7ebf\u3002\n- MPC Node 3\uff1a\u5ba2\u6237\u8d1f\u8d23\u7ba1\u7406\uff0c\u8be5 Node \u4ec5\u5728\u5904\u7406\u4e1a\u52a1\u9700\u8981\u65f6\u5728\u7ebf\u3002\n\n## 2. MPC Node\u90e8\u7f72\u5b9e\u65bd\n\n### 2.1 \u73af\u5883\u51c6\u5907\n\n#### 2.1.1 \u901a\u7528\u670d\u52a1\u5668\u73af\u5883\n\n\u901a\u7528\u670d\u52a1\u5668\u6307\u7684\u662f\u4e91\u670d\u52a1\u5668\u5546 EC\uff0c\u6216\u8005\u662f\u5ba2\u6237\u81ea\u4e3b\u8fd0\u7ef4\u7684\u670d\u52a1\u5668\u7269\u7406\u673a\u3002\n\n##### \u6700\u4f4e\u914d\u7f6e\n\n- CPU\uff1aAMD64 \u6216ARM64 \u67b6\u6784\uff0c2 \u6838\uff0c\u4e3b\u9891 2.0 GHz\n- \u5185\u5b58\uff1a4 G\n- \u786c\u76d8\uff1a64 G SSD\n- \u64cd\u4f5c\u7cfb\u7edf\uff1aUbuntu 20.04\u6216\u6700\u65b0\u3002 (\u6ce8\uff1a\u7406\u8bba\u4e0a\u652f\u6301\u6240\u6709\u53ef\u8fd0\u884cDocker\u7684\u7cfb\u7edf)\n\n##### \u63a8\u8350\u914d\u7f6e\n\n- CPU\uff1aAMD64 \u6216\u8005 ARM64 \u67b6\u6784\uff0c4 \u6838\u5fc3\uff0c\u4e3b\u9891 3.0 GHz\n- \u5185\u5b58\uff1a8 G\n- \u786c\u76d8\uff1a128 G SSD\n- \u64cd\u4f5c\u7cfb\u7edf\uff1aUbuntu 20.04\u6216\u6700\u65b0\u3002 (\u6ce8\uff1a\u7406\u8bba\u4e0a\u652f\u6301\u6240\u6709\u53ef\u8fd0\u884cDocker\u7684\u7cfb\u7edf)\n\n#### 2.1.2 \u7f51\u7edc\u8981\u6c42\n\n##### \u9632\u706b\u5899\u5165\u7ad9\u89c4\u5219\n\n- \u5f00\u653e443 \u7aef\u53e3\uff0cMPC Node\u670d\u52a1\u5411\u4f7f\u7528\u8005\u63d0\u4f9bhttps\u670d\u52a1\u3002\n- \u5728\u4e0d\u5f71\u54cd\u8fd0\u7ef4\u548c\u5b89\u5168\u7684\u60c5\u51b5\u4e0b\uff0c\u5176\u4ed6\u7aef\u53e3\u5168\u90e8\u5173\u6389\u3002\n\n##### \u9632\u706b\u5899\u51fa\u7ad9\u89c4\u5219\n\n- \u5b89\u88c5\u9636\u6bb5\uff1a\n  - \u53ef\u8bbf\u95ee apt \u6e90\uff0c\u4ee5\u5b89\u88c5\u57fa\u7840\u4f9d\u8d56\u5305\n  - \u53ef\u8bbf\u95ee docker \u5b89\u88c5\u6e90\uff0c\u4ee5\u5b89\u88c5 docker\n  - \u53ef\u8bbf\u95ee docker.io registry \u955c\u50cf\u4ed3\u5e93\n- \u670d\u52a1\u9636\u6bb5\uff1a\n  - \u53ef\u8bbf\u95ee\u5ba2\u6237\u914d\u7f6e\u7684 Callback \u56de\u8c03\u670d\u52a1\u5668\n  - \u53ef\u8bbf\u95eempc-proxy\uff0c\u7b7e\u540d\u65f6\u9700\u8981\u4e0e\u5176\u4ed6MPC Node\u901a\u4fe1\u3002\n  - \u5728\u4e0d\u5f71\u54cd\u8fd0\u7ef4\u548c\u5b89\u5168\u7684\u60c5\u51b5\u4e0b\uff0c\u5176\u4ed6\u51fa\u7ad9ip\u5168\u90e8\u5173\u6389\u3002\n\n#### 2.1.3 \u5b89\u88c5 Docker\n\n\u8bf7\u53c2\u8003[\u5b98\u65b9\u6587\u6863](https://docs.docker.com/engine/install/)\u5b89\u88c5Docker\u3002Sinohope MPC Node\u5b89\u88c5\u5305\u4e2d\u7684\u542f\u52a8\u811a\u672c\u6267\u884c\u65f6\uff0c\u4f1a\u81ea\u52a8\u68c0\u67e5Docker\u7684\u5b89\u88c5\u60c5\u51b5\uff0c\u5982\u679c\u672a\u5b89\u88c5\u65e0\u6cd5\u8fd0\u884c\u3002\n\n### 2.2 \u90e8\u7f72\u4e0e\u914d\u7f6e\n\n\u90e8\u7f72\u53ca\u914d\u7f6e MPC Node \u662f\u4f7f\u7528Sinohope WaaS \u670d\u52a1\u7684\u57fa\u7840\u8981\u6c42\u3002\u8bf7\u53c2\u8003\u5982\u4e0b\u6b65\u9aa4\u5b8c\u6210 MPC Node \u7684\u90e8\u7f72\u8fd0\u884c\uff1a\n\n1. \u51c6\u5907\uff1a\u5f00\u901aSinohope WaaS \u8d26\u53f7\uff1b\u51c6\u5907\u597d\u90e8\u7f72\u73af\u5883\uff0c\u83b7\u53d6\u5e76\u9a8c\u8bc1 MPC Node \u5b89\u88c5\u5305\uff1b\n2. \u521d\u59cb\u5316\u8282\u70b9\uff0c\u751f\u6210\u8282\u70b9\u7684 Node ID \u548c \u90e8\u7f72\u56de\u8c03\u670d\u52a1\u6240\u9700\u7684\u8282\u70b9\u516c\u94a5\uff1b\n3. \uff08\u6309\u9700\uff09\u90e8\u7f72\u53ca\u914d\u7f6e\u60a8\u7684\u56de\u8c03\u670d\u52a1\uff1b\n4. \u7ed1\u5b9aMPC Node\uff0c\u767b\u5f55 web console \u914d\u7f6e MPC Node\uff0c\u5c06\u60a8\u7684 Node ID \u4e0e\u60a8\u7684\u7ec4\u7ec7\u8d26\u53f7\u7ed1\u5b9a\uff1b\n5. \u542f\u52a8MPC Node\uff0c\u8282\u70b9\u5c06\u6301\u7eed\u8fd0\u884c\uff0c\u5e76\u81ea\u52a8\u6309\u9700\u9a71\u52a8MPC\u534f\u8bae\u7684\u8fd0\u884c\uff0c\u5176\u4e2d\uff0c\u7a0d\u7b49\u7247\u523b\u5c06\u53ef\u5b8c\u6210DKG\uff0c\u4e4b\u540e\u5728 Web Console MPC Node\u7ba1\u7406\u754c\u9762\u5c06\u770b\u5230 \u201ckey share \u72b6\u6001\u201d\u4e3a\u201c\u5df2\u751f\u6210\u201d\u3002\n6. \u2757\ufe0f\u2757\ufe0f\u91cd\u8981\uff1a\u5b89\u5168\u59a5\u5584\u5907\u4efd MPC Node \u672c\u5730\u6570\u636e\u5e93\u6587\u4ef6\uff01\n\n#### 2.2.1 \u83b7\u53d6\u5e76\u9a8c\u8bc1\u5b89\u88c5\u5305\n\n- \u8bf7\u8054\u7cfbSINOHOPE\u7684\u5de5\u4f5c\u4eba\u5458\uff0c\u83b7\u53d6\u8f6f\u4ef6\u5305\u201csinohope-mpc-node.tar.gz\u201d \u53ca\u5176 sha256 \u54c8\u5e0c\u503c\u3002\n- \u5c06\u8f6f\u4ef6\u5305\u4e0a\u4f20\u81f3\u60a8\u7684\u90e8\u7f72\u73af\u5883\u7684\u76ee\u6807\u76ee\u5f55\uff0c\u5728\u7ec8\u7aef\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5bf9\u6bd4\u8f6f\u4ef6\u5305\u7684hash\u503c\uff0c\u786e\u8ba4\u8f6f\u4ef6\u5305\u7684\u6b63\u786e\u6027\u3002\n\n```Bash\nshasum -a 256 sinohope-mpc-node.tar.gz\n```\n\n- \u89e3\u538b\u540e\u786e\u8ba4\u5185\u90e8\u6570\u636e\n\n```Bash\ntar -zxzf sinohope-mpc-node.tar.gz\n```\n\n- \u8f6f\u4ef6\u5305\u89e3\u538b\u540e\u6587\u4ef6\u7ed3\u6784\u5982\u4e0b\uff1a\n\n```Bash\nsinohope-mpc-node\n\u251c\u2500\u2500 config.toml \uff08\u9500\u552e\u4eba\u5458\u7ed9\u5230\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5305\u542b\u4e86\u4e0empc-proxy\u901a\u4fe1\u7684\u5b89\u5168\u4fe1\u606f\uff0c\u52ff\u6cc4\u6f0f\uff09\n\u2514\u2500\u2500 node.sh \uff08\u63a7\u811a\u672c\uff0c\u7528\u4e8e\u521d\u59cb\u5316\u548c\u542f\u52a8MPC Node\u670d\u52a1\uff09\n```\n\n- MPC Node\u521d\u59cb\u5316\u6210\u529f\u540e\uff0c\u4f1a\u81ea\u52a8\u521b\u5efaasset.db\u6587\u4ef6\u548clogs\u76ee\u5f55\uff1a\n\n```JSON\nsinohope-mpc-node\n\u251c\u2500\u2500 config.toml \uff08SINOHOPE\u5de5\u4f5c\u4eba\u5458\u7ed9\u5230\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5305\u542b\u4e86\u4e0empc-proxy\u901a\u4fe1\u7684\u5b89\u5168\u4fe1\u606f\uff0c\u52ff\u6cc4\u6f0f\uff09\n\u251c\u2500\u2500 node.sh \uff08\u63a7\u811a\u672c\uff0c\u7528\u4e8e\u521d\u59cb\u5316\u548c\u542f\u52a8MPC Node\u670d\u52a1\uff09\n\u251c\u2500\u2500 asset.db (\u672c\u5730\u4ea7\u751f\u7684\u91cd\u8981\u6570\u636e\u90fd\u5b58\u50a8\u5728\u8fd9\u91cc\uff0c\u5907\u4efd\u4e0e\u6062\u590d\u5c31\u662f\u6062\u590d\u6570\u636e)\n\u2514\u2500\u2500 logs (\u65e5\u5fd7\u6587\u4ef6)\n```\n\n#### 2.2.2 \u521d\u59cb\u5316\u8282\u70b9\n\n\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b8c\u6210\u8282\u70b9\u521d\u59cb\u5316\uff1a\n\n```Bash\nsudo ./node.sh init\n```\n\n\u793a\u4f8b\uff1a\n\n```Shell\nsudo ./node.sh init\n[sudo] password for ubuntu:   (ubuntu\u8d26\u6237\u5bc6\u7801)\n? Type password (at least 8 characters): ********\n? Retype password: ********\n2023/08/18 10:18:46 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:18:46 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n\u8bf4\u660e\uff1a\u9996\u5148\u811a\u672c\u4f1a\u81ea\u52a8\u505a\u4e00\u4e9b\u73af\u5883\u7684\u68c0\u67e5\u5de5\u4f5c\uff0c\u5982\u5224\u65ad\u662f\u5426\u5b89\u88c5\u4e86Docker\uff0c\u5224\u65ad\u7528\u6237\u7684\u6743\u9650\u7b49\u3002init\u547d\u4ee4\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u521d\u59cb\u5316\u8282\u70b9\u4fe1\u606f\uff0c\u5305\u62ec\uff1a\n\n- \u7ed9 MPC \u8282\u70b9\u8bbe\u7f6e\u4e00\u4e2a\u5bc6\u7801\uff0c\u8fd9\u4e2a\u5bc6\u7801\u7528\u4e8e\u4fdd\u62a4\u60a8\u7684\u79c1\u94a5\u5206\u7247 \u53ca\u5176\u4ed6\u79c1\u5bc6\u6570\u636e\uff0c**\u8bf7\u60a8\u59a5\u5584\u4fdd\u7ba1\uff0c\u5207\u52ff\u6cc4\u6f0f\uff0c\u5e76\u4e14\u505a\u597d\u5b89\u5168\u5197\u4f59\u5907\u4efd**\u3002\u8282\u70b9\u542f\u52a8\u65f6\u4f1a\u8981\u6c42\u8f93\u5165\u8be5\u5bc6\u7801\u3002\n  - \u60a8\u53ef\u91c7\u7528\u5982\u4e0b\u63aa\u65bd\u5b9e\u73b0\u5bc6\u7801\u81ea\u52a8\u8f93\u5165\uff1a\u6253\u5f00config.toml\u914d\u7f6e\u6587\u4ef6\uff0c[storage]\u914d\u7f6e\u9879\u4e2d\u589e\u52a0password\u5b57\u6bb5\uff1a\n  - ```Shell\n    [storage]\n    db-file-path = "/tmp/mpc-node/asset.db"\n    unseal-server-address = "0.0.0.0:8080"\n    password = "FILL YOUR PASSWORD HERE"\n    ```\n- \u521b\u5efanode id\uff0c \u6bcf\u4e00\u4e2aMPC Node\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6id\uff0c\u60a8\u5c06\u9700\u8981\u4f7f\u7528\u8be5 node id \u5c06\u60a8\u7684MPC \u8282\u70b9\u4e0e\u60a8\u7684 WaaS \u7ec4\u7ec7\u8d26\u53f7\u505a\u552f\u4e00\u5173\u8054\u3002\n- \u521b\u5efa\u4e0ecallback-server\u901a\u4fe1\u65f6\u7684ECDSA\u5bc6\u94a5\u5bf9\u3002\n\n#### 2.2.3 (Optional) \u90e8\u7f72\u53ca\u914d\u7f6e\u56de\u8c03\u670d\u52a1\n\nMPC Node \u63d0\u4f9b\u56de\u8c03\u673a\u5236\u7528\u4e8e\u4f9b\u60a8\u6267\u884c\u98ce\u9669\u63a7\u5236\uff0c\u8fd9\u4e2a\u56de\u8c03\u670d\u52a1\u662f\u53ef\u9009\u7684\uff08\u5728\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u5f3a\u70c8\u5efa\u8bae\u60a8\u5f00\u53d1\u5e76\u90e8\u7f72\u56de\u8c03\u670d\u52a1\uff09\u3002\n\n\u4e3aMPC Node\u914d\u7f6e\u4e86\u56de\u8c03\u670d\u52a1\u4e4b\u540e\uff0cMPC Node \u5728\u53d1\u8d77\u4efb\u4f55 MPC\u4e1a\u52a1\uff08\u5982\u7b7e\u540d\uff09\u4e4b\u524d\u5747\u4f1a\u56de\u8c03\u6307\u5b9a\u7684\u63a5\u53e3\uff0c\u8bf7\u6c42\u56de\u8c03\u670d\u52a1\u5bf9\u5f53\u524dMPC \u4e1a\u52a1\u7684\u6388\u6743\uff0c\u53ea\u6709\u5728\u60a8\u7684\u56de\u8c03\u670d\u52a1\u660e\u786e\u8fd4\u56de ACCEPT \u72b6\u6001\u65f6\uff0cMPC\u4e1a\u52a1\u624d\u4f1a\u5f00\u59cb\u6267\u884c\u3002\n\n\u53e6\u5916\uff0c\u5f53\u60a8\u4f7f\u7528\u6d88\u606f\u7b7e\u540d \u6216 \u5bf9\u539f\u59cb\u6570\u636e\u76f4\u63a5\u7b7e\u540d \u7684\u529f\u80fd\u65f6\uff0cMPC Node \u5c06\u901a\u8fc7\u56de\u8c03\u63a5\u53e3\u5c06\u7b7e\u540d\u7ed3\u679c\u63d0\u4f9b\u7ed9\u60a8\uff0c\u4f9b\u60a8\u7684\u4e1a\u52a1\u4f7f\u7528\u3002\n\n\u5173\u4e8e\u56de\u8c03\u670d\u52a1\u7684\u5f00\u53d1\u3001\u90e8\u7f72\u3001\u914d\u7f6e\u7b49\u5185\u5bb9\uff0c\u8be6\u89c1\u201cMPC Node \u56de\u8c03\u673a\u5236\u201d\u7ae0\u8282\u3002\n\n#### 2.2.4 \u7ed1\u5b9a MPC Node\n\n\u524d\u8ff0\u6b65\u9aa4\u5b8c\u6210\u540e\uff0c\u53ef\u4f7f\u7528\u5177\u6709\u7ba1\u7406\u5458\u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55 Sinohope Web Console\uff0c \u5728\u3010\u8bbe\u7f6e\u3011-\u3010MPC Node\u3011\u9875\u9762\u5b8c\u6210 MPC Node \u7684\u5173\u8054\u7ed1\u5b9a\u3002\u6b64\u5904\u9700\u8981\u8f93\u5165MPC Node \u521d\u59cb\u5316\u65f6\u751f\u6210\u7684 Node ID\u3002\n\n\n#### 2.2.5 \u542f\u52a8 MPC Node \u670d\u52a1\n\n\u7ed1\u5b9a MPC Node \u5b8c\u6210\u540e\uff0c\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u542f\u52a8 MPC Node \u670d\u52a1\u3002\n\n```Bash\n./node.sh start \n```\n\n\u670d\u52a1\u542f\u52a8\u8fd0\u884c\u540e\uff0c\u56de\u5230web console MPC Node \u914d\u7f6e\u754c\u9762\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u7a0d\u7b49\u7247\u523b\u5373\u53ef\u770b\u5230 \u201ckey share \u72b6\u6001\u201d \u4e3a\u201c\u5df2\u751f\u6210\u201d\uff0c\u540c\u65f6\u754c\u9762\u4e0a\u5c06\u5c55\u793a\u60a8\u7684\u7ec4\u7ec7\u7684MPC \u6839\u516c\u94a5 \u4fe1\u606f\u3002\n\n![img](./images/mpc-node.jpeg)\n\n\n#### 2.2.6 \u2757\ufe0f\u2757\ufe0f\u91cd\u8981\uff1a\u6570\u636e\u5e93\u5907\u4efd\n\nMPC Node \u672c\u5730\u6570\u636e\u5e93\u6587\u4ef6 `asset.db` \u5b58\u50a8\u4e86\u60a8\u7684\u79c1\u94a5\u5206\u7247 \u7b49\u91cd\u8981\u6570\u636e\uff0c\u6240\u6709\u6570\u636e\u5747\u4f7f\u7528\u5f3a\u5bc6\u94a5\u52a0\u5bc6\u5b58\u50a8\uff0c\u8be5\u5f3a\u5bc6\u94a5\u7531\u60a8\u4e3a MPC Node \u8bbe\u7f6e\u7684\u5bc6\u7801\u7ecf KDF \u51fd\u6570\u6d3e\u751f\u800c\u6765\u3002\n\n\u79c1\u94a5\u5206\u7247\u4e8b\u5173\u8d44\u91d1\u5b89\u5168\u53ca\u53ef\u7528\uff0cSinohope\u6240\u638c\u7ba1\u7684\u79c1\u94a5\u5206\u7247\u7531\u5e73\u53f0\u57fa\u4e8e\u591a\u5c42\u7ea7\u591a\u533a\u57df\u7684\u4e00\u7cfb\u5217\u9ad8\u53ef\u7528\u53ca\u707e\u5907\u65b9\u6848\u52a0\u4ee5\u4fdd\u7ba1\u53ca\u5907\u4efd\uff0c\u540c\u65f6\u60a8\u4e5f\u53ef\u7533\u8bf7\u5bf9\u60a8\u7684\u7ec4\u7ec7\u7684\u6240\u6709\u5206\u7247\u79c1\u94a5\u8fdb\u884c\u5907\u4efd\uff0c\u4ece\u800c\u5b8c\u5168\u638c\u63a7\u60a8\u7684\u6240\u67093\u7247\u5206\u7247\u79c1\u94a5\u3002\n\n\n\u800c**\u5bf9\u4e8e\u60a8\u672c\u5730\u7684\u6570\u636e\u5e93\u6587\u4ef6\u4e2d\u5b58\u5728\u7684\u79c1\u94a5\u5206\u7247\uff0c\u5219\u5fc5\u987b\u7531\u60a8\u81ea\u5df1\u5b8c\u6210\u5b89\u5168\u5197\u4f59\u5907\u4efd\u3002\u8bf7\u91c7\u53d6\u8db3\u591f\u7684\u5b89\u5168\u63aa\u65bd\u3001\u5f02\u5730\u591a\u526f\u672c \u5907\u4efd\u60a8\u7684\u6570\u636e\u5e93\u6587\u4ef6\uff0c\u4ee5\u53ca\u60a8\u4e3aMPC Node\u8bbe\u7f6e\u7684 \u5bc6\u7801**\u3002\n\n**\u5efa\u8bae\u6570\u636e\u5e93\u6587\u4ef6\u4e0e\u5bc6\u7801\u5206\u5f00\u4fdd\u7ba1\uff0c\u964d\u4f4e\u6570\u636e\u6cc4\u6f0f\u98ce\u9669**\u3002\n\n**\u540e\u7eed\u82e5\u60a8\u7684 MPC Node \u670d\u52a1\u5668\u6216\u670d\u52a1\u53d1\u751f\u6545\u969c\u3001\u6570\u636e\u53d7\u635f\u3001\u4e0d\u53ef\u7528\u7b49\u60c5\u51b5\u65f6\uff0c\u53ea\u80fd\u901a\u8fc7\u60a8\u5907\u4efd\u7684 \u6570\u636e\u5e93 \u6587\u4ef6\u53ca\u5bc6\u7801 \u91cd\u65b0\u90e8\u7f72MPC Node\u670d\u52a1\u6765\u8fdb\u884c\u6062\u590d\u3002Sinohope \u5c06\u65e0\u6cd5\u5e2e\u60a8\u6062\u590d\u60a8\u7684MPC Node \u670d\u52a1\uff01\uff01**\n\n## 3. MPC Node \u5b8c\u6574\u4ea4\u4e92\u547d\u4ee4\u4ecb\u7ecd\n\n### \u521d\u59cb\u5316\n\n\u8bf7\u5728\u547d\u4ee4\u884c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n\n```Bash\nsudo ./node.sh init\n```\n\n\u793a\u4f8b\uff1a\n\n```Shell\nsudo ./node.sh init\n[sudo] password for ubuntu:   (ubuntu\u8d26\u6237\u5bc6\u7801)\n? Type password (at least 8 characters): ********\n? Retype password: ********\n2023/08/18 10:18:46 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:18:46 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n\u8bf4\u660e\uff1a\u9996\u5148\u811a\u672c\u4f1a\u81ea\u52a8\u505a\u4e00\u4e9b\u73af\u5883\u7684\u68c0\u67e5\u5de5\u4f5c\uff0c\u5982\u5224\u65ad\u662f\u5426\u5b89\u88c5\u4e86Docker\uff0c\u5224\u65ad\u7528\u6237\u7684\u63a7\u4f4f\u6743\u9650\u7b49\u3002init\u547d\u4ee4\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u521d\u59cb\u5316\u8d26\u6237\u4fe1\u606f\uff0c\u5305\u62ec\uff1a\n\n- \u7ed9 MPC \u8282\u70b9\u8bbe\u7f6e\u4e00\u4e2a\u5bc6\u7801\uff0c\u8fd9\u4e2a\u5bc6\u7801\u7528\u4e8e\u4fdd\u62a4\u60a8\u7684\u79c1\u94a5\u5206\u7247 \u53ca\u5176\u4ed6\u79c1\u5bc6\u6570\u636e\uff0c**\u8bf7\u60a8\u59a5\u5584\u4fdd\u7ba1\uff0c\u5207\u52ff\u6cc4\u6f0f\uff0c\u5e76\u4e14\u505a\u597d\u5b89\u5168\u5197\u4f59\u5907\u4efd**\u3002\u8282\u70b9\u542f\u52a8\u65f6\u4f1a\u8981\u6c42\u8f93\u5165\u8be5\u5bc6\u7801\u3002\n  - \u60a8\u53ef\u91c7\u7528\u5982\u4e0b\u63aa\u65bd\u5b9e\u73b0\u5bc6\u7801\u81ea\u52a8\u8f93\u5165\uff1a\u6253\u5f00config.toml\u914d\u7f6e\u6587\u4ef6\uff0c[storage]\u914d\u7f6e\u9879\u4e2d\u589e\u52a0password\u5b57\u6bb5\uff1a\n  ```Shell\n    [storage]\n    db-file-path = "/tmp/mpc-node/asset.db"\n    unseal-server-address = "0.0.0.0:8080"\n    password = "FILL YOUR PASSWORD HERE"\n  ```\n- \u521b\u5efanode id\uff0c \u6bcf\u4e00\u4e2aMPC Node\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6id\uff0c\u60a8\u5c06\u9700\u8981\u4f7f\u7528\u8be5 node id \u5c06\u60a8\u7684MPC \u8282\u70b9\u4e0e\u60a8\u7684 WaaS \u7ec4\u7ec7\u8d26\u53f7\u505a\u552f\u4e00\u5173\u8054\u3002\n- \u521b\u5efa\u4e0ecallback-server\u901a\u4fe1\u65f6\u7684ECDSA\u5bc6\u94a5\u5bf9\u3002\n\n### \u542f\u52a8\u670d\u52a1\n\n\u8bf7\u5728\u547d\u4ee4\u884c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n\n```Bash\n./node.sh start \n```\n\n\u793a\u4f8b\uff1a\n\n```JSON\nsudo ./node.sh start\n[sudo] password for ubuntu:   (ubuntu\u8d26\u6237\u5bc6\u7801)\n? Enter password: ********\n```\n\n\u8bf4\u660e\uff1a\u811a\u672c\u4f1a\u8bfb\u53d6\u5bc6\u7801\u5e76\u542f\u52a8docker\u5185\u7684\u670d\u52a1\n\n### MPC Node\u5176\u4ed6\u547d\u4ee4\n\n\u6ce8\uff1a\u542f\u52a8\u670d\u52a1\u4e3b\u8981\u662finit\u548cstart\u547d\u4ee4\uff0c\u5176\u4ed6\u547d\u4ee4\u662f\u975e\u5fc5\u987b\u547d\u4ee4\uff0c\u53ef\u6309\u9700\u67e5\u9605\u3002\n\n#### \u67e5\u770bnode-id\u548ccallback\u516c\u94a5\n\n```JSON\n./node.sh info\n```\n\n\u793a\u4f8b\uff1a\n\n```Shell\n./node.sh info\n? Enter password: ********\n2023/08/18 10:23:59 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:23:59 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n#### \u4fee\u6539\u5bc6\u7801\n\n```JSON\n./node.sh reset\n./node.sh reset\n? Enter password: ********\n? Choose an action:  [Use arrows to move, type to filter]\n> Reset password\n```\n\n\u8bf4\u660e\uff1a\u6267\u884c\u6b64\u547d\u4ee4\u540e\u8bf7\u6839\u636e\u63d0\u793a\u4fe1\u606f\u9009\u62e9\u4fee\u6539\u5bc6\u7801\u3002\n\n#### \u67e5\u770b\u65e5\u5fd7\n\n```Bash\n./node.sh log\n```\n\n#### \u505c\u6b62\u670d\u52a1\n\n```Bash\n./node.sh stop\n```\n\n#### \u624b\u52a8\u68c0\u67e5\u73af\u5883\n\n```Bash\n./node.sh check\n```\n\n#### \u547d\u4ee4\u5e2e\u52a9\n\n```Bash\n./node.sh help\n```\n\n## 4. MPC Node\u56de\u8c03\u673a\u5236\n\nMPC Node \u542f\u52a8\u540e\uff0c\u4f1a\u81ea\u52a8\u548c Sinohope \u540e\u53f0\u5efa\u7acb\u957f\u94fe\u63a5\uff0c\u7528\u4e8e\u63a5\u6536 Sinohope \u540e\u53f0\u4e0b\u53d1\u7684\u4efb\u52a1\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cMPC Node\u6ca1\u6709\u542f\u7528\u56de\u8c03\u673a\u5236\uff0cMPC Node \u4f1a\u81ea\u52a8\u5b8c\u6210\u6240\u6709\u4efb\u52a1\u7684\u6267\u884c\uff1b\n\n\u5982\u679c\u914d\u7f6e\u4e3a\u542f\u7528\u56de\u8c03\u673a\u5236\uff0c\u5ba2\u670d\u9700\u8981\u81ea\u5df1\u5f00\u53d1\u4e00\u4e2a\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1\uff0c\u7528\u4e8e\u9a8c\u8bc1Sinohope\u4e0b\u53d1\u7684\u4efb\u52a1\u662f\u5426\u5408\u7406\uff0c\u6700\u7ec8\u51b3\u5b9a\u662f\u5426\u914d\u5408Sinohope\u5b8c\u6210\u7b7e\u540d\u3002\n\n\u56de\u8c03\u670d\u52a1\u7684\u5f00\u53d1\uff0c\u53ef\u53c2\u8003Sinohope \u63d0\u4f9b\u7684\u56de\u8c03\u670d\u52a1\u793a\u4f8b\uff1a[GitHub - sinohope/mpc-node-callback-demo](https://github.com/sinohope/mpc-node-callback-demo)\n\n### 4.1 \u914d\u7f6e\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1\n\n\u5728\u90e8\u7f72\u56de\u8c03\u670d\u52a1\u5668\u7684\u4e3b\u673a\u4e0a\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u521d\u59cb\u5316\u7684\u914d\u7f6e\u5de5\u4f5c\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a\n\n- \u751f\u6210\u56de\u8c03\u670d\u52a1\u5668\u7684 ECDSA \u79c1\u94a5\n\n```Go\nopenssl ecparam -genkey -name prime256v1 -out private_key.pem\n```\n\n- \u5bfc\u51fa\u56de\u8c03\u670d\u52a1\u5668\u7684 ECDSA \u516c\u94a5\n\n```Go\nopenssl ec -in private_key.pem -pubout -out callback_server_public.pem\n```\n\n- \u5c06\u5bfc\u51fa\u7684 ECDSA \u516c\u94a5\uff08\u5373  callback_server_public.pem \u6587\u4ef6\uff09\u590d\u5236\u5230 MPC Node \u6240\u5728\u673a\u5668\uff0c\u5e76\u5728 MPC Node \u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9acallback_server_public.pem\u6587\u4ef6\u4f4d\u7f6e\uff1a\n\n```TOML\n[callback]\nretry-times = 60\nsleep-seconds = 60\n[[callback.server]]\n  address = "http://127.0.0.1:9090/v1/check"\n  public-key-path = "./callback_server_public.pem"\n```\n\n- \u5c06 MPC Node \u7684 ECDSA \u516c\u94a5\u590d\u5236\u5230\u56de\u8c03\u670d\u52a1\u5668\u76f8\u5173\u914d\u7f6e\u6587\u4ef6\u4e2d\n\n\u5982\u4f55\u83b7\u53d6 MPC Node \u7684 ECDSA \u516c\u94a5\uff1a \n\n- \u5728 MPC Node \u5b8c\u6210\u521d\u59cb\u5316\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u67e5\u8be2 MPC Node \u7684 ECDSA \u516c\u94a5\uff1a\n\n```TOML\n./node.sh info\n```\n\n- \u793a\u4f8b\u8f93\u51fa\uff1a\n\n```TOML\n./node.sh info\n? Enter password: ********\n2023/08/18 10:23:59 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:23:59 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n\u5176\u4e2d\u7684 callback public key \u5373\u4e3a MPC Node \u7684 ECDSA \u516c\u94a5\u3002\n\n### 4.2 \u5f00\u53d1\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1\n\n#### 4.2.1 \u7b7e\u540d\u4e0e\u9a8c\u7b7e\n\nMPC Node\u4e0e\u56de\u8c03\u670d\u52a1\u4e4b\u95f4\u7684\u6570\u636e\u901a\u8fc7\u5404\u81ea\u7684ECDSA\u79c1\u94a5\u751f\u6210\u7b7e\u540d\uff0c\u7136\u540e\u5bf9\u65b9\u4f7f\u7528\u63d0\u524d\u914d\u7f6e\u597d\u7684\u516c\u94a5\u6839\u636e\u6307\u5b9a\u7684\u89c4\u5219\u8fdb\u884c\u9a8c\u7b7e\uff0c\u53ea\u6709\u7b7e\u9a8c\u901a\u8fc7\u624d\u53ef\u4ee5\u8ba4\u4e3a\u662f\u5408\u6cd5\u7684\u8bf7\u6c42\u3002\n\n\u4ee5\u4e0b\u662f\u5f53\u524dMPC Node\u4e0e\u56de\u8c03\u670d\u52a1\u4e4b\u95f4\u901a\u4fe1\u7684\u6570\u636e\u7ed3\u6784\uff0c\u8bf7\u6ce8\u610f\u4e0d\u8981\u968f\u610f\u66f4\u6539\u5b57\u6bb5\u5148\u540e\u987a\u5e8f\u3002\n\nRequest:\n\n```Go\ntype Check struct {\n    CallbackId    string `json:"callback_id,omitempty"`\n    RequestType   string `json:"request_type,omitempty"`\n    RequestDetail `json:"request_detail,omitempty"`\n    ExtraInfo     `json:"extra_info,omitempty"`\n}\n\ntype RequestDetail struct {\n    T            int      `json:"t,omitempty"`\n    N            int      `json:"n,omitempty"`\n    Cryptography string   `json:"cryptography,omitempty"`\n    PartyIds     []string `json:"party_ids,omitempty"`\n\n    PublicKey   string `json:"public_key,omitempty"`\n    Path        string `json:"path,omitempty"`\n    Message     string `json:"message,omitempty"`\n    Coin        string `json:"coin,omitempty"`\n    FromAddress string `json:"from_address,omitempty"`\n    ToAddress   string `json:"to_address,omitempty"`\n    Amount      string `json:"amount,omitempty"`\n    Fee         string `json:"fee,omitempty"`\n    GasPrice    string `json:"gas_price,omitempty"`\n    GasLimit    string `json:"gas_limit,omitempty"`\n    Signature   string `json:"signature,omitempty"`\n}\n\ntype ExtraInfo struct {\n    SinoId    string `json:"sino_id,omitempty"`\n    RequestId string `json:"request_id,omitempty"`\n}\n```\n\nResponse:\n\n```Go\ntype Response struct {\n    Status    string        `json:"status,omitempty"`\n    Error     string        `json:"error,omitempty"`\n    Data      *ResponseData `json:"data,omitempty"`\n    Signature string        `json:"signature,omitempty"`\n}\n\ntype ResponseData struct {\n    CallbackId string `json:"callback_id,omitempty"`\n    SinoId     string `json:"sino_id,omitempty"`\n    RequestId  string `json:"request_id,omitempty"`\n    Action     string `json:"action,omitempty"`\n    WaitTime   string `json:"wait_time,omitempty"`\n}\n```\n\n##### 1\u3001 \u751f\u6210Request\u7b7e\u540d\n\n- MPC Node\u6839\u636e\u8bf7\u6c42\u7684\u7c7b\u578b\u6784\u9020Check\u7ed3\u6784\u4f53\uff1b\n- \u5c06\u6784\u9020\u597d\u7684Check\u7ed3\u6784\u4f53\u8fdb\u884cjson\u5e8f\u5217\u5316\uff0c\u5f97\u5230Message\uff1b\n- MPC Node\u4f7f\u7528\u81ea\u5df1\u7684ECDSA\u79c1\u94a5\u5bf9Message\u7b7e\u540d\uff0c\u5f97\u5230Signature\uff1b\n- MPC Node\u5c06Signature\u8bbe\u7f6e\u5230\u672c\u6b21HTTP\u8bf7\u6c42\u5934\u4e2d\uff0cKey\u4e3aSigature\uff1b\n\n##### 2\u3001Request\u7b7e\u540d\u9a8c\u7b7e\n\n- \u56de\u8c03\u670d\u52a1\u4f7f\u7528Check\u7ed3\u6784\u4f53\u89e3\u6790MPC Node\u7684HTTP\u8bf7\u6c42\uff0c\u5f97\u5230\u672c\u6b21\u8bf7\u6c42\u7684Check\u6570\u636e\uff1b\n- \u56de\u8c03\u670d\u52a1\u5c06\u5f97\u5230\u7684Check\u6570\u636e\u8fdb\u884cjson\u5e8f\u5217\u5316\uff0c\u5f97\u5230\u5f85\u9a8c\u7b7e\u7684Message\uff1b\n- \u56de\u8c03\u670d\u52a1\u4eceHTTP\u8bf7\u6c42\u4e2d\u5f97\u5230Signature\uff0c\u7136\u540e\u7ed3\u5408Mesage\u548c\u63d0\u524d\u914d\u7f6e\u597d\u7684MPC Node\u516c\u94a5\u5bf9Signature\u8fdb\u884c\u9a8c\u7b7e\uff1b\n\n##### 3\u3001\u751f\u6210Response\u7b7e\u540d\n\n- \u56de\u8c03\u670d\u52a1\u6839\u636e\u81ea\u8eab\u7684\u51b3\u7b56\u751f\u6210\u4e0a\u8ff0Response\uff0c\u5e76\u5728Response.Data\u4e2d\u586b\u5145\u76f8\u5e94\u7684\u5b57\u6bb5\uff1b\n- \u56de\u8c03\u670d\u52a1\u5bf9Response.Data\u8fdb\u884cjson\u5e8f\u5217\u5316\uff0c\u5f97\u5230Message\uff1b\n- \u56de\u8c03\u670d\u52a1\u4f7f\u7528\u81ea\u8eab\u7684ECDSA\u79c1\u94a5\u5bf9Message\u7b7e\u540d\uff0c\u5f97\u5230Signature\uff0c\u5e76\u5c06Signature\u8d4b\u503c\u7ed9Response.Signature\u5b57\u6bb5\uff1b\n\n##### 4\u3001Response\u7b7e\u540d\u9a8c\u7b7e\n\n- MPC Node\u5f97\u5230\u56de\u8c03\u670d\u52a1\u7684Response\uff0c\u5e76\u5bf9Response.Data\u5b57\u6bb5\u8fdb\u884cjson\u5e8f\u5217\u5316\u5f97\u5230Message\uff1b\n- MPC Node\u7ed3\u5408Message\u548c\u63d0\u524d\u914d\u7f6e\u597d\u7684\u56de\u8c03\u670d\u52a1\u516c\u94a5\u5bf9Response.Signature\u8fdb\u884c\u9a8c\u7b7e\uff1b\n\n#### 4.2.2 check\n\n\u6bcf\u6b21keygen\u548csign\u4e1a\u52a1mpc-node\u90fd\u4f1a\u901a\u8fc7check\u63a5\u53e3\u8bf7\u6c42\u7528\u6237\u8fdb\u884c\u98ce\u63a7\uff0c\u53ea\u6709\u56de\u8c03\u670d\u52a1\u660e\u786e\u56de\u590dApprove\u65f6\u76f8\u5173\u4e1a\u52a1\u624d\u5141\u8bb8\u5f00\u59cb\u3002\n\n##### 1\u3001HTTP \u63a5\u53e3\n\n> path: /v1/check\n\n> method: post\n\n> body: JSON\u7f16\u7801\u7684\u6570\u636e\n\n##### 2\u3001Request\n\n| \u53c2\u6570           | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| -------------- | ------ | ------------------------------------------------------------ |\n| callback_id    | string | \u56de\u8c03\u8bf7\u6c42\u552f\u4e00ID                                               |\n| request_type   | string | \u56de\u8c03\u8bf7\u6c42\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u6709\u4ee5\u4e0b\u4e24\u79cd\u53d6\u503c\uff1akeygen\u3001sign           |\n| request_detail | struct | \u56de\u8c03\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u4e00\u7cfb\u5217\u5173\u952e\u4fe1\u606f\u3002\u4e0d\u540c\u7684\u56de\u8c03\u8bf7\u6c42\u7c7b\u578b\u5bf9\u5e94\u4e0d\u540c\u7684 request_detail \u7ed3\u6784\uff1b\u683c\u5f0f\u4e3a JSON \u5e8f\u5217\u5316\u540e\u7684\u5b57\u7b26\u4e32 |\n| extra_info     | struct | \u56de\u8c03\u8bf7\u6c42\u8f85\u52a9\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u4e00\u4e9b\u989d\u5916\u76f8\u5173\u4fe1\u606f\uff1b\u4e0d\u540c\u7684\u56de\u8c03\u8bf7\u6c42\u7c7b\u578b\u5bf9\u5e94\u4e0d\u540c\u7684 extra_info \u7ed3\u6784\uff1b\u683c\u5f0f\u4e3a JSON \u5e8f\u5217\u5316\u540e\u7684\u5b57\u7b26\u4e32 |\n\n- \u5f53`request_type == keygen`\u65f6\uff0c`request_detail` \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a\n\n| \u53c2\u6570         | \u7c7b\u578b     | \u63cf\u8ff0                                          |\n| ------------ | -------- | --------------------------------------------- |\n| threshold    | int      | \u7b7e\u540d\u9608\u503c                                      |\n| party_ids    | []string | \u53c2\u4e0e\u751f\u6210\u79c1\u94a5\u7684\u8282\u70b9ID\u96c6\u5408                      |\n| cryptography | string   | \u4f7f\u7528\u7684\u7b7e\u540d\u7b97\u6cd5\u3002ecdsa-secp256k1/eddsa-ed25519 |\n\n`extra_info` \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a\n\n| \u53c2\u6570        | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| ----------- | ------ | ------------------------------------------------------------ |\n| callback_id | string | MPC Node\u6bcf\u6b21\u8bf7\u6c42\u65f6\u751f\u6210\u7684\u552f\u4e00ID                               |\n| sino_id     | string | Sinohope \u5185\u90e8 keygen \u8bf7\u6c42\u552f\u4e00 ID                             |\n| request_id  | string | \u7528\u6237\u901a\u8fc7 WaaS \u63a5\u53e3\u4f20\u5165\u7684\u8bf7\u6c42 ID\uff0c\u5982\u679c\u8bf7\u6c42\u975e WaaS \u63a5\u53e3\uff0cCobo \u5185\u90e8\u4f1a\u81ea\u52a8\u751f\u6210 |\n\n- \u5f53 `request_type == sign` \u65f6\uff0c`request_detail` \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a\n\n| \u53c2\u6570       | \u7c7b\u578b     | \u63cf\u8ff0                 |\n| ---------- | -------- | -------------------- |\n| public_key | string   | \u6839\u516c\u94a5               |\n| party_id   | []string | \u53c2\u4e0e\u7b7e\u540d\u65f6\u7684\u8282\u70b9\u5217\u8868 |\n| path       | string   | \u4f7f\u7528\u7684bip32path\u5217\u8868  |\n| message    | string   | \u5f85\u7b7e\u540d\u7684\u6d88\u606f         |\n\n`extra_info` \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a\n\n| \u53c2\u6570         | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| ------------ | ------ | ------------------------------------------------------------ |\n| sign_type    | string | \u5f85\u7b7e\u540d\u7684\u4ea4\u6613\u7c7b\u578b\uff1a1\u3001\u666e\u901a\u4ea4\u6613\uff1b2\u3001EIP191/EIP712\u6d88\u606f\u7b7e\u540d\uff1b3\u3001RawData\u7b7e\u540d\uff1b       |\n| public_key   | string | \u6839\u516c\u94a5\u5bf9\u5e94\u7684public key                                       |\n| path         | string | bip32\u6d3e\u751f\u8def\u5f84                                                |\n| message      | string | \u5f85\u7b7e\u540d\u7684\u6d88\u606f                                                 |\n| coin         | string | \u8d44\u4ea7\u540d\u79f0                                                     |\n| decimal      | string | \u5e01\u79cd\u7cbe\u5ea6                                                     |\n| from_address | string | \u8d44\u4ea7\u51fa\u8d26\u5730\u5740                                                 |\n| to_address   | string | \u63d0\u5e01\u5230\u8d26\u5730\u5740                                                 |\n| amount       | string | \uff08\u975e\u5fc5\u9700\uff09\u4ea4\u6613\u6570\u989d\uff0c\u8bf7\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684\u6570\u503c\u5305\u542b\u5c0f\u6570\u4f4d\uff0c\u4f8b\u5982 BTC decimal \u4e3a8\u4f4d\uff0c\u5219\u8fd9\u91cc\u7684 100000000 \u5b9e\u9645\u4e3a 1 \u4e2a BTC |\n| fee          | string | \uff08\u975e\u5fc5\u9700\uff09\u5bf9\u4e8e BTC \u4ea4\u6613\uff0c\u8be5\u5b57\u6bb5\u8868\u793a\u6bcf\u5b57\u8282\u5bf9\u5e94\u7684\u624b\u7eed\u8d39\uff0c\u5355\u4f4d\u4e3a satoshi |\n| gas_price    | string | \uff08\u975e\u5fc5\u9700\uff09\u71c3\u6599\u4ef7\u683c\uff0cETH \u7c7b\u578b\u8d26\u53f7\u6a21\u578b\u9002\u7528\uff0c\u5355\u4f4d\u4e3a GWei        |\n| gas_limit    | string | \uff08\u975e\u5fc5\u9700\uff09\u71c3\u6599\u4e0a\u9650\uff0cETH \u7c7b\u578b\u8d26\u53f7\u6a21\u578b\u9002\u7528                     |\n\n##### 3\u3001Response\n\n| \u53c2\u6570   | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| ------ | ------ | ------------------------------------------------------------ |\n| status | string | \u72b6\u6001\u7801\uff0c\u5f53\u72b6\u6001\u7801\u4e3a 0 \u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6b63\u5e38\u6267\u884c\uff1b\u5f53\u72b6\u6001\u7801\u4e3a\u5176\u4ed6\u503c\u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6267\u884c\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u4e00\u4e9b\u5f02\u5e38\u60c5\u51b5 |\n| error  | string | \u9519\u8bef\u4fe1\u606f\uff1b\u5f53 status \u8fd4\u56de\u503c\u4e0d\u662f 0 \u65f6\uff0c\u4ee3\u8868\u56de\u8c03\u670d\u52a1\u5668\u5185\u90e8\u51fa\u73b0\u7684\u9519\u8bef\u4fe1\u606f\uff1b\u5f53 status \u4e3a 0\uff0c\u4e14\u98ce\u63a7\u7ed3\u679c\u4e3a REJECT \u65f6\uff0c\u4ee3\u8868\u5177\u4f53\u7684\u98ce\u63a7\u62d2\u7edd\u4fe1\u606f\u3002 |\n| data   | json   | \u8bf7\u6c42\u7684\u7ed3\u679c\u6570\u636e                                               |\n\ndata\u7ed3\u6784\n\n| \u53c2\u6570        | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| ----------- | ------ | ------------------------------------------------------------ |\n| callback_id | string | \u672c\u6b21\u8bf7\u6c42\u7684callback_id                                        |\n| sino_id     | string | \u672c\u6b21\u8bf7\u6c42\u7684sino_id                                            |\n| request_id  | string | \u672c\u6b21\u8bf7\u6c42\u7684request_id                                         |\n| action      | string | \u672c\u6b21\u8bf7\u6c42\u7684\u5904\u7406\u7ed3\u679c\uff1a Approve: \u5141\u8bb8 Reject: \u62d2\u7edd Wait: \u7b49\u5f85\u540e\u91cd\u8bd5 |\n| wait_time   | string | \u5f53action\u4e3aWait\u65f6\uff0c\u6b64\u5b57\u6bb5\u7528\u4e8e\u6307\u793aMPC Node\u9700\u8981\u7b49\u5f85\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2 |\n\n#### 4.2.3 rawdata_signature\n\n\u8be5\u63a5\u53e3\u7528\u4e8e\u4e0a\u62a5\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u6d88\u606f\u7684\u7b7e\u540d\u7ed3\u679c\uff0c\u53ea\u6709\u5f53sign\u4e1a\u52a1\u7684sign_type\u4e3a`2`\u6216`3`\u65f6\u4e14MPC Node\u7b7e\u540d\u6210\u529f\u540e\u624d\u4f1a\u5411\u56de\u8c03\u670d\u52a1\u4e0a\u62a5\u539f\u59cb\u7684\u6d88\u606f\u548c\u7b7e\u540d\u7ed3\u679c\u3002\n\n##### 1\u3001HTTP\u63a5\u53e3\n\n> path: /v1/rawdata_signature\n\n> method: post\n\n> body: JSON\u7f16\u7801\u7684\u6570\u636e\n\n##### 2\u3001 Request\n\n| \u53c2\u6570           | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| -------------- | ------ | ------------------------------------------------------------ |\n| callback_id    | string | \u56de\u8c03\u8bf7\u6c42\u552f\u4e00ID                                               |\n| request_detail | struct | \u56de\u8c03\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u4e00\u7cfb\u5217\u5173\u952e\u4fe1\u606f\u3002\u4e0d\u540c\u7684\u56de\u8c03\u8bf7\u6c42\u7c7b\u578b\u5bf9\u5e94\u4e0d\u540c\u7684 request_detail \u7ed3\u6784\uff1b\u683c\u5f0f\u4e3a JSON \u5e8f\u5217\u5316\u540e\u7684\u5b57\u7b26\u4e32 |\n\nrequest_defailt\u5185\u5bb9\u5982\u4e0b\uff1a\n\n| \u53c2\u6570      | \u7c7b\u578b   | \u63cf\u8ff0             |\n| --------- | ------ | ---------------- |\n| message   | string | \u539f\u59cb\u5f85\u7b7e\u540d\u7684\u6d88\u606f |\n| signature | string | \u7b7e\u540d\u7ed3\u679c         |\n\n##### 3\u3001Response\n\n| \u53c2\u6570   | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| ------ | ------ | ------------------------------------------------------------ |\n| status | string | \u72b6\u6001\u7801\uff0c\u5f53\u72b6\u6001\u7801\u4e3a 0 \u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6b63\u5e38\u6267\u884c\uff1b\u5f53\u72b6\u6001\u7801\u4e3a\u5176\u4ed6\u503c\u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6267\u884c\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u4e00\u4e9b\u5f02\u5e38\u60c5\u51b5 |\n| error  | string | \u9519\u8bef\u4fe1\u606f\uff1b\u5f53 status \u8fd4\u56de\u503c\u4e0d\u662f 0 \u65f6\uff0c\u4ee3\u8868\u56de\u8c03\u670d\u52a1\u5668\u5185\u90e8\u51fa\u73b0\u7684\u9519\u8bef\u4fe1\u606f\u3002 |\n\n'},postman:{name:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",description:{type:"text/plain"},url:{path:["v1","waas","mpc","is_valid_address"],host:["{{baseUrl}}"],query:[],variable:[]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"POST",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}}}},sidebar_class_name:"post api-method",info_path:"docs/develop/mpc-waas-api/sinohope-waas-api",custom_edit_url:null},m=void 0,M={unversionedId:"develop/mpc-waas-api/\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",id:"develop/mpc-waas-api/\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",title:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",description:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",source:"@site/docs/develop/mpc-waas-api/\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e.api.mdx",sourceDirName:"develop/mpc-waas-api",slug:"/develop/mpc-waas-api/\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",permalink:"/docs/develop/mpc-waas-api/\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",title:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",description:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",sidebar_label:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",hide_title:!0,hide_table_of_contents:!0,api:{tags:["\u8d26\u6237&\u5730\u5740"],"x-codeSamples":[{lang:"python",label:"python",source:'request(\n  "POST",\n  "/v1/waas/mpc/is_valid_address/",\n  {\n    "assetId": "USDT_ETH",\n    "address": "0x67d0F791D950CdC25Ac44bA249328022f4df93b6"\n  },\n  api_key, host\n)\n'},{lang:"go",label:"go",source:'Request("POST", "/v1/waas/mpc/is_valid_address/", map[string]string{\n    "assetId": "USDT_ETH",\n    "address": "0x67d0F791D950CdC25Ac44bA249328022f4df93b6"\n})\n'}],requestBody:{content:{"application/json":{schema:{required:["address","assetId"],type:"object",properties:{assetId:{type:"string",description:"\u5e01\u79cd\u4ee3\u53f7 \u5e01\u6807\u8bc6 \u5177\u6709\u552f\u4e00\u6027",example:"USDT_ETH"},address:{type:"string",description:"\u5730\u5740",example:"0x67d0F791D950CdC25Ac44bA249328022f4df93b6"}}}}},required:!1},responses:{200:{description:"successful operation",content:{"application/json":{schema:{type:"object",properties:{code:{type:"integer",example:200},msg:{type:"string",example:""},data:{type:"object",properties:{isValid:{type:"boolean",description:"\u68c0\u67e5\u7ed3\u679c",example:!0}}},success:{type:"boolean"}}}}}}},"x-codegen-request-body-name":"root",description:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",extensions:[{key:"x-codegen-request-body-name",value:"root"}],method:"post",path:"/v1/waas/mpc/is_valid_address",servers:[{url:"https://api.sinohope.com/"},{url:"https://api-sandbox.sinohope.com/"}],jsonRequestBodyExample:{assetId:"USDT_ETH",address:"0x67d0F791D950CdC25Ac44bA249328022f4df93b6"},info:{title:"Sinohope WaaS API",version:"0.9.1",description:'\n# \u5f00\u59cb\u4f7f\u7528\n## \u5feb\u901f\u5f00\u59cb\n\n\u672c\u7ae0\u8282\u662f\u4e00\u4e2a\u5feb\u901f\u4f7f\u7528\u6559\u7a0b\uff0c\u5c06\u5e2e\u52a9\u60a8\u5feb\u901f\u4e86\u89e3\u5e76\u5f00\u59cb\u4f7f\u7528Sinohope WaaS\u670d\u52a1\u3002\n\n\u5ba2\u6237\u5728Sinohope\u5f00\u901a\u8d26\u6237\u65f6\uff0c\u5c06\u5141\u8bb8\u5206\u522b\u5f00\u901a\u201c\u6d4b\u8bd5\u7ec4\u7ec7\u201d \u548c \u201c\u6b63\u5f0f\u7ec4\u7ec7\u201d\uff0c\u5206\u522b\u4ee3\u8868\u6d4b\u8bd5\u73af\u5883\u548c\u6b63\u5f0f\u4f7f\u7528\u73af\u5883\u3002\n\u6d4b\u8bd5\u73af\u5883\u53ea\u652f\u6301\u5c11\u91cf\u7684\u6d4b\u8bd5\u94fe\uff0c\u4f9b\u8bd5\u7528\u3001\u96c6\u6210\u6d4b\u8bd5\u7b49\u7528\u9014\u4f7f\u7528\u3002\u672c\u6559\u7a0b\u4e3b\u8981\u662f\u5728\u6d4b\u8bd5\u73af\u5883\u4e0b\u4f7f\u7528\u3002\n\n\u672c\u6559\u7a0b\u4e3b\u8981\u6d89\u53ca\u4ee5\u4e0b\u4e8b\u9879\uff1a\n- \u5f00\u901a\u5e76\u767b\u5f55\u8d26\u6237\n- \u90e8\u7f72\u5e76\u914d\u7f6eMPC Node\n- \u521b\u5efa\u91d1\u5e93\n- \u521b\u5efa\u5e76\u914d\u7f6eAPI Key\n- \u57fa\u4e8eSDK\u5f00\u53d1\u96c6\u6210\n\n\n### \u5f00\u901a\u5e76\u767b\u5f55\u8d26\u6237\n\n\u8981\u5f00\u59cb\u4f7f\u7528Sinohope WaaS\u670d\u52a1\uff0c\u60a8\u9700\u8981\u8054\u7cfb[Sinohope](https://www.sinohope.com/)\u5f00\u901a\u7ec4\u7ec7\u8d26\u6237\uff0c\u4e4b\u540e\u5728 [web console](https://console.sinohope.com/user/login) \u754c\u9762\u57fa\u4e8e\u90ae\u7bb1\u6ce8\u518c\u60a8\u7684\u4e2a\u4eba\u8d26\u6237\u5e76\u767b\u5f55Sinohope\u4e3a\u60a8\u5f00\u901a\u7684\u7ec4\u7ec7\u3002\n\n### \u90e8\u7f72\u5e76\u914d\u7f6eMPC Node\n\nSinohope\u4f7f\u7528 MPC-TSS \u6280\u672f\u63d0\u4f9b WaaS \u670d\u52a1\uff0c\u5e76\u91c7\u7528 3-3 \u7684\u9608\u503c\u7b7e\u540d\u8bbe\u7f6e\uff0c\u5e73\u53f0\u6301\u67092\u7247\u79c1\u94a5\u5206\u7247\uff0c\u7528\u6237\u6301\u67091\u7247\u79c1\u94a5\u5206\u7247\u3002\n\nSinohope\u63d0\u4f9b MPC Node\u8f6f\u4ef6\uff0c\u7531\u5ba2\u6237\u90e8\u7f72\u8fd0\u884c\uff0c\u7528\u4e8e\u7ba1\u7406\u5c5e\u4e8e\u7528\u6237\u7684\u79c1\u94a5\u5206\u7247\u3002\u8981\u914d\u7f6e MPC Node\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e8b\u9879\uff1a\n\n1. \u51c6\u5907\uff1a\u5f00\u901aSinohope WaaS \u8d26\u53f7\uff1b\u51c6\u5907\u597d\u90e8\u7f72\u73af\u5883\uff0c\u83b7\u53d6\u5e76\u9a8c\u8bc1 MPC Node \u5b89\u88c5\u5305\uff1b\n2. \u521d\u59cb\u5316\u8282\u70b9\uff0c\u751f\u6210\u8282\u70b9\u7684 Node ID \u548c \u90e8\u7f72\u56de\u8c03\u670d\u52a1\u6240\u9700\u7684\u8282\u70b9\u516c\u94a5\uff1b\n3. \uff08\u6309\u9700\uff09\u90e8\u7f72\u53ca\u914d\u7f6e\u60a8\u7684\u56de\u8c03\u670d\u52a1\uff1b\n4. \u7ed1\u5b9aMPC Node\uff0c\u767b\u5f55 web console \u914d\u7f6e MPC Node\uff0c\u5c06\u60a8\u7684 Node ID \u4e0e\u60a8\u7684\u7ec4\u7ec7\u8d26\u53f7\u7ed1\u5b9a\uff1b\n5. \u542f\u52a8MPC Node\uff0c\u8282\u70b9\u5c06\u6301\u7eed\u8fd0\u884c\uff0c\u5e76\u81ea\u52a8\u6309\u9700\u9a71\u52a8MPC\u534f\u8bae\u7684\u8fd0\u884c\uff0c\u5176\u4e2d\uff0c\u7a0d\u7b49\u7247\u523b\u5c06\u53ef\u5b8c\u6210DKG\uff0c\u4e4b\u540e\u5728 Web Console MPC Node\u7ba1\u7406\u754c\u9762\u5c06\u770b\u5230 \u201ckey share \u72b6\u6001\u201d\u4e3a\u201c\u5df2\u751f\u6210\u201d\u3002\n6. \u91cd\u8981\uff1a\u5b89\u5168\u59a5\u5584\u5907\u4efd MPC Node \u672c\u5730\u6570\u636e\u5e93\u6587\u4ef6\uff01\n\n> \u8be6\u89c1 [MPC Node\u4f7f\u7528\u6307\u5357](#section/MPC-Node) \u7ae0\u8282\u3002\n\n### \u521b\u5efa\u91d1\u5e93\n\nSinohope \u91c7\u7528\u5206\u5c42\u7ed3\u6784\u7ba1\u7406\u7ec4\u7ec7\u5185\u7684\u94fe\u5730\u5740\uff0c\u5305\u62ec\u56db\u4e2a\u5c42\u7ea7\uff1a\u6839\u5bc6\u94a5\u3001\u91d1\u5e93\u3001\u94b1\u5305\u3001\u5404\u4e2a\u94fe\u4e0a\u7684\u5730\u5740\u3002\n\n\u5728 WaaS\u670d\u52a1\u4e2d\uff0c\u91d1\u5e93\u9700\u8981\u5728Web console\u7ba1\u7406\u754c\u9762\u4eba\u5de5\u521b\u5efa\uff0c\u4e4b\u540e\uff0c\u94b1\u5305\u3001\u94fe\u4e0a\u5730\u5740 \u5747\u9700\u901a\u8fc7API\u5b8c\u6210\u521b\u5efa\u3002\n\n\u5728 \u201cwaas\u94b1\u5305\u201d\u754c\u9762\uff0c\u901a\u8fc7\u201c\u521b\u5efa\u91d1\u5e93\u201d \u529f\u80fd\u5373\u53ef\u5b8c\u6210\u91d1\u5e93\u521b\u5efa\u3002\n\n\u5728\u94b1\u5305\u3001\u5730\u5740\u7684\u5e94\u7528\u6a21\u5f0f\u65b9\u9762\uff0c\u6709\u4e24\u79cd\u6a21\u5f0f\u53ef\u4f9b\u60a8\u53c2\u8003\uff0c\u5177\u4f53\u5e94\u8be5\u7ed3\u5408\u60a8\u7684\u4e1a\u52a1\u800c\u5b9a\uff1a\n\n1. \u4e3a\u60a8\u7684\u6bcf\u4e2a\u4e1a\u52a1/\u7ec8\u7aef\u7528\u6237 \u5206\u914d\u4e00\u4e2a\u591a\u94fe\u94b1\u5305\uff1b\u5728\u8fd9\u79cd\u6a21\u5f0f\u4e0b\uff0c\u5bf9\u94fe\u4e0a\u5730\u5740\u7684\u7ba1\u7406\u5c06\u4f1a\u66f4\u52a0\u96c6\u4e2d\uff0c\u4e1a\u52a1/\u7ec8\u7aef\u7528\u6237 \u4e4b\u95f4\u53ef\u4ee5\u6709\u8f83\u6e05\u6670\u7684\u5212\u5206\u3002\n2. \u53ea\u4f7f\u7528\u4e00\u4e2a\u591a\u94fe\u94b1\u5305\uff0c\u5728\u8be5\u94b1\u5305\u4e0b\u6309\u9700\u521b\u5efa\u5e76\u4e3a\u4e1a\u52a1/\u7ec8\u7aef\u7528\u6237 \u5206\u914d\u94fe\u4e0a\u5730\u5740\u3002\u6b64\u79cd\u6a21\u5f0f\u4e0b\uff0c\u76f4\u63a5\u7ba1\u7406\u6700\u7ec8\u7684\u94fe\u4e0a\u5730\u5740\uff0c\u66f4\u63a5\u8fd1\u4e8e\u4f20\u7edf\u7684\u5730\u5740\u7ba1\u7406\u65b9\u5f0f\u3002\n\n\n### \u521b\u5efa\u5e76\u914d\u7f6eAPI Key\n\n\u5f53\u524d\uff0c\u9700\u8981\u5bf9\u6bcf\u4e2a\u91d1\u5e93\u8fdb\u884c\u72ec\u7acb\u914d\u7f6e\uff0c\u5305\u62ec API Key\u8bbe\u7f6e\u3001\u56de\u8c03\u8bbe\u7f6e\u3001\u9ad8\u7ea7\u529f\u80fd\u5f00\u5173\u8bbe\u7f6e \u7b49\u3002\n\n\u60a8\u9700\u8981\u521b\u5efa\u4e00\u5bf9 ECDSA \u5bc6\u94a5\u5bf9\u7528\u4e8eWaaS API\u8bf7\u6c42\u9274\u6743\u3002\u60a8\u53ef\u901a\u8fc7 Sinohope \u5b98\u65b9SDK\uff0c\u6216\u8005\u5982\u4e0bjava \u793a\u4f8b\u6765\u521b\u5efa\u60a8\u7684\u5bc6\u94a5\u5bf9\uff1a\n\n```java\nimport org.nhex.sinohope.sign.api.ECDSA;\n\nECDSA ecdsa = new ECDSA(SECP256R1);\nKeyPair keyPair = ecdsa.generateKeyPair();\nString publicKey = Hex.toHexString(keyPair.getPublic().getEncoded());\nString privateKey = Hex.toHexString(keyPair.getPrivate().getEncoded());\nSystem.out.println("publicKey = " + publicKey);\nSystem.out.println("privateKey = " + privateKey);\n```\n\n\u5176\u4e2d\uff0c\u79c1\u94a5 `privateKey`\u7531\u60a8\u81ea\u5df1\u59a5\u5584\u4fdd\u7ba1\u5e76\u914d\u7f6e\u5230\u60a8\u7684\u4e1a\u52a1\u7cfb\u7edf\u4e2d\uff0c\u4ee3\u8868\u60a8\u7684\u8eab\u4efd\uff0c\u7528\u4e8e\u505aAPI\u8bf7\u6c42\u7b7e\u540d\uff1b\u516c\u94a5`publicKey` \u5373 API Key\uff0c\u9700\u8981\u60a8\u901a\u8fc7Sinohope web console\u7ba1\u7406\u754c\u9762\uff0c\u914d\u7f6e\u5230\u60a8\u7684\u91d1\u5e93\u4e2d\uff0c\u4ece\u800c\u7ed1\u5b9a\u5176API\u8bbf\u95ee\u6743\u9650\u3002\n\n> \u5173\u4e8e\u63a5\u53e3\u8bf7\u6c42\u7b7e\u540d\u53ca\u9a8c\u7b7e\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u201c[API \u8ba4\u8bc1](#section/\u5f00\u59cb\u4f7f\u7528/API)\u201d \u7ae0\u8282\u3002\n\n### \u57fa\u4e8eSDK\u5f00\u53d1\u96c6\u6210\n\nSinohope\u5c06\u63d0\u4f9b\u591a\u79cd\u8bed\u8a00\u7684SDK\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u96c6\u6210WaaS\u529f\u80fd\u3002SDK \u4e3b\u8981\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a\n\n- \u7edf\u4e00\u5c01\u88c5\u63a5\u53e3\u8bf7\u6c42\u7b7e\u540d\u5904\u7406\uff1b\n- \u5c01\u88c5API\u63a5\u53e3\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u4ee5\u65b9\u6cd5\u8c03\u7528\u7684\u65b9\u5f0f\u5b8c\u6210\u5bf9WaaS API\u7684\u8bf7\u6c42\u3002\n\n\u5f53\u524d\u63d0\u4f9b\u7684SDK\uff1a[java sdk](https://github.com/sinohope/sinohope-java-api)\u3002\n\nJS\u3001Golang \u7b49\u5f00\u53d1\u8bed\u8a00\u7684SDK \u6b63\u5728\u8fdb\u884c\u4e2d\uff0c\u656c\u8bf7\u671f\u5f85\u3002\n\n\n# \u53c2\u6570\u53ca\u8fd4\u56de\u503c\u901a\u7528\u8bf4\u660e\n## \u7edf\u4e00\u7684\u8fd4\u56de\u503c\u7ed3\u6784\n| \u4ee3\u7801 | \u8bf4\u660e |\n| :-- |:---------------|\n| code | \u72b6\u6001\u8fd4\u56de\u4ee3\u7801\uff08\u6210\u529f\u8fd4\u56de200\uff09 |\n| msg | \u72b6\u6001\u8fd4\u56de\u63cf\u8ff0 |\n| data | \u54cd\u5e94\u7684\u6570\u636e |\n| success | \u8bf7\u6c42\u662f\u5426\u6210\u529f\uff08\u6210\u529f\u8fd4\u56detrue\uff0c\u5931\u8d25\u8fd4\u56defalse\uff09 |\n\n## \u5e38\u89c1\u9519\u8bef\u7801\u5b9a\u4e49\n\n\u5f53Sinohope WaaS \u670d\u52a1\u53d1\u751f\u9519\u8bef\u7684\u65f6\u5019\uff0c\u4f1a\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u7edf\u4e00\u683c\u5f0f\u7684\u6570\u636e\n\n\n- `200`: Successful response. Refer to each API for the detailed response data.\n- `400`: Return Bad Request.\n- `401`: Unauthorized. Either API details are missing or invalid\n- `403`: Forbidden - You do not have access to the requested resource.\n- `415`: Unsupported media type. You need to use application/json.\n- `500`: Exchange/Sinohope internal error.\n\n### \u7cfb\u7edf\u5c42\u9762\u9519\u8bef\n| \u9519\u8bef\u7801 | \u63cf\u8ff0 |\n| :-- |:---------------|\n| 1001 | \u672a\u77e5\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb Sinohope \u5ba2\u670d |\n| 1002 | \u91cd\u590d\u7684\u8bf7\u6c42 |\n| 1004 | APIKey \u9519\u8bef |\n| 1005 | \u9a8c\u7b7e\u5931\u8d25 |\n| 1006 | IP \u8c03\u7528\u9891\u7387\u53d7\u9650 |\n| 1007 | \u65e0\u63a5\u53e3\u6743\u9650 |\n| 1008 | \u65e0\u6548\u7684ip\u5730\u5740 |\n| 1009 | \u7b7e\u540d\u8bf7\u6c42\u5934\u4e0d\u80fd\u4e3a\u7a7a |\n| 1010 | \u65f6\u95f4\u6233\u8bf7\u6c42\u5934\u4e0d\u80fd\u4e3a\u7a7a |\n| 1011 | \u8bf7\u6c42\u670d\u52a1\u63a5\u53e3\u5f02\u5e38 |\n| 1012 | \u65e0\u6548\u7684\u4e1a\u52a1\u8bf7\u6c42\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u6709\u5bf9\u5e94\u4e1a\u52a1\u8bf7\u6c42\u5934 |\n| 1013 | \u7b7e\u540d\u5931\u8d25 |\n| 1014 | \u4e0d\u652f\u6301\u7684\u8bf7\u6c42\u7c7b\u578b(\u4ec5\u652f\u6301GET\u3001POST) |\n| 1015 | \u7f3a\u5c11\u7b7e\u540d\u53c2\u6570 |\n\n### \u53c2\u6570\u5c42\u9762\u9519\u8bef\n| \u9519\u8bef\u7801 | \u63cf\u8ff0 |\n| :-- |:---------------|\n| 2001 | \u5e01\u79cd\u6682\u4e0d\u652f\u6301 |\n| 2002 | \u94fe\u6682\u4e0d\u652f\u6301 |\n| 2003 | \u8f93\u5165\u5730\u5740\u65e0\u6548 |\n| 2004 | \u4ea4\u6613\u8bb0\u5f55\u4e0d\u5b58\u5728 |\n| 2005 | \u65e0\u6743\u9650 |\n| 2006 | \u8f6c\u8d26\u4fe1\u606f\u5f02\u5e38 \uff08kyt\u6821\u9a8c\u4e0d\u901a\u8fc7\uff09 |\n| 2007 | \u77ff\u5de5\u8d39\u8fc7\u4f4e |\n| 2008 | To\u5730\u5740\u975e\u5185\u90e8\u5730\u5740 \uff08\u8f6c\u8d26\u4fdd\u62a4\uff09 |\n| 2009 | \u4f59\u989d\u4e0d\u8db3\u4ee5\u652f\u4ed8\u8f6c\u8d26\u6570\u91cf\u548cGas\u8d39 |\n| 2010 | gas\u4e0d\u8db3 \uff08token\u8f6c\u8d26\uff09 |\n| 2011 | \u53ef\u7528\u4f59\u989d\u4e0d\u8db3 \uff08token\u8f6c\u8d26\uff09 |\n| 2012 | \u540d\u79f0\u4e2d\u4e0d\u80fd\u5305\u542b\u53cd\u659c\u6760\\ |\n| 2013 | \u672a\u627e\u5230path\u5bf9\u5e94\u5730\u5740 |\n| 2097 | \u9875\u9875\u6570\u9519\u8bef pageIndex >=1 |\n| 2098 | \u5206\u9875\u6570\u91cf\u9519\u8bef pageSize <=50 |\n| 2099 | \u5fc5\u987b\u53c2\u6570\u7f3a\u5931 |\n| 2100 | pageSize\u5fc5\u987b\u5927\u4e8e0 |\n| 2101 | \u6307\u5b9a\u7684\u94b1\u5305\u4e0d\u5b58\u5728 |\n| 2102 | \u6307\u5b9a\u7684\u8d44\u4ea7\u4e0d\u5b58\u5728 |\n| 2103 | \u6307\u5b9a\u7684\u94fe\u6807\u8bc6\u4e0d\u5b58\u5728 |\n| 2104 | \u6307\u5b9a\u7684\u91d1\u5e93\u4e0d\u5b58\u5728 |\n| 2105 | page size exceeds maximum limit(50) |\n| 2106 | \u751f\u6210\u94fe\u5730\u5740\u5355\u5b50\u6700\u5927\u4e2a\u6570\u8d85\u9650\uff0850\uff09 |\n| 2107 | pageIndex\u6700\u5c0f\u4e3a1 |\n| 2108 | \u53c2\u6570\u7c7b\u578b\u9519\u8bef |\n| 2109 | advancedEnabled must be 0 or 1 |\n| 2110 | algorithmType must be 0 or 1 |\n| 2111 | requestId total cannot be greater than 50 |\n| 2112 | sinoId total cannot be greater than 50 |\n| 2113 | signAlgorithm must in \'personal_sign\u3001signTypedData\u3001 eth_signTypedData_v3\u3001eth_signTypedData_v4\' |\n| 2114 | The length of requestId is too long, the maximum is 120 |\n| 2115 | message \u683c\u5f0f\u9519\u8bef\uff0c\u6216\u8005signAlgorithm\u53c2\u6570\u9519\u8bef |\n| 2116 | \u94b1\u5305\u4e0e\u7ec4\u7ec7\u4fe1\u606f\u4e0d\u5339\u914d |\n| 2117 | \u94b1\u5305\u4e0e\u91d1\u5e93\u4fe1\u606f\u4e0d\u5339\u914d |\n| 2118 | \u91d1\u5e93\u4e0e\u7ec4\u7ec7\u4fe1\u606f\u4e0d\u5339\u914d |\n\n### \u4e1a\u52a1\u5c42\u9762\u9519\u8bef\n| \u9519\u8bef\u7801 | \u63cf\u8ff0 |\n| :-- |:---------------|\n| 4001 | \u7ec4\u4ea4\u6613\u5931\u8d25 |\n| 4002 | \u5e7f\u64ad\u5931\u8d25 |\n| 4003 | \u4e0d\u652f\u6301\u52a0\u901f\u7684\u5e01\u79cd |\n| 4004 | \u52a0\u901f\u4ea4\u6613\u5df2\u4e0a\u94fe\u6216nonce\u5df2\u88ab\u5360\u7528 |\n| 4005 | \u53d6\u6d88\u4ea4\u6613\u5df2\u4e0a\u94fe\u6216nonce\u5df2\u88ab\u5360\u7528 |\n| 4006 | MPC Node \u672a\u7ed1\u5b9a |\n| 4007 | MPC Node \u672aDKG |\n| 4008 | \u540c\u4e00\u91d1\u5e93\u4e0d\u80fd\u591f\u540c\u65f6\u53d1\u8d77\u521b\u5efa\u94b1\u5305\u64cd\u4f5c |\n| 4009 | \u540c\u4e00\u91d1\u5e93\u4e0b\u94b1\u5305\u540d\u79f0\u4e0d\u80fd\u76f8\u540c |\n| 4010 | \u521b\u5efa\u94b1\u5305\u6570\u91cf\u548c\u81ea\u5b9a\u4e49\u94b1\u5305list\u4e0d\u4e00\u81f4 |\n| 4011 | \u94b1\u5305\u6570\u91cf\u9650\u989d |\n\n## \u6570\u636e\u5b57\u5178\n### \u4ea4\u6613\u624b\u7eed\u8d39\u8d39\u7387\u7b49\u7ea7\n| \u5b57\u5178\u7801 | \u63cf\u8ff0 |\n| :-- |:---------------|\n| LOW | \u4f4e |\n| MIDDLE | \u4e2d |\n| HIGH | \u9ad8 |\n\n### \u4ea4\u6613\u72b6\u6001\n| \u5b57\u5178\u7801 | \u63cf\u8ff0 |\n| :-- |:---------------|\n| 0 | \u4ea4\u6613\u5f85\u4e8c\u6b21\u786e\u8ba4 |\n| 1 | \u4ea4\u6613\u5f85\u7b7e\u540d |\n| 2 | \u4ea4\u6613\u4e0a\u94fe\u4e2d |\n| 4 | \u5e7f\u64ad\u5931\u8d25 |\n| 5 | \u4ea4\u6613\u4e0a\u94fe\u5931\u8d25 |\n| 6 | \u5e7f\u64ad\u7f51\u7edc\u8d85\u65f6 |\n| 10 | \u4ea4\u6613\u4e0a\u94fe\u6210\u529f |\n| 11 | \u4ea4\u6613\u94fe\u4e0a\u56de\u6eda |\n| 13 | \u4ea4\u6613\u62d2\u7edd |\n\n\n## \u672f\u8bed\u5b9a\u4e49\n### sinoId\n\u5bf9\u4e8e\u6d89\u53ca\u5230MPC\u79c1\u94a5\u5206\u7247\u7684\u4e1a\u52a1\uff0c\u5305\u62ec\u5f00\u53d1\u8005\u8bf7\u6c42\u7684\u4ea4\u6613\u53ca\u7b7e\u540d\u7c7b\u4e1a\u52a1\uff08\u5982\u53d1\u8d77\u4ea4\u6613\u3001\u53d1\u8d77\u7b7e\u540d\u7b49\uff09\uff0cSinohope\u5747\u4f1a\u7ed9\u8be5\u4e1a\u52a1\u4ea7\u751f\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\uff0c\u5373 sinoId\u3002\n\n### requestId\n\u5bf9\u4e8e\u9700\u8981\u5b9e\u73b0\u5e42\u7b49\u5904\u7406\u7684\u8bf7\u6c42\uff08\u5982\u53d1\u8d77\u8f6c\u8d26\uff09\uff0c\u8bf7\u6c42\u65b9\u9700\u8981\u4e3aAPI\u8bf7\u6c42\u63d0\u4f9b\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\uff0c\u5373 requestId\u3002requestId \u5e94\u5b9e\u73b0\u5168\u5c40\u552f\u4e00\u6027\uff0c\u5e76\u786e\u4fdd\u5bf9\u591a\u6b21\u63d0\u4ea4\u7684\u540c\u4e00\u4e2a\u4e1a\u52a1\u8bf7\u6c42\u4f7f\u7528\u540c\u4e00\u4e2arequestId\u3002**\u5141\u8bb8\u7684\u6700\u5927\u957f\u5ea6\u4e3a 120 \u4e2aASCII\u5b57\u7b26\u3002**\n\u5efa\u8bae\u4f7f\u7528 UUID \u6216\u96ea\u82b1\u7b97\u6cd5\u751f\u6210 requestId\u3002\n### chainSymbol\u7684\u89c4\u5219\n1\u3001chainSymbol\u662f\u94fe\u914d\u7f6e\u7684\u552f\u4e00\u6807\u8bc6\uff1b\n\n2\u3001\u533a\u5206\u6d4b\u8bd5\u7f51\u548c\u6b63\u5f0f\u7f51\uff1b\n\n3\u3001\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u547d\u540d\u3002\n\n> \u4f8b\u5982\uff1a \n> - \u4e3b\u7f51\u4f7f\u7528\u5e38\u89c1\u7b80\u79f0\uff0c\u5982`ETH`, `BTC` \u5206\u522b\u662f `Ethereum \u4e3b\u7f51`/ `Bitcoin\u4e3b\u7f51`\n> - \u5bf9\u4e8e\u6709\u7279\u5b9a\u540d\u5b57\u7684\u6d4b\u8bd5\u7f51\u4f7f\u7528\u5176\u6d4b\u8bd5\u7f51\u540d\u5b57\uff0c\u5982\u7528`GOERLI` \u8868\u793a`ETH Goerli \u6d4b\u8bd5\u7f51`\n> - \u5bf9\u4e8e\u65e0\u7279\u5b9a\u540d\u5b57\u7684\u6d4b\u8bd5\u7f51\uff0c\u4f7f\u7528`_TEST`\u52a0\u4ee5\u533a\u5206\uff0c\u5982 `BTC_TEST` \u8868\u793a `Bitcoin testnet3\u6d4b\u8bd5\u7f51`\n> - \u6ce8\u610f\uff1a\u7cfb\u7edf\u652f\u6301\u7684\u94fe\uff0c\u4ee5`/v1/waas/common/get_supported_chains`\u63a5\u53e3\u8fd4\u56de\u503c\u4e3a\u51c6\n\n### assetId\u7684\u89c4\u5219\n1\u3001assetId\u662fAsset\u914d\u7f6e\u8868\u552f\u4e00\u6807\u8bc6\uff1b\n\n2\u3001\u547d\u540d\u65b9\u5f0f\u524d\u5e01(coin)\u540e\u94fe(chain)\uff0c\u4e2d\u95f4\u4ee5\u4e0b\u5212\u7ebf\u5206\u9694\uff1b\n\n3\u3001\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u547d\u540d\u3002\n\n> \u4f8b\u5982\uff1aUSDT_GOERLI \u662f ETH Goerli \u6d4b\u8bd5\u7f51\u4e0a\u7684\u7684\u4e00\u4e2a USDT \u5e01\u79cd\n\n## \u6587\u6863\u53d8\u66f4\u8bb0\u5f55\n\n| Version | Log           | Date       | Modifier |\n| ---- | ------------- | ---------- | ------ |\n| v0.9.0 | first version | 2023-08-04 | Owen  |\n| v0.9.1 | add new sections,and fix some apis | 2023-08-22 | Owen  |\n\n\n# MPC Node\u4f7f\u7528\u6307\u5357\n\n## 1. Sinohope WaaS MPC\u6280\u672f\u7b80\u4ecb\n\n\u95e8\u9650\u7b7e\u540d\uff08Threshold Signature Scheme\uff0cTSS\uff09\u662f\u6570\u5b57\u7b7e\u540d\u7684\u4e00\u4e2a\u91cd\u8981\u5206\u652f\uff0c\u5b83\u662f\u4e00\u79cd\u57fa\u4e8e\u5b89\u5168\u591a\u65b9\u8ba1\u7b97\uff08Secure Multi-Party Computation\uff0cMPC\uff09\u7684\u5bc6\u7801\u5b66\u6280\u672f\uff0c\u4e5f\u662f MPC \u5bc6\u94a5\u7ba1\u7406\u7684\u91cd\u8981\u7814\u7a76\u65b9\u5411\u3002\n\nSinohope \u63a8\u51fa\u7684 WaaS\uff08Wallet as a Service\uff09\u662f\u4ee5MPC-TSS\u6280\u672f\u4e3a\u57fa\u7840\u7684\u94b1\u5305\u5373\u670d\u52a1\u65b9\u6848\u3002Sinohope WaaS\u670d\u52a1\u9700\u8981\u5ba2\u6237\u4e0e\u5e73\u53f0\u4ee5\u5206\u5e03\u5f0f\u534f\u4f5c\u7684\u65b9\u5f0f\uff0c\u5404\u81ea\u6301\u6709\u79c1\u94a5\u5206\u7247\uff0c\u57fa\u4e8e[MPC-CMP\u534f\u8bae](https://eprint.iacr.org/2021/060)\uff08ECDSA\uff09\u53ca[SS01\u534f\u8bae](https://link.springer.com/chapter/10.1007/3-540-47719-5_33#chapter-info)\uff08EdDSA\uff09\u5b9e\u73b0\u7531\u5ba2\u6237\u4e3b\u5bfc\u7684\u94fe\u4e0b\u591a\u65b9\u7b7e\u540d\u3002MPC Node \u662f Sinohope WaaS \u4e3a\u5ba2\u6237\u63d0\u4f9b\u7684\u4e13\u5c5e\u7a0b\u5e8f\u5305\uff0c\u7528\u4e8e\u7ba1\u7406\u5ba2\u6237\u81ea\u5df1\u7684\u79c1\u94a5\u5206\u7247\u3002\n\nSinohope \u91c7\u75283-3\u591a\u7b7e\u6a21\u5f0f\uff0c\u5ba2\u6237\u6301\u6709\u4e00\u4e2a\u79c1\u94a5\u5206\u7247\u3001Sinohope\u6301\u6709\u4e24\u4e2a\u79c1\u94a5\u5206\u7247\u3002\n\n- MPC Node 1\uff1aSinohope\u8d1f\u8d23\u7ba1\u7406\uff0c\u8be5 Node \u4f1a\u4e00\u76f4\u5728\u7ebf\u3002\n- MPC Node 2\uff1aSinohope\u8d1f\u8d23\u7ba1\u7406\uff0c\u8be5 Node \u4f1a\u4e00\u76f4\u5728\u7ebf\u3002\n- MPC Node 3\uff1a\u5ba2\u6237\u8d1f\u8d23\u7ba1\u7406\uff0c\u8be5 Node \u4ec5\u5728\u5904\u7406\u4e1a\u52a1\u9700\u8981\u65f6\u5728\u7ebf\u3002\n\n## 2. MPC Node\u90e8\u7f72\u5b9e\u65bd\n\n### 2.1 \u73af\u5883\u51c6\u5907\n\n#### 2.1.1 \u901a\u7528\u670d\u52a1\u5668\u73af\u5883\n\n\u901a\u7528\u670d\u52a1\u5668\u6307\u7684\u662f\u4e91\u670d\u52a1\u5668\u5546 EC\uff0c\u6216\u8005\u662f\u5ba2\u6237\u81ea\u4e3b\u8fd0\u7ef4\u7684\u670d\u52a1\u5668\u7269\u7406\u673a\u3002\n\n##### \u6700\u4f4e\u914d\u7f6e\n\n- CPU\uff1aAMD64 \u6216ARM64 \u67b6\u6784\uff0c2 \u6838\uff0c\u4e3b\u9891 2.0 GHz\n- \u5185\u5b58\uff1a4 G\n- \u786c\u76d8\uff1a64 G SSD\n- \u64cd\u4f5c\u7cfb\u7edf\uff1aUbuntu 20.04\u6216\u6700\u65b0\u3002 (\u6ce8\uff1a\u7406\u8bba\u4e0a\u652f\u6301\u6240\u6709\u53ef\u8fd0\u884cDocker\u7684\u7cfb\u7edf)\n\n##### \u63a8\u8350\u914d\u7f6e\n\n- CPU\uff1aAMD64 \u6216\u8005 ARM64 \u67b6\u6784\uff0c4 \u6838\u5fc3\uff0c\u4e3b\u9891 3.0 GHz\n- \u5185\u5b58\uff1a8 G\n- \u786c\u76d8\uff1a128 G SSD\n- \u64cd\u4f5c\u7cfb\u7edf\uff1aUbuntu 20.04\u6216\u6700\u65b0\u3002 (\u6ce8\uff1a\u7406\u8bba\u4e0a\u652f\u6301\u6240\u6709\u53ef\u8fd0\u884cDocker\u7684\u7cfb\u7edf)\n\n#### 2.1.2 \u7f51\u7edc\u8981\u6c42\n\n##### \u9632\u706b\u5899\u5165\u7ad9\u89c4\u5219\n\n- \u5f00\u653e443 \u7aef\u53e3\uff0cMPC Node\u670d\u52a1\u5411\u4f7f\u7528\u8005\u63d0\u4f9bhttps\u670d\u52a1\u3002\n- \u5728\u4e0d\u5f71\u54cd\u8fd0\u7ef4\u548c\u5b89\u5168\u7684\u60c5\u51b5\u4e0b\uff0c\u5176\u4ed6\u7aef\u53e3\u5168\u90e8\u5173\u6389\u3002\n\n##### \u9632\u706b\u5899\u51fa\u7ad9\u89c4\u5219\n\n- \u5b89\u88c5\u9636\u6bb5\uff1a\n  - \u53ef\u8bbf\u95ee apt \u6e90\uff0c\u4ee5\u5b89\u88c5\u57fa\u7840\u4f9d\u8d56\u5305\n  - \u53ef\u8bbf\u95ee docker \u5b89\u88c5\u6e90\uff0c\u4ee5\u5b89\u88c5 docker\n  - \u53ef\u8bbf\u95ee docker.io registry \u955c\u50cf\u4ed3\u5e93\n- \u670d\u52a1\u9636\u6bb5\uff1a\n  - \u53ef\u8bbf\u95ee\u5ba2\u6237\u914d\u7f6e\u7684 Callback \u56de\u8c03\u670d\u52a1\u5668\n  - \u53ef\u8bbf\u95eempc-proxy\uff0c\u7b7e\u540d\u65f6\u9700\u8981\u4e0e\u5176\u4ed6MPC Node\u901a\u4fe1\u3002\n  - \u5728\u4e0d\u5f71\u54cd\u8fd0\u7ef4\u548c\u5b89\u5168\u7684\u60c5\u51b5\u4e0b\uff0c\u5176\u4ed6\u51fa\u7ad9ip\u5168\u90e8\u5173\u6389\u3002\n\n#### 2.1.3 \u5b89\u88c5 Docker\n\n\u8bf7\u53c2\u8003[\u5b98\u65b9\u6587\u6863](https://docs.docker.com/engine/install/)\u5b89\u88c5Docker\u3002Sinohope MPC Node\u5b89\u88c5\u5305\u4e2d\u7684\u542f\u52a8\u811a\u672c\u6267\u884c\u65f6\uff0c\u4f1a\u81ea\u52a8\u68c0\u67e5Docker\u7684\u5b89\u88c5\u60c5\u51b5\uff0c\u5982\u679c\u672a\u5b89\u88c5\u65e0\u6cd5\u8fd0\u884c\u3002\n\n### 2.2 \u90e8\u7f72\u4e0e\u914d\u7f6e\n\n\u90e8\u7f72\u53ca\u914d\u7f6e MPC Node \u662f\u4f7f\u7528Sinohope WaaS \u670d\u52a1\u7684\u57fa\u7840\u8981\u6c42\u3002\u8bf7\u53c2\u8003\u5982\u4e0b\u6b65\u9aa4\u5b8c\u6210 MPC Node \u7684\u90e8\u7f72\u8fd0\u884c\uff1a\n\n1. \u51c6\u5907\uff1a\u5f00\u901aSinohope WaaS \u8d26\u53f7\uff1b\u51c6\u5907\u597d\u90e8\u7f72\u73af\u5883\uff0c\u83b7\u53d6\u5e76\u9a8c\u8bc1 MPC Node \u5b89\u88c5\u5305\uff1b\n2. \u521d\u59cb\u5316\u8282\u70b9\uff0c\u751f\u6210\u8282\u70b9\u7684 Node ID \u548c \u90e8\u7f72\u56de\u8c03\u670d\u52a1\u6240\u9700\u7684\u8282\u70b9\u516c\u94a5\uff1b\n3. \uff08\u6309\u9700\uff09\u90e8\u7f72\u53ca\u914d\u7f6e\u60a8\u7684\u56de\u8c03\u670d\u52a1\uff1b\n4. \u7ed1\u5b9aMPC Node\uff0c\u767b\u5f55 web console \u914d\u7f6e MPC Node\uff0c\u5c06\u60a8\u7684 Node ID \u4e0e\u60a8\u7684\u7ec4\u7ec7\u8d26\u53f7\u7ed1\u5b9a\uff1b\n5. \u542f\u52a8MPC Node\uff0c\u8282\u70b9\u5c06\u6301\u7eed\u8fd0\u884c\uff0c\u5e76\u81ea\u52a8\u6309\u9700\u9a71\u52a8MPC\u534f\u8bae\u7684\u8fd0\u884c\uff0c\u5176\u4e2d\uff0c\u7a0d\u7b49\u7247\u523b\u5c06\u53ef\u5b8c\u6210DKG\uff0c\u4e4b\u540e\u5728 Web Console MPC Node\u7ba1\u7406\u754c\u9762\u5c06\u770b\u5230 \u201ckey share \u72b6\u6001\u201d\u4e3a\u201c\u5df2\u751f\u6210\u201d\u3002\n6. \u2757\ufe0f\u2757\ufe0f\u91cd\u8981\uff1a\u5b89\u5168\u59a5\u5584\u5907\u4efd MPC Node \u672c\u5730\u6570\u636e\u5e93\u6587\u4ef6\uff01\n\n#### 2.2.1 \u83b7\u53d6\u5e76\u9a8c\u8bc1\u5b89\u88c5\u5305\n\n- \u8bf7\u8054\u7cfbSINOHOPE\u7684\u5de5\u4f5c\u4eba\u5458\uff0c\u83b7\u53d6\u8f6f\u4ef6\u5305\u201csinohope-mpc-node.tar.gz\u201d \u53ca\u5176 sha256 \u54c8\u5e0c\u503c\u3002\n- \u5c06\u8f6f\u4ef6\u5305\u4e0a\u4f20\u81f3\u60a8\u7684\u90e8\u7f72\u73af\u5883\u7684\u76ee\u6807\u76ee\u5f55\uff0c\u5728\u7ec8\u7aef\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5bf9\u6bd4\u8f6f\u4ef6\u5305\u7684hash\u503c\uff0c\u786e\u8ba4\u8f6f\u4ef6\u5305\u7684\u6b63\u786e\u6027\u3002\n\n```Bash\nshasum -a 256 sinohope-mpc-node.tar.gz\n```\n\n- \u89e3\u538b\u540e\u786e\u8ba4\u5185\u90e8\u6570\u636e\n\n```Bash\ntar -zxzf sinohope-mpc-node.tar.gz\n```\n\n- \u8f6f\u4ef6\u5305\u89e3\u538b\u540e\u6587\u4ef6\u7ed3\u6784\u5982\u4e0b\uff1a\n\n```Bash\nsinohope-mpc-node\n\u251c\u2500\u2500 config.toml \uff08\u9500\u552e\u4eba\u5458\u7ed9\u5230\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5305\u542b\u4e86\u4e0empc-proxy\u901a\u4fe1\u7684\u5b89\u5168\u4fe1\u606f\uff0c\u52ff\u6cc4\u6f0f\uff09\n\u2514\u2500\u2500 node.sh \uff08\u63a7\u811a\u672c\uff0c\u7528\u4e8e\u521d\u59cb\u5316\u548c\u542f\u52a8MPC Node\u670d\u52a1\uff09\n```\n\n- MPC Node\u521d\u59cb\u5316\u6210\u529f\u540e\uff0c\u4f1a\u81ea\u52a8\u521b\u5efaasset.db\u6587\u4ef6\u548clogs\u76ee\u5f55\uff1a\n\n```JSON\nsinohope-mpc-node\n\u251c\u2500\u2500 config.toml \uff08SINOHOPE\u5de5\u4f5c\u4eba\u5458\u7ed9\u5230\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5305\u542b\u4e86\u4e0empc-proxy\u901a\u4fe1\u7684\u5b89\u5168\u4fe1\u606f\uff0c\u52ff\u6cc4\u6f0f\uff09\n\u251c\u2500\u2500 node.sh \uff08\u63a7\u811a\u672c\uff0c\u7528\u4e8e\u521d\u59cb\u5316\u548c\u542f\u52a8MPC Node\u670d\u52a1\uff09\n\u251c\u2500\u2500 asset.db (\u672c\u5730\u4ea7\u751f\u7684\u91cd\u8981\u6570\u636e\u90fd\u5b58\u50a8\u5728\u8fd9\u91cc\uff0c\u5907\u4efd\u4e0e\u6062\u590d\u5c31\u662f\u6062\u590d\u6570\u636e)\n\u2514\u2500\u2500 logs (\u65e5\u5fd7\u6587\u4ef6)\n```\n\n#### 2.2.2 \u521d\u59cb\u5316\u8282\u70b9\n\n\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b8c\u6210\u8282\u70b9\u521d\u59cb\u5316\uff1a\n\n```Bash\nsudo ./node.sh init\n```\n\n\u793a\u4f8b\uff1a\n\n```Shell\nsudo ./node.sh init\n[sudo] password for ubuntu:   (ubuntu\u8d26\u6237\u5bc6\u7801)\n? Type password (at least 8 characters): ********\n? Retype password: ********\n2023/08/18 10:18:46 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:18:46 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n\u8bf4\u660e\uff1a\u9996\u5148\u811a\u672c\u4f1a\u81ea\u52a8\u505a\u4e00\u4e9b\u73af\u5883\u7684\u68c0\u67e5\u5de5\u4f5c\uff0c\u5982\u5224\u65ad\u662f\u5426\u5b89\u88c5\u4e86Docker\uff0c\u5224\u65ad\u7528\u6237\u7684\u6743\u9650\u7b49\u3002init\u547d\u4ee4\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u521d\u59cb\u5316\u8282\u70b9\u4fe1\u606f\uff0c\u5305\u62ec\uff1a\n\n- \u7ed9 MPC \u8282\u70b9\u8bbe\u7f6e\u4e00\u4e2a\u5bc6\u7801\uff0c\u8fd9\u4e2a\u5bc6\u7801\u7528\u4e8e\u4fdd\u62a4\u60a8\u7684\u79c1\u94a5\u5206\u7247 \u53ca\u5176\u4ed6\u79c1\u5bc6\u6570\u636e\uff0c**\u8bf7\u60a8\u59a5\u5584\u4fdd\u7ba1\uff0c\u5207\u52ff\u6cc4\u6f0f\uff0c\u5e76\u4e14\u505a\u597d\u5b89\u5168\u5197\u4f59\u5907\u4efd**\u3002\u8282\u70b9\u542f\u52a8\u65f6\u4f1a\u8981\u6c42\u8f93\u5165\u8be5\u5bc6\u7801\u3002\n  - \u60a8\u53ef\u91c7\u7528\u5982\u4e0b\u63aa\u65bd\u5b9e\u73b0\u5bc6\u7801\u81ea\u52a8\u8f93\u5165\uff1a\u6253\u5f00config.toml\u914d\u7f6e\u6587\u4ef6\uff0c[storage]\u914d\u7f6e\u9879\u4e2d\u589e\u52a0password\u5b57\u6bb5\uff1a\n  - ```Shell\n    [storage]\n    db-file-path = "/tmp/mpc-node/asset.db"\n    unseal-server-address = "0.0.0.0:8080"\n    password = "FILL YOUR PASSWORD HERE"\n    ```\n- \u521b\u5efanode id\uff0c \u6bcf\u4e00\u4e2aMPC Node\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6id\uff0c\u60a8\u5c06\u9700\u8981\u4f7f\u7528\u8be5 node id \u5c06\u60a8\u7684MPC \u8282\u70b9\u4e0e\u60a8\u7684 WaaS \u7ec4\u7ec7\u8d26\u53f7\u505a\u552f\u4e00\u5173\u8054\u3002\n- \u521b\u5efa\u4e0ecallback-server\u901a\u4fe1\u65f6\u7684ECDSA\u5bc6\u94a5\u5bf9\u3002\n\n#### 2.2.3 (Optional) \u90e8\u7f72\u53ca\u914d\u7f6e\u56de\u8c03\u670d\u52a1\n\nMPC Node \u63d0\u4f9b\u56de\u8c03\u673a\u5236\u7528\u4e8e\u4f9b\u60a8\u6267\u884c\u98ce\u9669\u63a7\u5236\uff0c\u8fd9\u4e2a\u56de\u8c03\u670d\u52a1\u662f\u53ef\u9009\u7684\uff08\u5728\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u5f3a\u70c8\u5efa\u8bae\u60a8\u5f00\u53d1\u5e76\u90e8\u7f72\u56de\u8c03\u670d\u52a1\uff09\u3002\n\n\u4e3aMPC Node\u914d\u7f6e\u4e86\u56de\u8c03\u670d\u52a1\u4e4b\u540e\uff0cMPC Node \u5728\u53d1\u8d77\u4efb\u4f55 MPC\u4e1a\u52a1\uff08\u5982\u7b7e\u540d\uff09\u4e4b\u524d\u5747\u4f1a\u56de\u8c03\u6307\u5b9a\u7684\u63a5\u53e3\uff0c\u8bf7\u6c42\u56de\u8c03\u670d\u52a1\u5bf9\u5f53\u524dMPC \u4e1a\u52a1\u7684\u6388\u6743\uff0c\u53ea\u6709\u5728\u60a8\u7684\u56de\u8c03\u670d\u52a1\u660e\u786e\u8fd4\u56de ACCEPT \u72b6\u6001\u65f6\uff0cMPC\u4e1a\u52a1\u624d\u4f1a\u5f00\u59cb\u6267\u884c\u3002\n\n\u53e6\u5916\uff0c\u5f53\u60a8\u4f7f\u7528\u6d88\u606f\u7b7e\u540d \u6216 \u5bf9\u539f\u59cb\u6570\u636e\u76f4\u63a5\u7b7e\u540d \u7684\u529f\u80fd\u65f6\uff0cMPC Node \u5c06\u901a\u8fc7\u56de\u8c03\u63a5\u53e3\u5c06\u7b7e\u540d\u7ed3\u679c\u63d0\u4f9b\u7ed9\u60a8\uff0c\u4f9b\u60a8\u7684\u4e1a\u52a1\u4f7f\u7528\u3002\n\n\u5173\u4e8e\u56de\u8c03\u670d\u52a1\u7684\u5f00\u53d1\u3001\u90e8\u7f72\u3001\u914d\u7f6e\u7b49\u5185\u5bb9\uff0c\u8be6\u89c1\u201cMPC Node \u56de\u8c03\u673a\u5236\u201d\u7ae0\u8282\u3002\n\n#### 2.2.4 \u7ed1\u5b9a MPC Node\n\n\u524d\u8ff0\u6b65\u9aa4\u5b8c\u6210\u540e\uff0c\u53ef\u4f7f\u7528\u5177\u6709\u7ba1\u7406\u5458\u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55 Sinohope Web Console\uff0c \u5728\u3010\u8bbe\u7f6e\u3011-\u3010MPC Node\u3011\u9875\u9762\u5b8c\u6210 MPC Node \u7684\u5173\u8054\u7ed1\u5b9a\u3002\u6b64\u5904\u9700\u8981\u8f93\u5165MPC Node \u521d\u59cb\u5316\u65f6\u751f\u6210\u7684 Node ID\u3002\n\n\n#### 2.2.5 \u542f\u52a8 MPC Node \u670d\u52a1\n\n\u7ed1\u5b9a MPC Node \u5b8c\u6210\u540e\uff0c\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u542f\u52a8 MPC Node \u670d\u52a1\u3002\n\n```Bash\n./node.sh start \n```\n\n\u670d\u52a1\u542f\u52a8\u8fd0\u884c\u540e\uff0c\u56de\u5230web console MPC Node \u914d\u7f6e\u754c\u9762\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u7a0d\u7b49\u7247\u523b\u5373\u53ef\u770b\u5230 \u201ckey share \u72b6\u6001\u201d \u4e3a\u201c\u5df2\u751f\u6210\u201d\uff0c\u540c\u65f6\u754c\u9762\u4e0a\u5c06\u5c55\u793a\u60a8\u7684\u7ec4\u7ec7\u7684MPC \u6839\u516c\u94a5 \u4fe1\u606f\u3002\n\n![img](./images/mpc-node.jpeg)\n\n\n#### 2.2.6 \u2757\ufe0f\u2757\ufe0f\u91cd\u8981\uff1a\u6570\u636e\u5e93\u5907\u4efd\n\nMPC Node \u672c\u5730\u6570\u636e\u5e93\u6587\u4ef6 `asset.db` \u5b58\u50a8\u4e86\u60a8\u7684\u79c1\u94a5\u5206\u7247 \u7b49\u91cd\u8981\u6570\u636e\uff0c\u6240\u6709\u6570\u636e\u5747\u4f7f\u7528\u5f3a\u5bc6\u94a5\u52a0\u5bc6\u5b58\u50a8\uff0c\u8be5\u5f3a\u5bc6\u94a5\u7531\u60a8\u4e3a MPC Node \u8bbe\u7f6e\u7684\u5bc6\u7801\u7ecf KDF \u51fd\u6570\u6d3e\u751f\u800c\u6765\u3002\n\n\u79c1\u94a5\u5206\u7247\u4e8b\u5173\u8d44\u91d1\u5b89\u5168\u53ca\u53ef\u7528\uff0cSinohope\u6240\u638c\u7ba1\u7684\u79c1\u94a5\u5206\u7247\u7531\u5e73\u53f0\u57fa\u4e8e\u591a\u5c42\u7ea7\u591a\u533a\u57df\u7684\u4e00\u7cfb\u5217\u9ad8\u53ef\u7528\u53ca\u707e\u5907\u65b9\u6848\u52a0\u4ee5\u4fdd\u7ba1\u53ca\u5907\u4efd\uff0c\u540c\u65f6\u60a8\u4e5f\u53ef\u7533\u8bf7\u5bf9\u60a8\u7684\u7ec4\u7ec7\u7684\u6240\u6709\u5206\u7247\u79c1\u94a5\u8fdb\u884c\u5907\u4efd\uff0c\u4ece\u800c\u5b8c\u5168\u638c\u63a7\u60a8\u7684\u6240\u67093\u7247\u5206\u7247\u79c1\u94a5\u3002\n\n\n\u800c**\u5bf9\u4e8e\u60a8\u672c\u5730\u7684\u6570\u636e\u5e93\u6587\u4ef6\u4e2d\u5b58\u5728\u7684\u79c1\u94a5\u5206\u7247\uff0c\u5219\u5fc5\u987b\u7531\u60a8\u81ea\u5df1\u5b8c\u6210\u5b89\u5168\u5197\u4f59\u5907\u4efd\u3002\u8bf7\u91c7\u53d6\u8db3\u591f\u7684\u5b89\u5168\u63aa\u65bd\u3001\u5f02\u5730\u591a\u526f\u672c \u5907\u4efd\u60a8\u7684\u6570\u636e\u5e93\u6587\u4ef6\uff0c\u4ee5\u53ca\u60a8\u4e3aMPC Node\u8bbe\u7f6e\u7684 \u5bc6\u7801**\u3002\n\n**\u5efa\u8bae\u6570\u636e\u5e93\u6587\u4ef6\u4e0e\u5bc6\u7801\u5206\u5f00\u4fdd\u7ba1\uff0c\u964d\u4f4e\u6570\u636e\u6cc4\u6f0f\u98ce\u9669**\u3002\n\n**\u540e\u7eed\u82e5\u60a8\u7684 MPC Node \u670d\u52a1\u5668\u6216\u670d\u52a1\u53d1\u751f\u6545\u969c\u3001\u6570\u636e\u53d7\u635f\u3001\u4e0d\u53ef\u7528\u7b49\u60c5\u51b5\u65f6\uff0c\u53ea\u80fd\u901a\u8fc7\u60a8\u5907\u4efd\u7684 \u6570\u636e\u5e93 \u6587\u4ef6\u53ca\u5bc6\u7801 \u91cd\u65b0\u90e8\u7f72MPC Node\u670d\u52a1\u6765\u8fdb\u884c\u6062\u590d\u3002Sinohope \u5c06\u65e0\u6cd5\u5e2e\u60a8\u6062\u590d\u60a8\u7684MPC Node \u670d\u52a1\uff01\uff01**\n\n## 3. MPC Node \u5b8c\u6574\u4ea4\u4e92\u547d\u4ee4\u4ecb\u7ecd\n\n### \u521d\u59cb\u5316\n\n\u8bf7\u5728\u547d\u4ee4\u884c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n\n```Bash\nsudo ./node.sh init\n```\n\n\u793a\u4f8b\uff1a\n\n```Shell\nsudo ./node.sh init\n[sudo] password for ubuntu:   (ubuntu\u8d26\u6237\u5bc6\u7801)\n? Type password (at least 8 characters): ********\n? Retype password: ********\n2023/08/18 10:18:46 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:18:46 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n\u8bf4\u660e\uff1a\u9996\u5148\u811a\u672c\u4f1a\u81ea\u52a8\u505a\u4e00\u4e9b\u73af\u5883\u7684\u68c0\u67e5\u5de5\u4f5c\uff0c\u5982\u5224\u65ad\u662f\u5426\u5b89\u88c5\u4e86Docker\uff0c\u5224\u65ad\u7528\u6237\u7684\u63a7\u4f4f\u6743\u9650\u7b49\u3002init\u547d\u4ee4\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u521d\u59cb\u5316\u8d26\u6237\u4fe1\u606f\uff0c\u5305\u62ec\uff1a\n\n- \u7ed9 MPC \u8282\u70b9\u8bbe\u7f6e\u4e00\u4e2a\u5bc6\u7801\uff0c\u8fd9\u4e2a\u5bc6\u7801\u7528\u4e8e\u4fdd\u62a4\u60a8\u7684\u79c1\u94a5\u5206\u7247 \u53ca\u5176\u4ed6\u79c1\u5bc6\u6570\u636e\uff0c**\u8bf7\u60a8\u59a5\u5584\u4fdd\u7ba1\uff0c\u5207\u52ff\u6cc4\u6f0f\uff0c\u5e76\u4e14\u505a\u597d\u5b89\u5168\u5197\u4f59\u5907\u4efd**\u3002\u8282\u70b9\u542f\u52a8\u65f6\u4f1a\u8981\u6c42\u8f93\u5165\u8be5\u5bc6\u7801\u3002\n  - \u60a8\u53ef\u91c7\u7528\u5982\u4e0b\u63aa\u65bd\u5b9e\u73b0\u5bc6\u7801\u81ea\u52a8\u8f93\u5165\uff1a\u6253\u5f00config.toml\u914d\u7f6e\u6587\u4ef6\uff0c[storage]\u914d\u7f6e\u9879\u4e2d\u589e\u52a0password\u5b57\u6bb5\uff1a\n  ```Shell\n    [storage]\n    db-file-path = "/tmp/mpc-node/asset.db"\n    unseal-server-address = "0.0.0.0:8080"\n    password = "FILL YOUR PASSWORD HERE"\n  ```\n- \u521b\u5efanode id\uff0c \u6bcf\u4e00\u4e2aMPC Node\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6id\uff0c\u60a8\u5c06\u9700\u8981\u4f7f\u7528\u8be5 node id \u5c06\u60a8\u7684MPC \u8282\u70b9\u4e0e\u60a8\u7684 WaaS \u7ec4\u7ec7\u8d26\u53f7\u505a\u552f\u4e00\u5173\u8054\u3002\n- \u521b\u5efa\u4e0ecallback-server\u901a\u4fe1\u65f6\u7684ECDSA\u5bc6\u94a5\u5bf9\u3002\n\n### \u542f\u52a8\u670d\u52a1\n\n\u8bf7\u5728\u547d\u4ee4\u884c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n\n```Bash\n./node.sh start \n```\n\n\u793a\u4f8b\uff1a\n\n```JSON\nsudo ./node.sh start\n[sudo] password for ubuntu:   (ubuntu\u8d26\u6237\u5bc6\u7801)\n? Enter password: ********\n```\n\n\u8bf4\u660e\uff1a\u811a\u672c\u4f1a\u8bfb\u53d6\u5bc6\u7801\u5e76\u542f\u52a8docker\u5185\u7684\u670d\u52a1\n\n### MPC Node\u5176\u4ed6\u547d\u4ee4\n\n\u6ce8\uff1a\u542f\u52a8\u670d\u52a1\u4e3b\u8981\u662finit\u548cstart\u547d\u4ee4\uff0c\u5176\u4ed6\u547d\u4ee4\u662f\u975e\u5fc5\u987b\u547d\u4ee4\uff0c\u53ef\u6309\u9700\u67e5\u9605\u3002\n\n#### \u67e5\u770bnode-id\u548ccallback\u516c\u94a5\n\n```JSON\n./node.sh info\n```\n\n\u793a\u4f8b\uff1a\n\n```Shell\n./node.sh info\n? Enter password: ********\n2023/08/18 10:23:59 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:23:59 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n#### \u4fee\u6539\u5bc6\u7801\n\n```JSON\n./node.sh reset\n./node.sh reset\n? Enter password: ********\n? Choose an action:  [Use arrows to move, type to filter]\n> Reset password\n```\n\n\u8bf4\u660e\uff1a\u6267\u884c\u6b64\u547d\u4ee4\u540e\u8bf7\u6839\u636e\u63d0\u793a\u4fe1\u606f\u9009\u62e9\u4fee\u6539\u5bc6\u7801\u3002\n\n#### \u67e5\u770b\u65e5\u5fd7\n\n```Bash\n./node.sh log\n```\n\n#### \u505c\u6b62\u670d\u52a1\n\n```Bash\n./node.sh stop\n```\n\n#### \u624b\u52a8\u68c0\u67e5\u73af\u5883\n\n```Bash\n./node.sh check\n```\n\n#### \u547d\u4ee4\u5e2e\u52a9\n\n```Bash\n./node.sh help\n```\n\n## 4. MPC Node\u56de\u8c03\u673a\u5236\n\nMPC Node \u542f\u52a8\u540e\uff0c\u4f1a\u81ea\u52a8\u548c Sinohope \u540e\u53f0\u5efa\u7acb\u957f\u94fe\u63a5\uff0c\u7528\u4e8e\u63a5\u6536 Sinohope \u540e\u53f0\u4e0b\u53d1\u7684\u4efb\u52a1\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cMPC Node\u6ca1\u6709\u542f\u7528\u56de\u8c03\u673a\u5236\uff0cMPC Node \u4f1a\u81ea\u52a8\u5b8c\u6210\u6240\u6709\u4efb\u52a1\u7684\u6267\u884c\uff1b\n\n\u5982\u679c\u914d\u7f6e\u4e3a\u542f\u7528\u56de\u8c03\u673a\u5236\uff0c\u5ba2\u670d\u9700\u8981\u81ea\u5df1\u5f00\u53d1\u4e00\u4e2a\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1\uff0c\u7528\u4e8e\u9a8c\u8bc1Sinohope\u4e0b\u53d1\u7684\u4efb\u52a1\u662f\u5426\u5408\u7406\uff0c\u6700\u7ec8\u51b3\u5b9a\u662f\u5426\u914d\u5408Sinohope\u5b8c\u6210\u7b7e\u540d\u3002\n\n\u56de\u8c03\u670d\u52a1\u7684\u5f00\u53d1\uff0c\u53ef\u53c2\u8003Sinohope \u63d0\u4f9b\u7684\u56de\u8c03\u670d\u52a1\u793a\u4f8b\uff1a[GitHub - sinohope/mpc-node-callback-demo](https://github.com/sinohope/mpc-node-callback-demo)\n\n### 4.1 \u914d\u7f6e\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1\n\n\u5728\u90e8\u7f72\u56de\u8c03\u670d\u52a1\u5668\u7684\u4e3b\u673a\u4e0a\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u521d\u59cb\u5316\u7684\u914d\u7f6e\u5de5\u4f5c\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a\n\n- \u751f\u6210\u56de\u8c03\u670d\u52a1\u5668\u7684 ECDSA \u79c1\u94a5\n\n```Go\nopenssl ecparam -genkey -name prime256v1 -out private_key.pem\n```\n\n- \u5bfc\u51fa\u56de\u8c03\u670d\u52a1\u5668\u7684 ECDSA \u516c\u94a5\n\n```Go\nopenssl ec -in private_key.pem -pubout -out callback_server_public.pem\n```\n\n- \u5c06\u5bfc\u51fa\u7684 ECDSA \u516c\u94a5\uff08\u5373  callback_server_public.pem \u6587\u4ef6\uff09\u590d\u5236\u5230 MPC Node \u6240\u5728\u673a\u5668\uff0c\u5e76\u5728 MPC Node \u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9acallback_server_public.pem\u6587\u4ef6\u4f4d\u7f6e\uff1a\n\n```TOML\n[callback]\nretry-times = 60\nsleep-seconds = 60\n[[callback.server]]\n  address = "http://127.0.0.1:9090/v1/check"\n  public-key-path = "./callback_server_public.pem"\n```\n\n- \u5c06 MPC Node \u7684 ECDSA \u516c\u94a5\u590d\u5236\u5230\u56de\u8c03\u670d\u52a1\u5668\u76f8\u5173\u914d\u7f6e\u6587\u4ef6\u4e2d\n\n\u5982\u4f55\u83b7\u53d6 MPC Node \u7684 ECDSA \u516c\u94a5\uff1a \n\n- \u5728 MPC Node \u5b8c\u6210\u521d\u59cb\u5316\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u67e5\u8be2 MPC Node \u7684 ECDSA \u516c\u94a5\uff1a\n\n```TOML\n./node.sh info\n```\n\n- \u793a\u4f8b\u8f93\u51fa\uff1a\n\n```TOML\n./node.sh info\n? Enter password: ********\n2023/08/18 10:23:59 node id: \nsinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0NzhlMjg0ZWNmNjE1YTUxMDE0Y2JlNGUyMjVhNWMyM2Y0OGQ2NjJhNWQ1MzNkNjVlNjkyMGYyYWZjNzEwMzdkM2RmNDExYWM0NGJmOGUyMmQ0ZGE1NjdmOWNlMTFmMjJhZWVkY2M4ZGNjZTkxNzY2ODhmNDMyMTVmYTYzYTFiMjA=\n2023/08/18 10:23:59 callback public key: \n-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEeOKE7PYVpRAUy+TiJaXCP0jWYqXV\nM9ZeaSDyr8cQN9PfQRrES/jiLU2lZ/nOEfIq7tzI3M6RdmiPQyFfpjobIA==\n-----END PUBLIC KEY-----\n```\n\n\u5176\u4e2d\u7684 callback public key \u5373\u4e3a MPC Node \u7684 ECDSA \u516c\u94a5\u3002\n\n### 4.2 \u5f00\u53d1\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1\n\n#### 4.2.1 \u7b7e\u540d\u4e0e\u9a8c\u7b7e\n\nMPC Node\u4e0e\u56de\u8c03\u670d\u52a1\u4e4b\u95f4\u7684\u6570\u636e\u901a\u8fc7\u5404\u81ea\u7684ECDSA\u79c1\u94a5\u751f\u6210\u7b7e\u540d\uff0c\u7136\u540e\u5bf9\u65b9\u4f7f\u7528\u63d0\u524d\u914d\u7f6e\u597d\u7684\u516c\u94a5\u6839\u636e\u6307\u5b9a\u7684\u89c4\u5219\u8fdb\u884c\u9a8c\u7b7e\uff0c\u53ea\u6709\u7b7e\u9a8c\u901a\u8fc7\u624d\u53ef\u4ee5\u8ba4\u4e3a\u662f\u5408\u6cd5\u7684\u8bf7\u6c42\u3002\n\n\u4ee5\u4e0b\u662f\u5f53\u524dMPC Node\u4e0e\u56de\u8c03\u670d\u52a1\u4e4b\u95f4\u901a\u4fe1\u7684\u6570\u636e\u7ed3\u6784\uff0c\u8bf7\u6ce8\u610f\u4e0d\u8981\u968f\u610f\u66f4\u6539\u5b57\u6bb5\u5148\u540e\u987a\u5e8f\u3002\n\nRequest:\n\n```Go\ntype Check struct {\n    CallbackId    string `json:"callback_id,omitempty"`\n    RequestType   string `json:"request_type,omitempty"`\n    RequestDetail `json:"request_detail,omitempty"`\n    ExtraInfo     `json:"extra_info,omitempty"`\n}\n\ntype RequestDetail struct {\n    T            int      `json:"t,omitempty"`\n    N            int      `json:"n,omitempty"`\n    Cryptography string   `json:"cryptography,omitempty"`\n    PartyIds     []string `json:"party_ids,omitempty"`\n\n    PublicKey   string `json:"public_key,omitempty"`\n    Path        string `json:"path,omitempty"`\n    Message     string `json:"message,omitempty"`\n    Coin        string `json:"coin,omitempty"`\n    FromAddress string `json:"from_address,omitempty"`\n    ToAddress   string `json:"to_address,omitempty"`\n    Amount      string `json:"amount,omitempty"`\n    Fee         string `json:"fee,omitempty"`\n    GasPrice    string `json:"gas_price,omitempty"`\n    GasLimit    string `json:"gas_limit,omitempty"`\n    Signature   string `json:"signature,omitempty"`\n}\n\ntype ExtraInfo struct {\n    SinoId    string `json:"sino_id,omitempty"`\n    RequestId string `json:"request_id,omitempty"`\n}\n```\n\nResponse:\n\n```Go\ntype Response struct {\n    Status    string        `json:"status,omitempty"`\n    Error     string        `json:"error,omitempty"`\n    Data      *ResponseData `json:"data,omitempty"`\n    Signature string        `json:"signature,omitempty"`\n}\n\ntype ResponseData struct {\n    CallbackId string `json:"callback_id,omitempty"`\n    SinoId     string `json:"sino_id,omitempty"`\n    RequestId  string `json:"request_id,omitempty"`\n    Action     string `json:"action,omitempty"`\n    WaitTime   string `json:"wait_time,omitempty"`\n}\n```\n\n##### 1\u3001 \u751f\u6210Request\u7b7e\u540d\n\n- MPC Node\u6839\u636e\u8bf7\u6c42\u7684\u7c7b\u578b\u6784\u9020Check\u7ed3\u6784\u4f53\uff1b\n- \u5c06\u6784\u9020\u597d\u7684Check\u7ed3\u6784\u4f53\u8fdb\u884cjson\u5e8f\u5217\u5316\uff0c\u5f97\u5230Message\uff1b\n- MPC Node\u4f7f\u7528\u81ea\u5df1\u7684ECDSA\u79c1\u94a5\u5bf9Message\u7b7e\u540d\uff0c\u5f97\u5230Signature\uff1b\n- MPC Node\u5c06Signature\u8bbe\u7f6e\u5230\u672c\u6b21HTTP\u8bf7\u6c42\u5934\u4e2d\uff0cKey\u4e3aSigature\uff1b\n\n##### 2\u3001Request\u7b7e\u540d\u9a8c\u7b7e\n\n- \u56de\u8c03\u670d\u52a1\u4f7f\u7528Check\u7ed3\u6784\u4f53\u89e3\u6790MPC Node\u7684HTTP\u8bf7\u6c42\uff0c\u5f97\u5230\u672c\u6b21\u8bf7\u6c42\u7684Check\u6570\u636e\uff1b\n- \u56de\u8c03\u670d\u52a1\u5c06\u5f97\u5230\u7684Check\u6570\u636e\u8fdb\u884cjson\u5e8f\u5217\u5316\uff0c\u5f97\u5230\u5f85\u9a8c\u7b7e\u7684Message\uff1b\n- \u56de\u8c03\u670d\u52a1\u4eceHTTP\u8bf7\u6c42\u4e2d\u5f97\u5230Signature\uff0c\u7136\u540e\u7ed3\u5408Mesage\u548c\u63d0\u524d\u914d\u7f6e\u597d\u7684MPC Node\u516c\u94a5\u5bf9Signature\u8fdb\u884c\u9a8c\u7b7e\uff1b\n\n##### 3\u3001\u751f\u6210Response\u7b7e\u540d\n\n- \u56de\u8c03\u670d\u52a1\u6839\u636e\u81ea\u8eab\u7684\u51b3\u7b56\u751f\u6210\u4e0a\u8ff0Response\uff0c\u5e76\u5728Response.Data\u4e2d\u586b\u5145\u76f8\u5e94\u7684\u5b57\u6bb5\uff1b\n- \u56de\u8c03\u670d\u52a1\u5bf9Response.Data\u8fdb\u884cjson\u5e8f\u5217\u5316\uff0c\u5f97\u5230Message\uff1b\n- \u56de\u8c03\u670d\u52a1\u4f7f\u7528\u81ea\u8eab\u7684ECDSA\u79c1\u94a5\u5bf9Message\u7b7e\u540d\uff0c\u5f97\u5230Signature\uff0c\u5e76\u5c06Signature\u8d4b\u503c\u7ed9Response.Signature\u5b57\u6bb5\uff1b\n\n##### 4\u3001Response\u7b7e\u540d\u9a8c\u7b7e\n\n- MPC Node\u5f97\u5230\u56de\u8c03\u670d\u52a1\u7684Response\uff0c\u5e76\u5bf9Response.Data\u5b57\u6bb5\u8fdb\u884cjson\u5e8f\u5217\u5316\u5f97\u5230Message\uff1b\n- MPC Node\u7ed3\u5408Message\u548c\u63d0\u524d\u914d\u7f6e\u597d\u7684\u56de\u8c03\u670d\u52a1\u516c\u94a5\u5bf9Response.Signature\u8fdb\u884c\u9a8c\u7b7e\uff1b\n\n#### 4.2.2 check\n\n\u6bcf\u6b21keygen\u548csign\u4e1a\u52a1mpc-node\u90fd\u4f1a\u901a\u8fc7check\u63a5\u53e3\u8bf7\u6c42\u7528\u6237\u8fdb\u884c\u98ce\u63a7\uff0c\u53ea\u6709\u56de\u8c03\u670d\u52a1\u660e\u786e\u56de\u590dApprove\u65f6\u76f8\u5173\u4e1a\u52a1\u624d\u5141\u8bb8\u5f00\u59cb\u3002\n\n##### 1\u3001HTTP \u63a5\u53e3\n\n> path: /v1/check\n\n> method: post\n\n> body: JSON\u7f16\u7801\u7684\u6570\u636e\n\n##### 2\u3001Request\n\n| \u53c2\u6570           | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| -------------- | ------ | ------------------------------------------------------------ |\n| callback_id    | string | \u56de\u8c03\u8bf7\u6c42\u552f\u4e00ID                                               |\n| request_type   | string | \u56de\u8c03\u8bf7\u6c42\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u6709\u4ee5\u4e0b\u4e24\u79cd\u53d6\u503c\uff1akeygen\u3001sign           |\n| request_detail | struct | \u56de\u8c03\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u4e00\u7cfb\u5217\u5173\u952e\u4fe1\u606f\u3002\u4e0d\u540c\u7684\u56de\u8c03\u8bf7\u6c42\u7c7b\u578b\u5bf9\u5e94\u4e0d\u540c\u7684 request_detail \u7ed3\u6784\uff1b\u683c\u5f0f\u4e3a JSON \u5e8f\u5217\u5316\u540e\u7684\u5b57\u7b26\u4e32 |\n| extra_info     | struct | \u56de\u8c03\u8bf7\u6c42\u8f85\u52a9\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u4e00\u4e9b\u989d\u5916\u76f8\u5173\u4fe1\u606f\uff1b\u4e0d\u540c\u7684\u56de\u8c03\u8bf7\u6c42\u7c7b\u578b\u5bf9\u5e94\u4e0d\u540c\u7684 extra_info \u7ed3\u6784\uff1b\u683c\u5f0f\u4e3a JSON \u5e8f\u5217\u5316\u540e\u7684\u5b57\u7b26\u4e32 |\n\n- \u5f53`request_type == keygen`\u65f6\uff0c`request_detail` \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a\n\n| \u53c2\u6570         | \u7c7b\u578b     | \u63cf\u8ff0                                          |\n| ------------ | -------- | --------------------------------------------- |\n| threshold    | int      | \u7b7e\u540d\u9608\u503c                                      |\n| party_ids    | []string | \u53c2\u4e0e\u751f\u6210\u79c1\u94a5\u7684\u8282\u70b9ID\u96c6\u5408                      |\n| cryptography | string   | \u4f7f\u7528\u7684\u7b7e\u540d\u7b97\u6cd5\u3002ecdsa-secp256k1/eddsa-ed25519 |\n\n`extra_info` \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a\n\n| \u53c2\u6570        | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| ----------- | ------ | ------------------------------------------------------------ |\n| callback_id | string | MPC Node\u6bcf\u6b21\u8bf7\u6c42\u65f6\u751f\u6210\u7684\u552f\u4e00ID                               |\n| sino_id     | string | Sinohope \u5185\u90e8 keygen \u8bf7\u6c42\u552f\u4e00 ID                             |\n| request_id  | string | \u7528\u6237\u901a\u8fc7 WaaS \u63a5\u53e3\u4f20\u5165\u7684\u8bf7\u6c42 ID\uff0c\u5982\u679c\u8bf7\u6c42\u975e WaaS \u63a5\u53e3\uff0cCobo \u5185\u90e8\u4f1a\u81ea\u52a8\u751f\u6210 |\n\n- \u5f53 `request_type == sign` \u65f6\uff0c`request_detail` \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a\n\n| \u53c2\u6570       | \u7c7b\u578b     | \u63cf\u8ff0                 |\n| ---------- | -------- | -------------------- |\n| public_key | string   | \u6839\u516c\u94a5               |\n| party_id   | []string | \u53c2\u4e0e\u7b7e\u540d\u65f6\u7684\u8282\u70b9\u5217\u8868 |\n| path       | string   | \u4f7f\u7528\u7684bip32path\u5217\u8868  |\n| message    | string   | \u5f85\u7b7e\u540d\u7684\u6d88\u606f         |\n\n`extra_info` \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a\n\n| \u53c2\u6570         | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| ------------ | ------ | ------------------------------------------------------------ |\n| sign_type    | string | \u5f85\u7b7e\u540d\u7684\u4ea4\u6613\u7c7b\u578b\uff1a1\u3001\u666e\u901a\u4ea4\u6613\uff1b2\u3001EIP191/EIP712\u6d88\u606f\u7b7e\u540d\uff1b3\u3001RawData\u7b7e\u540d\uff1b       |\n| public_key   | string | \u6839\u516c\u94a5\u5bf9\u5e94\u7684public key                                       |\n| path         | string | bip32\u6d3e\u751f\u8def\u5f84                                                |\n| message      | string | \u5f85\u7b7e\u540d\u7684\u6d88\u606f                                                 |\n| coin         | string | \u8d44\u4ea7\u540d\u79f0                                                     |\n| decimal      | string | \u5e01\u79cd\u7cbe\u5ea6                                                     |\n| from_address | string | \u8d44\u4ea7\u51fa\u8d26\u5730\u5740                                                 |\n| to_address   | string | \u63d0\u5e01\u5230\u8d26\u5730\u5740                                                 |\n| amount       | string | \uff08\u975e\u5fc5\u9700\uff09\u4ea4\u6613\u6570\u989d\uff0c\u8bf7\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684\u6570\u503c\u5305\u542b\u5c0f\u6570\u4f4d\uff0c\u4f8b\u5982 BTC decimal \u4e3a8\u4f4d\uff0c\u5219\u8fd9\u91cc\u7684 100000000 \u5b9e\u9645\u4e3a 1 \u4e2a BTC |\n| fee          | string | \uff08\u975e\u5fc5\u9700\uff09\u5bf9\u4e8e BTC \u4ea4\u6613\uff0c\u8be5\u5b57\u6bb5\u8868\u793a\u6bcf\u5b57\u8282\u5bf9\u5e94\u7684\u624b\u7eed\u8d39\uff0c\u5355\u4f4d\u4e3a satoshi |\n| gas_price    | string | \uff08\u975e\u5fc5\u9700\uff09\u71c3\u6599\u4ef7\u683c\uff0cETH \u7c7b\u578b\u8d26\u53f7\u6a21\u578b\u9002\u7528\uff0c\u5355\u4f4d\u4e3a GWei        |\n| gas_limit    | string | \uff08\u975e\u5fc5\u9700\uff09\u71c3\u6599\u4e0a\u9650\uff0cETH \u7c7b\u578b\u8d26\u53f7\u6a21\u578b\u9002\u7528                     |\n\n##### 3\u3001Response\n\n| \u53c2\u6570   | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| ------ | ------ | ------------------------------------------------------------ |\n| status | string | \u72b6\u6001\u7801\uff0c\u5f53\u72b6\u6001\u7801\u4e3a 0 \u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6b63\u5e38\u6267\u884c\uff1b\u5f53\u72b6\u6001\u7801\u4e3a\u5176\u4ed6\u503c\u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6267\u884c\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u4e00\u4e9b\u5f02\u5e38\u60c5\u51b5 |\n| error  | string | \u9519\u8bef\u4fe1\u606f\uff1b\u5f53 status \u8fd4\u56de\u503c\u4e0d\u662f 0 \u65f6\uff0c\u4ee3\u8868\u56de\u8c03\u670d\u52a1\u5668\u5185\u90e8\u51fa\u73b0\u7684\u9519\u8bef\u4fe1\u606f\uff1b\u5f53 status \u4e3a 0\uff0c\u4e14\u98ce\u63a7\u7ed3\u679c\u4e3a REJECT \u65f6\uff0c\u4ee3\u8868\u5177\u4f53\u7684\u98ce\u63a7\u62d2\u7edd\u4fe1\u606f\u3002 |\n| data   | json   | \u8bf7\u6c42\u7684\u7ed3\u679c\u6570\u636e                                               |\n\ndata\u7ed3\u6784\n\n| \u53c2\u6570        | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| ----------- | ------ | ------------------------------------------------------------ |\n| callback_id | string | \u672c\u6b21\u8bf7\u6c42\u7684callback_id                                        |\n| sino_id     | string | \u672c\u6b21\u8bf7\u6c42\u7684sino_id                                            |\n| request_id  | string | \u672c\u6b21\u8bf7\u6c42\u7684request_id                                         |\n| action      | string | \u672c\u6b21\u8bf7\u6c42\u7684\u5904\u7406\u7ed3\u679c\uff1a Approve: \u5141\u8bb8 Reject: \u62d2\u7edd Wait: \u7b49\u5f85\u540e\u91cd\u8bd5 |\n| wait_time   | string | \u5f53action\u4e3aWait\u65f6\uff0c\u6b64\u5b57\u6bb5\u7528\u4e8e\u6307\u793aMPC Node\u9700\u8981\u7b49\u5f85\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2 |\n\n#### 4.2.3 rawdata_signature\n\n\u8be5\u63a5\u53e3\u7528\u4e8e\u4e0a\u62a5\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u6d88\u606f\u7684\u7b7e\u540d\u7ed3\u679c\uff0c\u53ea\u6709\u5f53sign\u4e1a\u52a1\u7684sign_type\u4e3a`2`\u6216`3`\u65f6\u4e14MPC Node\u7b7e\u540d\u6210\u529f\u540e\u624d\u4f1a\u5411\u56de\u8c03\u670d\u52a1\u4e0a\u62a5\u539f\u59cb\u7684\u6d88\u606f\u548c\u7b7e\u540d\u7ed3\u679c\u3002\n\n##### 1\u3001HTTP\u63a5\u53e3\n\n> path: /v1/rawdata_signature\n\n> method: post\n\n> body: JSON\u7f16\u7801\u7684\u6570\u636e\n\n##### 2\u3001 Request\n\n| \u53c2\u6570           | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| -------------- | ------ | ------------------------------------------------------------ |\n| callback_id    | string | \u56de\u8c03\u8bf7\u6c42\u552f\u4e00ID                                               |\n| request_detail | struct | \u56de\u8c03\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u4e00\u7cfb\u5217\u5173\u952e\u4fe1\u606f\u3002\u4e0d\u540c\u7684\u56de\u8c03\u8bf7\u6c42\u7c7b\u578b\u5bf9\u5e94\u4e0d\u540c\u7684 request_detail \u7ed3\u6784\uff1b\u683c\u5f0f\u4e3a JSON \u5e8f\u5217\u5316\u540e\u7684\u5b57\u7b26\u4e32 |\n\nrequest_defailt\u5185\u5bb9\u5982\u4e0b\uff1a\n\n| \u53c2\u6570      | \u7c7b\u578b   | \u63cf\u8ff0             |\n| --------- | ------ | ---------------- |\n| message   | string | \u539f\u59cb\u5f85\u7b7e\u540d\u7684\u6d88\u606f |\n| signature | string | \u7b7e\u540d\u7ed3\u679c         |\n\n##### 3\u3001Response\n\n| \u53c2\u6570   | \u7c7b\u578b   | \u63cf\u8ff0                                                         |\n| ------ | ------ | ------------------------------------------------------------ |\n| status | string | \u72b6\u6001\u7801\uff0c\u5f53\u72b6\u6001\u7801\u4e3a 0 \u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6b63\u5e38\u6267\u884c\uff1b\u5f53\u72b6\u6001\u7801\u4e3a\u5176\u4ed6\u503c\u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6267\u884c\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u4e00\u4e9b\u5f02\u5e38\u60c5\u51b5 |\n| error  | string | \u9519\u8bef\u4fe1\u606f\uff1b\u5f53 status \u8fd4\u56de\u503c\u4e0d\u662f 0 \u65f6\uff0c\u4ee3\u8868\u56de\u8c03\u670d\u52a1\u5668\u5185\u90e8\u51fa\u73b0\u7684\u9519\u8bef\u4fe1\u606f\u3002 |\n\n'},postman:{name:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",description:{type:"text/plain"},url:{path:["v1","waas","mpc","is_valid_address"],host:["{{baseUrl}}"],query:[],variable:[]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"POST",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}}}},sidebar_class_name:"post api-method",info_path:"docs/develop/mpc-waas-api/sinohope-waas-api",custom_edit_url:null},sidebar:"mpcApiSidebar",previous:{title:"\u67e5\u8be2\u5730\u5740\u4f59\u989d\u4fe1\u606f",permalink:"/docs/develop/mpc-waas-api/\u67e5\u8be2\u5730\u5740\u4f59\u989d\u4fe1\u606f"},next:{title:"\u5f53\u524d\u91d1\u5e93\u8bbe\u7f6e\u5f00\u5173\u4ee5\u540e,\u652f\u6301\u8f6c\u8d26\u7684\u5730\u5740\u7c3f",permalink:"/docs/develop/mpc-waas-api/\u5f53\u524d\u91d1\u5e93\u8bbe\u7f6e\u5f00\u5173\u4ee5\u540e-\u652f\u6301\u8f6c\u8d26\u7684\u5730\u5740\u7c3f"}},h={},N=[{value:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",id:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e",level:2}],g={toc:N},u="wrapper";function y(n){let{components:e,...o}=n;return(0,t.kt)(u,(0,s.Z)({},g,o,{components:e,mdxType:"MDXLayout"}),(0,t.kt)("h2",{id:"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e"},"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e"),(0,t.kt)("p",null,"\u68c0\u67e5\u5e01\u79cd\u5730\u5740\u662f\u5426\u6b63\u786e"),(0,t.kt)(i.Z,{mdxType:"MimeTabs"},(0,t.kt)(c.Z,{label:"application/json",value:"application/json-schema",mdxType:"TabItem"},(0,t.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,t.kt)("summary",{style:{textAlign:"left"}},(0,t.kt)("strong",null,"Request Body")),(0,t.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,t.kt)("ul",{style:{marginLeft:"1rem"}},(0,t.kt)(r.Z,{collapsible:!1,name:"assetId",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"\u5e01\u79cd\u4ee3\u53f7 \u5e01\u6807\u8bc6 \u5177\u6709\u552f\u4e00\u6027",example:"USDT_ETH"},mdxType:"SchemaItem"}),(0,t.kt)(r.Z,{collapsible:!1,name:"address",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"\u5730\u5740",example:"0x67d0F791D950CdC25Ac44bA249328022f4df93b6"},mdxType:"SchemaItem"}))))),(0,t.kt)("div",null,(0,t.kt)(a.Z,{mdxType:"ApiTabs"},(0,t.kt)(c.Z,{label:"200",value:"200",mdxType:"TabItem"},(0,t.kt)("div",null,(0,t.kt)("p",null,"successful operation")),(0,t.kt)("div",null,(0,t.kt)(i.Z,{schemaType:"response",mdxType:"MimeTabs"},(0,t.kt)(c.Z,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,t.kt)(p.Z,{mdxType:"SchemaTabs"},(0,t.kt)(c.Z,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,t.kt)("details",{style:{},"data-collapsed":!1,open:!0},(0,t.kt)("summary",{style:{textAlign:"left"}},(0,t.kt)("strong",null,"Schema")),(0,t.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,t.kt)("ul",{style:{marginLeft:"1rem"}},(0,t.kt)(r.Z,{collapsible:!1,name:"code",required:!1,schemaName:"integer",qualifierMessage:void 0,schema:{type:"integer",example:200},mdxType:"SchemaItem"}),(0,t.kt)(r.Z,{collapsible:!1,name:"msg",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",example:""},mdxType:"SchemaItem"}),(0,t.kt)(r.Z,{collapsible:!0,className:"schemaItem",mdxType:"SchemaItem"},(0,t.kt)("details",{style:{}},(0,t.kt)("summary",{style:{}},(0,t.kt)("strong",null,"data"),(0,t.kt)("span",{style:{opacity:"0.6"}}," object")),(0,t.kt)("div",{style:{marginLeft:"1rem"}},(0,t.kt)(r.Z,{collapsible:!1,name:"isValid",required:!1,schemaName:"boolean",qualifierMessage:void 0,schema:{type:"boolean",description:"\u68c0\u67e5\u7ed3\u679c",example:!0},mdxType:"SchemaItem"})))),(0,t.kt)(r.Z,{collapsible:!1,name:"success",required:!1,schemaName:"boolean",qualifierMessage:void 0,schema:{type:"boolean"},mdxType:"SchemaItem"})))),(0,t.kt)(c.Z,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,t.kt)(d.Z,{responseExample:'{\n  "code": 200,\n  "msg": "",\n  "data": {\n    "isValid": true\n  },\n  "success": true\n}',language:"json",mdxType:"ResponseSamples"}))))))))))}y.isMDXComponent=!0}}]);