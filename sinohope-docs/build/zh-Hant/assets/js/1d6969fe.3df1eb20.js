"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[5146],{44215:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>p,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>k});var a=n(87462),l=(n(67294),n(3905));const r={},p="MPC Node \u4f7f\u7528\u6307\u5357",i={unversionedId:"develop/mpc-waas-api/quick-start/qs-2-node",id:"develop/mpc-waas-api/quick-start/qs-2-node",title:"MPC Node \u4f7f\u7528\u6307\u5357",description:"1. Sinohope WaaS MPC\u6280\u672f\u7b80\u4ecb",source:"@site/i18n/zh-Hant/docusaurus-plugin-content-docs/current/develop/mpc-waas-api/quick-start/qs-2-node.md",sourceDirName:"develop/mpc-waas-api/quick-start",slug:"/develop/mpc-waas-api/quick-start/qs-2-node",permalink:"/zh-Hant/docs/develop/mpc-waas-api/quick-start/qs-2-node",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"mpcApiSidebar",previous:{title:"MPC WaaS \u5feb\u901f\u5165\u95e8",permalink:"/zh-Hant/docs/develop/mpc-waas-api/quick-start/qs-1-waas"},next:{title:"babylon staking",permalink:"/zh-Hant/docs/develop/mpc-waas-api/quick-start/qs-3-babylon"}},d={},k=[{value:"1. Sinohope WaaS MPC\u6280\u672f\u7b80\u4ecb",id:"1-sinohope-waas-mpc\u6280\u672f\u7b80\u4ecb",level:2},{value:"2. MPC Node\u90e8\u7f72\u5b9e\u65bd",id:"2-mpc-node\u90e8\u7f72\u5b9e\u65bd",level:2},{value:"2.1 \u73af\u5883\u51c6\u5907",id:"21-\u73af\u5883\u51c6\u5907",level:3},{value:"2.1.1 \u901a\u7528\u670d\u52a1\u5668\u73af\u5883",id:"211-\u901a\u7528\u670d\u52a1\u5668\u73af\u5883",level:4},{value:"\u6700\u4f4e\u914d\u7f6e",id:"\u6700\u4f4e\u914d\u7f6e",level:5},{value:"\u63a8\u8350\u914d\u7f6e",id:"\u63a8\u8350\u914d\u7f6e",level:5},{value:"2.1.2 TEE\u670d\u52a1\u5668\u73af\u5883",id:"212-tee\u670d\u52a1\u5668\u73af\u5883",level:4},{value:"\u6700\u4f4e\u914d\u7f6e",id:"\u6700\u4f4e\u914d\u7f6e-1",level:5},{value:"\u63a8\u8350\u914d\u7f6e",id:"\u63a8\u8350\u914d\u7f6e-1",level:5},{value:"2.1.3 \u7f51\u7edc\u8981\u6c42",id:"213-\u7f51\u7edc\u8981\u6c42",level:4},{value:"\u9632\u706b\u5899\u5165\u7ad9\u89c4\u5219",id:"\u9632\u706b\u5899\u5165\u7ad9\u89c4\u5219",level:5},{value:"\u9632\u706b\u5899\u51fa\u7ad9\u89c4\u5219",id:"\u9632\u706b\u5899\u51fa\u7ad9\u89c4\u5219",level:5},{value:"2.1.4 \u5b89\u88c5 Docker",id:"214-\u5b89\u88c5-docker",level:4},{value:"2.2 \u90e8\u7f72\u4e0e\u914d\u7f6e",id:"22-\u90e8\u7f72\u4e0e\u914d\u7f6e",level:3},{value:"2.2.1 \u83b7\u53d6\u5e76\u9a8c\u8bc1\u5b89\u88c5\u5305",id:"221-\u83b7\u53d6\u5e76\u9a8c\u8bc1\u5b89\u88c5\u5305",level:4},{value:"2.2.2 \u521d\u59cb\u5316\u8282\u70b9",id:"222-\u521d\u59cb\u5316\u8282\u70b9",level:4},{value:"2.2.3 (Optional) \u90e8\u7f72\u53ca\u914d\u7f6e\u56de\u8c03\u670d\u52a1",id:"223-optional-\u90e8\u7f72\u53ca\u914d\u7f6e\u56de\u8c03\u670d\u52a1",level:4},{value:"2.2.4 \u7ed1\u5b9a MPC Node",id:"224-\u7ed1\u5b9a-mpc-node",level:4},{value:"2.2.5 \u542f\u5c01 MPC Node \u670d\u52a1",id:"225-\u542f\u5c01-mpc-node-\u670d\u52a1",level:4},{value:"2.2.6 \u2757\ufe0f\u2757\ufe0f\u91cd\u8981\uff1a\u6570\u636e\u5e93\u5907\u4efd",id:"226-\ufe0f\ufe0f\u91cd\u8981\u6570\u636e\u5e93\u5907\u4efd",level:4},{value:"3. MPC Node \u5b8c\u6574\u4ea4\u4e92\u547d\u4ee4\u4ecb\u7ecd",id:"3-mpc-node-\u5b8c\u6574\u4ea4\u4e92\u547d\u4ee4\u4ecb\u7ecd",level:2},{value:"\u542f\u52a8",id:"\u542f\u52a8",level:3},{value:"\u521d\u59cb\u5316",id:"\u521d\u59cb\u5316",level:3},{value:"\u542f\u5c01\u670d\u52a1",id:"\u542f\u5c01\u670d\u52a1",level:3},{value:"MPC Node\u5176\u4ed6\u547d\u4ee4",id:"mpc-node\u5176\u4ed6\u547d\u4ee4",level:3},{value:"\u67e5\u770bnode-id\u548ccallback\u516c\u94a5",id:"\u67e5\u770bnode-id\u548ccallback\u516c\u94a5",level:4},{value:"\u4fee\u6539\u5bc6\u7801",id:"\u4fee\u6539\u5bc6\u7801",level:4},{value:"\u505c\u6b62\u670d\u52a1",id:"\u505c\u6b62\u670d\u52a1",level:4},{value:"\u624b\u52a8\u68c0\u67e5\u73af\u5883",id:"\u624b\u52a8\u68c0\u67e5\u73af\u5883",level:4},{value:"\u547d\u4ee4\u5e2e\u52a9",id:"\u547d\u4ee4\u5e2e\u52a9",level:4},{value:"4. MPC Node\u56de\u8c03\u673a\u5236",id:"4-mpc-node\u56de\u8c03\u673a\u5236",level:2},{value:"4.1 \u914d\u7f6e\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1",id:"41-\u914d\u7f6e\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1",level:3},{value:"4.2 \u5f00\u53d1\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1",id:"42-\u5f00\u53d1\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1",level:3},{value:"4.2.1 \u7b7e\u540d\u4e0e\u9a8c\u7b7e",id:"421-\u7b7e\u540d\u4e0e\u9a8c\u7b7e",level:4},{value:"1\u3001 \u751f\u6210Request\u7b7e\u540d",id:"1-\u751f\u6210request\u7b7e\u540d",level:5},{value:"2\u3001Request\u7b7e\u540d\u9a8c\u7b7e",id:"2request\u7b7e\u540d\u9a8c\u7b7e",level:5},{value:"3\u3001\u751f\u6210Response\u7b7e\u540d",id:"3\u751f\u6210response\u7b7e\u540d",level:5},{value:"4\u3001Response\u7b7e\u540d\u9a8c\u7b7e",id:"4response\u7b7e\u540d\u9a8c\u7b7e",level:5},{value:"4.2.2 check",id:"422-check",level:4},{value:"1\u3001HTTP \u63a5\u53e3",id:"1http-\u63a5\u53e3",level:5},{value:"2\u3001Request",id:"2request",level:5},{value:"3\u3001Response",id:"3response",level:5},{value:"rawdata_signature",id:"rawdata_signature",level:4},{value:"1\u3001HTTP\u63a5\u53e3",id:"1http\u63a5\u53e3",level:5},{value:"2\u3001 Request",id:"2-request",level:5},{value:"3\u3001Response",id:"3response-1",level:5},{value:"4.3 \u6fc0\u6d3b\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1",id:"43-\u6fc0\u6d3b\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1",level:3},{value:"5. MPC Node\u7b7e\u540d\u7ed3\u679c\u52a0\u5bc6",id:"5-mpc-node\u7b7e\u540d\u7ed3\u679c\u52a0\u5bc6",level:2},{value:"5.1 \u751f\u6210\u52a0\u5bc6\u516c\u79c1\u94a5",id:"51-\u751f\u6210\u52a0\u5bc6\u516c\u79c1\u94a5",level:3},{value:"5.2 \u8bbe\u7f6e\u914d\u7f6e\u6587\u4ef6",id:"52-\u8bbe\u7f6e\u914d\u7f6e\u6587\u4ef6",level:3},{value:"5.3 \u89e3\u5bc6\u7b7e\u540d\u7ed3\u679c",id:"53-\u89e3\u5bc6\u7b7e\u540d\u7ed3\u679c",level:3},{value:"5.4 \u9884\u7b7e\u540d",id:"54-\u9884\u7b7e\u540d",level:3}],o={toc:k},u="wrapper";function m(t){let{components:e,...r}=t;return(0,l.kt)(u,(0,a.Z)({},o,r,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"mpc-node-\u4f7f\u7528\u6307\u5357"},"MPC Node \u4f7f\u7528\u6307\u5357"),(0,l.kt)("h2",{id:"1-sinohope-waas-mpc\u6280\u672f\u7b80\u4ecb"},"1. Sinohope WaaS MPC\u6280\u672f\u7b80\u4ecb"),(0,l.kt)("p",null,"\u95e8\u9650\u7b7e\u540d\uff08Threshold Signature Scheme\uff0cTSS\uff09\u662f\u6570\u5b57\u7b7e\u540d\u7684\u4e00\u4e2a\u91cd\u8981\u5206\u652f\uff0c\u5b83\u662f\u4e00\u79cd\u57fa\u4e8e\u5b89\u5168\u591a\u65b9\u8ba1\u7b97\uff08Secure Multi-Party Computation\uff0cMPC\uff09\u7684\u5bc6\u7801\u5b66\u6280\u672f\uff0c\u4e5f\u662f MPC \u5bc6\u94a5\u7ba1\u7406\u7684\u91cd\u8981\u7814\u7a76\u65b9\u5411\u3002"),(0,l.kt)("p",null,"Sinohope \u63a8\u51fa\u7684 WaaS\uff08Wallet as a Service\uff09\u662f\u4ee5MPC-TSS\u6280\u672f\u4e3a\u57fa\u7840\u7684\u94b1\u5305\u5373\u670d\u52a1\u65b9\u6848\u3002Sinohope WaaS\u670d\u52a1\u9700\u8981\u5ba2\u6237\u4e0e\u5e73\u53f0\u4ee5\u5206\u5e03\u5f0f\u534f\u4f5c\u7684\u65b9\u5f0f\uff0c\u5404\u81ea\u6301\u6709\u79c1\u94a5\u5206\u7247\uff0c\u57fa\u4e8e",(0,l.kt)("a",{parentName:"p",href:"https://eprint.iacr.org/2021/060"},"MPC-CMP\u534f\u8bae"),"\uff08ECDSA\uff09\u53ca",(0,l.kt)("a",{parentName:"p",href:"https://link.springer.com/chapter/10.1007/3-540-47719-5_33#chapter-info"},"SS01\u534f\u8bae"),"\uff08EdDSA\uff09\u5b9e\u73b0\u7531\u5ba2\u6237\u4e3b\u5bfc\u7684\u94fe\u4e0b\u591a\u65b9\u7b7e\u540d\u3002MPC Node \u662f Sinohope WaaS \u4e3a\u5ba2\u6237\u63d0\u4f9b\u7684\u4e13\u5c5e\u7a0b\u5e8f\u5305\uff0c\u7528\u4e8e\u7ba1\u7406\u5ba2\u6237\u81ea\u5df1\u7684\u79c1\u94a5\u5206\u7247\u3002"),(0,l.kt)("p",null,"Sinohope \u91c7\u75283-3\u591a\u7b7e\u6a21\u5f0f\uff0c\u5ba2\u6237\u6301\u6709\u4e00\u4e2a\u79c1\u94a5\u5206\u7247\u3001Sinohope\u6301\u6709\u4e24\u4e2a\u79c1\u94a5\u5206\u7247\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"MPC Node 1\uff1aSinohope\u8d1f\u8d23\u7ba1\u7406\uff0c\u8be5 Node \u4f1a\u4e00\u76f4\u5728\u7ebf\u3002"),(0,l.kt)("li",{parentName:"ul"},"MPC Node 2\uff1aSinohope\u8d1f\u8d23\u7ba1\u7406\uff0c\u8be5 Node \u4f1a\u4e00\u76f4\u5728\u7ebf\u3002"),(0,l.kt)("li",{parentName:"ul"},"MPC Node 3\uff1a\u5ba2\u6237\u8d1f\u8d23\u7ba1\u7406\uff0c\u4e5f\u5e94\u4fdd\u6301\u6c38\u8fdc\u5728\u7ebf\u5df2\u5b9e\u73b0\u81ea\u52a8\u5316\u6d41\u7a0b\u3002")),(0,l.kt)("h2",{id:"2-mpc-node\u90e8\u7f72\u5b9e\u65bd"},"2. MPC Node\u90e8\u7f72\u5b9e\u65bd"),(0,l.kt)("h3",{id:"21-\u73af\u5883\u51c6\u5907"},"2.1 \u73af\u5883\u51c6\u5907"),(0,l.kt)("h4",{id:"211-\u901a\u7528\u670d\u52a1\u5668\u73af\u5883"},"2.1.1 \u901a\u7528\u670d\u52a1\u5668\u73af\u5883"),(0,l.kt)("p",null,"\u901a\u7528\u670d\u52a1\u5668\u6307\u7684\u662f\u4e91\u670d\u52a1\u5668\u5546 EC\uff0c\u6216\u8005\u662f\u5ba2\u6237\u81ea\u4e3b\u8fd0\u7ef4\u7684\u670d\u52a1\u5668\u7269\u7406\u673a\u3002"),(0,l.kt)("h5",{id:"\u6700\u4f4e\u914d\u7f6e"},"\u6700\u4f4e\u914d\u7f6e"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"CPU\uff1aAMD64\u6216ARM64 \u67b6\u6784\uff0c2 \u6838\uff0c\u4e3b\u9891 2.0 GHz"),(0,l.kt)("li",{parentName:"ul"},"\u5185\u5b58\uff1a4 G"),(0,l.kt)("li",{parentName:"ul"},"\u786c\u76d8\uff1a64 G SSD"),(0,l.kt)("li",{parentName:"ul"},"\u64cd\u4f5c\u7cfb\u7edf\uff1aUbuntu 20.04\u6216\u6700\u65b0\u3002 (\u6ce8\uff1a\u7406\u8bba\u4e0a\u652f\u6301\u6240\u6709\u53ef\u8fd0\u884cDocker\u7684\u7cfb\u7edf)")),(0,l.kt)("h5",{id:"\u63a8\u8350\u914d\u7f6e"},"\u63a8\u8350\u914d\u7f6e"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"CPU\uff1aAMD64\u6216ARM64 \u67b6\u6784\uff0c4 \u6838\uff0c\u4e3b\u9891 3.0 GHz"),(0,l.kt)("li",{parentName:"ul"},"\u5185\u5b58\uff1a8 G"),(0,l.kt)("li",{parentName:"ul"},"\u786c\u76d8\uff1a128 G SSD"),(0,l.kt)("li",{parentName:"ul"},"\u64cd\u4f5c\u7cfb\u7edf\uff1aUbuntu 20.04\u6216\u6700\u65b0\u3002 (\u6ce8\uff1a\u7406\u8bba\u4e0a\u652f\u6301\u6240\u6709\u53ef\u8fd0\u884cDocker\u7684\u7cfb\u7edf)")),(0,l.kt)("h4",{id:"212-tee\u670d\u52a1\u5668\u73af\u5883"},"2.1.2 TEE\u670d\u52a1\u5668\u73af\u5883"),(0,l.kt)("p",null,"\u53ef\u53c2\u8003Azure\u7684SGX\u4e91\u670d\u52a1\u5feb\u901f\u5b8c\u6210\u673a\u5668\u7684\u914d\u7f6e\uff0c",(0,l.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/zh-cn/azure/confidential-computing/quick-create-marketplace"},"\u5feb\u901f\u5165\u95e8\uff1a\u5728 Azure \u5e02\u573a\u4e2d\u521b\u5efa Intel SGX VM"),"\u3002\u8d2d\u4e70\u5fae\u8f6f\u4e91SGX\u670d\u52a1\u5668\uff0c\u8bf7\u9009\u62e9Ubuntu 20.04\u548cDCsv3\u7cfb\u5217\u652f\u6301\u6807\u51c6\u3002\u914d\u7f6e\u8bf4\u660e\u8bf7\u53c2\u8003\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/zh-cn/azure/confidential-computing/virtual-machine-solutions-sgx"},"\u9002\u7528\u4e8e Intel SGX \u7684 Azure \u4e0a\u7684\u89e3\u51b3\u65b9\u6848"),"\u3002"),(0,l.kt)("h5",{id:"\u6700\u4f4e\u914d\u7f6e-1"},"\u6700\u4f4e\u914d\u7f6e"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"CPU\uff1aIntel-SGX \u67b6\u6784\uff0c2\u6838"),(0,l.kt)("li",{parentName:"ul"},"\u5185\u5b58\uff1a4 G"),(0,l.kt)("li",{parentName:"ul"},"\u786c\u76d8\uff1a64 G SSD"),(0,l.kt)("li",{parentName:"ul"},"\u64cd\u4f5c\u7cfb\u7edf\uff1aUbuntu 20.04")),(0,l.kt)("h5",{id:"\u63a8\u8350\u914d\u7f6e-1"},"\u63a8\u8350\u914d\u7f6e"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"CPU\uff1aIntel-SGX \u67b6\u6784\uff0c2\u6838")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5185\u5b58\uff1a16 G")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u786c\u76d8\uff1a128 G SSD")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u64cd\u4f5c\u7cfb\u7edf\uff1aUbuntu 20.04\u6216\u6700\u65b0\u3002 (\u6ce8\uff1a\u7406\u8bba\u4e0a\u652f\u6301\u6240\u6709\u53ef\u8fd0\u884cDocker\u7684\u7cfb\u7edf)"),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("img",{alt:"img",src:n(49102).Z,width:"884",height:"580"}))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u67e5\u770b\u673a\u5668\u5bf9SGX\u7684\u652f\u6301\u60c5\u51b5\uff0c\u5982\u679c\u4f7f\u7528\u7684Azure\u4e91\u670d\u52a1\u9ed8\u8ba4\u90fd\u5df2\u7ecf\u914d\u7f6e\u5b8c\u6210\u3002"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"apt install cpuid\ncpuid | grep SGX\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u67e5\u770bSGX\u9a71\u52a8\u5b89\u88c5\u60c5\u51b5\uff0c\u5982\u679c\u4f7f\u7528\u7684Azure\u4e91\u670d\u52a1\u9ed8\u8ba4\u90fd\u5df2\u7ecf\u914d\u7f6e\u5b8c\u6210\u3002")),(0,l.kt)("p",null,"\u5982\u679c\u60a8\u7684\u7cfb\u7edf\u652f\u6301 FLC\uff0c\u8bf7\u786e\u4fdd\u60a8\u7684 Linux \u5185\u6838\u7248\u672c\u4e3a 5.11 \u6216\u66f4\u9ad8\u7248\u672c\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 \u8fdb\u884c\u68c0\u67e5uname -r\u3002\u5982\u679c\u60a8\u65e0\u6cd5\u5347\u7ea7\u5185\u6838\uff0c\u60a8\u53ef\u4ee5\u5b89\u88c5DCAP \u9a71\u52a8\u7a0b\u5e8f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"ls /dev/*sgx*\n")),(0,l.kt)("h4",{id:"213-\u7f51\u7edc\u8981\u6c42"},"2.1.3 \u7f51\u7edc\u8981\u6c42"),(0,l.kt)("h5",{id:"\u9632\u706b\u5899\u5165\u7ad9\u89c4\u5219"},"\u9632\u706b\u5899\u5165\u7ad9\u89c4\u5219"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f00\u653e443 \u7aef\u53e3\uff0cMPC Node\u670d\u52a1\u5411\u4f7f\u7528\u8005\u63d0\u4f9bhttps\u670d\u52a1\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u4e0d\u5f71\u54cd\u8fd0\u7ef4\u548c\u5b89\u5168\u7684\u60c5\u51b5\u4e0b\uff0c\u5176\u4ed6\u7aef\u53e3\u5168\u90e8\u5173\u6389\u3002")),(0,l.kt)("h5",{id:"\u9632\u706b\u5899\u51fa\u7ad9\u89c4\u5219"},"\u9632\u706b\u5899\u51fa\u7ad9\u89c4\u5219"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5b89\u88c5\u9636\u6bb5\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u53ef\u8bbf\u95ee apt \u6e90\uff0c\u4ee5\u5b89\u88c5\u57fa\u7840\u4f9d\u8d56\u5305"),(0,l.kt)("li",{parentName:"ul"},"\u53ef\u8bbf\u95ee docker \u5b89\u88c5\u6e90\uff0c\u4ee5\u5b89\u88c5 docker"),(0,l.kt)("li",{parentName:"ul"},"\u53ef\u8bbf\u95ee docker.io registry \u955c\u50cf\u4ed3\u5e93"))),(0,l.kt)("li",{parentName:"ul"},"\u670d\u52a1\u9636\u6bb5\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u53ef\u8bbf\u95ee\u5ba2\u6237\u914d\u7f6e\u7684 Callback \u56de\u8c03\u670d\u52a1\u5668"),(0,l.kt)("li",{parentName:"ul"},"\u53ef\u8bbf\u95eempc-proxy\uff0c\u7b7e\u540d\u65f6\u9700\u8981\u4e0e\u5176\u4ed6MPC Node\u901a\u4fe1\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u4e0d\u5f71\u54cd\u8fd0\u7ef4\u548c\u5b89\u5168\u7684\u60c5\u51b5\u4e0b\uff0c\u5176\u4ed6\u51fa\u7ad9ip\u5168\u90e8\u5173\u6389\u3002")))),(0,l.kt)("h4",{id:"214-\u5b89\u88c5-docker"},"2.1.4 \u5b89\u88c5 Docker"),(0,l.kt)("p",null,"\u8bf7\u53c2\u8003",(0,l.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/install/"},"\u5b98\u65b9\u6587\u6863"),"\u5b89\u88c5Docker\u3002Sinohope MPC Node\u5b89\u88c5\u5305\u4e2d\u7684\u542f\u52a8\u811a\u672c\u6267\u884c\u65f6\uff0c\u4f1a\u81ea\u52a8\u68c0\u67e5Docker\u7684\u5b89\u88c5\u60c5\u51b5\uff0c\u5982\u679c\u672a\u5b89\u88c5\u65e0\u6cd5\u8fd0\u884c\u3002"),(0,l.kt)("h3",{id:"22-\u90e8\u7f72\u4e0e\u914d\u7f6e"},"2.2 \u90e8\u7f72\u4e0e\u914d\u7f6e"),(0,l.kt)("p",null,"\u90e8\u7f72\u53ca\u914d\u7f6e MPC Node \u662f\u4f7f\u7528Sinohope WaaS \u670d\u52a1\u7684\u57fa\u7840\u8981\u6c42\u3002\u8bf7\u53c2\u8003\u5982\u4e0b\u6b65\u9aa4\u5b8c\u6210 MPC Node \u7684\u90e8\u7f72\u8fd0\u884c\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u51c6\u5907\uff1a\u5f00\u901aSinohope WaaS \u8d26\u53f7\uff1b\u51c6\u5907\u597d\u90e8\u7f72\u73af\u5883\uff0c\u83b7\u53d6\u5e76\u9a8c\u8bc1 MPC Node \u5b89\u88c5\u5305\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u521d\u59cb\u5316\u8282\u70b9\uff0c\u751f\u6210\u8282\u70b9\u7684 Node ID \u548c \u90e8\u7f72\u56de\u8c03\u670d\u52a1\u6240\u9700\u7684\u8282\u70b9\u516c\u94a5\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\uff08\u6309\u9700\uff09\u90e8\u7f72\u53ca\u914d\u7f6e\u60a8\u7684\u56de\u8c03\u670d\u52a1\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u7ed1\u5b9aMPC Node\uff0c\u767b\u5f55 web console \u914d\u7f6e MPC Node\uff0c\u5c06\u60a8\u7684 Node ID \u4e0e\u60a8\u7684\u7ec4\u7ec7\u8d26\u53f7\u7ed1\u5b9a\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u542f\u52a8MPC Node\uff0c\u8282\u70b9\u5c06\u6301\u7eed\u8fd0\u884c\uff0c\u5e76\u81ea\u52a8\u6309\u9700\u9a71\u52a8MPC\u534f\u8bae\u7684\u8fd0\u884c\uff0c\u5176\u4e2d\uff0c\u7a0d\u7b49\u7247\u523b\u5c06\u53ef\u5b8c\u6210DKG\uff0c\u4e4b\u540e\u5728 Web Console MPC Node\u7ba1\u7406\u754c\u9762\u5c06\u770b\u5230 \u201ckey share \u72b6\u6001\u201d\u4e3a\u201c\u5df2\u751f\u6210\u201d\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u2757\ufe0f\u2757\ufe0f\u91cd\u8981\uff1a\u5b89\u5168\u59a5\u5584\u5907\u4efd MPC Node \u672c\u5730\u6570\u636e\u5e93\u6587\u4ef6\uff01")),(0,l.kt)("h4",{id:"221-\u83b7\u53d6\u5e76\u9a8c\u8bc1\u5b89\u88c5\u5305"},"2.2.1 \u83b7\u53d6\u5e76\u9a8c\u8bc1\u5b89\u88c5\u5305"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8f6f\u4ef6\u5305\uff08\u4e3b\u8981\u662f\u7ba1\u7406\u811a\u672c\u53ca\u914d\u7f6e\u6587\u4ef6\uff09\u901a\u8fc7\u5f00\u6e90\u9879\u76ee\u8fdb\u884c\u53d1\u5e03\uff0c\u4e0b\u8f7d\u5730\u5740\uff1a",(0,l.kt)("a",{parentName:"li",href:"https://github.com/sinohope/sinohope-mpc-node/releases"},"sinohope-mpc-node/releases"),"\u3002\u4f4d\u4e8e",(0,l.kt)("inlineCode",{parentName:"li"},"env/general"),"\u4e0b\u7684\u7a0b\u5e8f\u5728\u666e\u901acpu\u73af\u5883\u4f7f\u7528\uff0c\u4f4d\u4e8e",(0,l.kt)("inlineCode",{parentName:"li"},"env/intel-sgx"),"\u4e0b\u7684\u7a0b\u5e8f\u5728intel sgx cpu\u73af\u5883\u4f7f\u7528\u3002"),(0,l.kt)("li",{parentName:"ul"},"Releases \u9875\u9762\u5c06\u5305\u542b\u4e3b\u8981\u5185\u5bb9\u7684 sha256 \u503c\uff0c\u8bf7\u5c06\u5185\u5bb9\u4e0b\u8f7d\u5230\u76ee\u6807\u4f4d\u7f6e\u540e\uff0c\u6821\u9a8c\u54c8\u5e0c\u503c\u7684\u4e00\u81f4\u6027\u3002")),(0,l.kt)("p",null,"\u6240\u9700\u7684\u521d\u59cb\u6587\u4ef6\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Bash"},"sinohope-mpc-node\n\u251c\u2500\u2500 config.toml \uff08\u914d\u7f6e\u6587\u4ef6\uff09\n\u2514\u2500\u2500 node.sh \uff08\u7ba1\u7406\u811a\u672c\uff09\n")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"node.sh\u811a\u672c\u7528\u4e8e\u63a7\u5236mpc-node\u670d\u52a1\u7684\u884c\u4e3a\uff0c\u5982\u751f\u6210\u5206\u7247\u79c1\u94a5\uff0c\u542f\u52a8\u670d\u52a1\u7b49\u3002\u6267\u884c",(0,l.kt)("inlineCode",{parentName:"li"},"./node.sh help"),"\u4f1a\u5f97\u5230\u6240\u6709\u547d\u4ee4\u7684\u8bf4\u660e\u3002"),(0,l.kt)("li",{parentName:"ol"},"config.toml\u793a\u4f8b\u4e0e\u8bf4\u660e\u5982\u4e0b\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'[app]\n# \u8f6f\u4ef6\u7684\u540d\u79f0\uff0c\u65e5\u5fd7\u4e2d\u6709\u4f53\u73b0\u3002\nname = "mpc-node" \n# 3\u4e2a\u5206\u7247\uff0ca,b,c\u3002 \u4e0d\u53ef\u4ee5\u4fee\u6539\u3002    \nparty-id = "a"     \n# \u7528\u6237\u7c7b\u578b\uff0c\u4e0d\u53ef\u4ee5\u4fee\u6539\u3002   \naccount-type = "2"    \n\n# \u65e5\u5fd7\n[log] \n# \u65e5\u5fd7\u7b49\u7ea7 : 0: Panic 1: Fatal 2: Error 3: Warn 4: Info 5: Debug 6: Trace\n[log.stdout]\n# \u662f\u5426\u542f\u7528\u7ec8\u7aef\u65e5\u5fd7\u8f93\u51fa\nenable = true  \n # \u65e5\u5fd7\u7b49\u7ea7 \nlevel = 6      \n\n[log.file]\n# \u662f\u5426\u542f\u7528\u6587\u4ef6\u65e5\u5fd7\u8f93\u51fa\nenable = true \n# \u65e5\u5fd7\u7b49\u7ea7 \nlevel = 6      \n# \u65e5\u5fd7\u6587\u4ef6\u8def\u5f84\uff0c\u662fdocker\u5185\u90e8\u8def\u5f84\uff0c\u6267\u884cnode.sh start\u65f6\uff0c\u4f1a\u628a\u5f53\u524d\u76ee\u5f55\u6620\u5c04\u5230docker\u5185\u7684/tmp/mpc-node\npath = "/tmp/mpc-node/logs/mpc-node.log"  \n\n# \u5206\u7247\u5b58\u50a8\n[storage] \n# \u5b58\u50a8\u5f15\u64ce\u7c7b\u578b\uff0c\u5206\u4e3abolt\u548csgx\u4e24\u79cd\uff0c\u9ed8\u8ba4\u4e3abolt\u3002bolt\u4e3a\u6587\u4ef6\u6570\u636e\u5e93\u5b58\u50a8\uff0csgx\u4e3a\u6587\u672c\u6587\u4ef6\u5b58\u50a8\u3002 \u5982\u679c\u4f7f\u7528intel-sgx-tee\u73af\u5883\uff0c\u5fc5\u987b\u6307\u5b9a\u4e3asgx\u5b58\u50a8\u3002\nengine = "bolt"  \n# t/n \u7ec4\u5408\u5bc6\u7801\uff0c\u53ef\u4ee5\u662f1/1\u7684\u5bc6\u7801\uff0c\u4e5f\u53ef\u4ee5\u662f2/3\u5bc6\u7801\uff0c\u4efb\u610f\u8f93\u51652\u6bb5\u5bc6\u7801\u5373\u53ef\u3002\u5982\u679ct>1\uff0c\u5219\u5bc6\u7801\u5fc5\u987b\u7531\u4e13\u95e8\u7684\u5de5\u5177\u751f\u6210\u5bc6\u7801\uff0c\u4e0d\u53ef\u81ea\u7531\u751f\u6210\u3002  \nt = 1             \nn = 2\n# \u5206\u7247\u6570\u636e\u5b58\u50a8\u8def\u5f84\uff0c\u662fdocker\u5185\u90e8\u8def\u5f84\u3002\ndb-file-path = "/tmp/mpc-node/asset.db"  \n# \u670d\u52a1\u5730\u5740\u4e0e\u7aef\u53e3\uff0c\u662fdocker\u5185\u90e8\u5730\u5740\u4e0e\u7aef\u53e3\u3002\nunseal-server-address = "0.0.0.0:8080"   \n\n# mpc server\u8d1f\u8d23\u628a3\u4e2ampc node\u8fde\u63a5\u8d77\u6765\u3002\n[mpc-service] \n# node\u9700\u8981\u4f7f\u7528websocket\u4e0empc server\u5efa\u7acb\u8fde\u63a5\nprotocol = "wss"    \u3002\n # mpc server\u7684url\u5730\u5740\naddress = "api-pre.sinohope.com"  \n# mpc server\u7684url\u8def\u52b2\npath = "/proxy"     \n\n# \u201c\u7b7e\u540d\u7ed3\u679c\u201d\u7684\u52a0\u5bc6\uff0c mpc\u5bf9raw_data\u7b7e\u540d\u7684\u7ed3\u679c\u505a\u4e00\u6b21\u52a0\u5bc6\u4fdd\u62a4\uff0c\u8fd9\u6837\u522b\u4eba\u62ff\u5230\u4e86\u7b7e\u540d\u7ed3\u679c\u4e5f\u4e0d\u53ef\u4ee5\u4f7f\u7528\u3002\n[encrypt-signature] \n# \u662f\u5426\u5f00\u542f\nenable = true  \n# \u52a0\u5bc6\u4f7f\u7528\u7684Secp256r1\u516c\u94a5\u8def\u5f84\uff0c\u662fdocker\u5185\u90e8\u8def\u5f84\u3002\npublic-key-path = "/tmp/mpc-node/encrypt_sig_public.pem"  \n\n# \u7b7e\u540d\u56de\u8c03\u670d\u52a1\uff0cmpc-node\u5728\u7b7e\u540d\u4e4b\u524d\uff0c\u628a\u5f85\u7b7e\u540d\u6570\u636e\u53d1\u7ed9callback\u670d\u52a1\uff0c\u7531callback\u5ba1\u6838\u662f\u5426\u5141\u8bb8\u7b7e\u540d\u3002\n[callback] \nretry-times = 60\nsleep-seconds = 60\n# callback\u5217\u8868\uff0c\u5982\u679c\u5217\u8868\u4e3a\u7a7a\uff0c\u5219\u56de\u8c03\u4e0d\u751f\u6548\u3002\n[[callback.server]] \n# callback\u5730\u5740\naddress = "http://10.151.100.41:9090" \n# mpc-node\u8c03\u7528callback\u8fd4\u56de\u7684\u7ed3\u679c\uff0c\u662f\u4f7f\u7528Secp256r1\u79c1\u94a5\u7b7e\u540d\u7684\uff0cmpc-node\u901a\u8fc7\u516c\u94a5\u9a8c\u8bc1\u7b7e\u540d\u7684\u6b63\u786e\u6027\u3002\u516c\u94a5\u7684\u8def\u5f84\uff0c\u662fdocker\u5185\u90e8\u8def\u5f84\u3002\npublic-key-path = "/tmp/mpc-node/callback_server_public.pem" \n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"MPC Node\u521d\u59cb\u5316\u6210\u529f\u540e\uff0c\u4f1a\u81ea\u52a8\u521b\u5efaasset.db\u6587\u4ef6\u548clogs\u76ee\u5f55\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-JSON"},"sinohope-mpc-node\n\u251c\u2500\u2500 config.toml\n\u251c\u2500\u2500 node.sh\n\u251c\u2500\u2500 asset.db (\u672c\u5730\u4ea7\u751f\u7684\u91cd\u8981\u6570\u636e\u90fd\u5b58\u50a8\u5728\u8fd9\u91cc\uff0c\u5907\u4efd\u4e0e\u6062\u590d\u5c31\u662f\u6062\u590d\u6570\u636e)\n\u2514\u2500\u2500 logs (\u65e5\u5fd7\u6587\u4ef6\u76ee\u5f55)\n")),(0,l.kt)("h4",{id:"222-\u521d\u59cb\u5316\u8282\u70b9"},"2.2.2 \u521d\u59cb\u5316\u8282\u70b9"),(0,l.kt)("p",null,"\u9996\u5148\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8mpc-node\u670d\u52a1\uff0c\u6267\u884c\u5176\u4ed6\u547d\u4ee4\u4e4b\u524d\u9700\u8981\u5148\u542f\u52a8\u670d\u52a1\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"sudo ./node.sh start\n")),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"./node.sh start\nmpc-node instance name: mpc-node, unseal server address: 127.0.0.1:10080\na0c4e4380926d588016570a5d99a7b875a997c841d70472a4bcf1972b200ec49\nmpc-node server address: 127.0.0.1:10080\n")),(0,l.kt)("p",null,"\u8bf4\u660e\uff1a\u9996\u5148\u811a\u672c\u4f1a\u81ea\u52a8\u505a\u4e00\u4e9b\u73af\u5883\u7684\u68c0\u67e5\u5de5\u4f5c\uff0c\u5982\u5224\u65ad\u662f\u5426\u5b89\u88c5\u4e86Docker\uff0c\u5224\u65ad\u7528\u6237\u7684\u6743\u9650\u7b49\u3002\u5982\u679c\u9700\u8981\u5728\u5f53\u524d\u7cfb\u7edf\u540c\u65f6\u8fd0\u884c\u591a\u4e2ampc-node\uff0c\u9700\u8981\u4ee5\u76ee\u5f55\u7684\u5f62\u5f0f\u8fdb\u884c\u533a\u5206\u3002\u5982\u679c\u5728\u540c\u4e00\u4e2a\u76ee\u5f55\u4e2d\u5c1d\u8bd5\u8fd0\u884c\u591a\u4e2ampc-node\uff0c\u5219\u53ea\u6709\u7b2c\u4e00\u6b21\u521d\u59cb\u5316\u7684\u8282\u70b9\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u3002\u5982\u679c\u5e0c\u671b\u8fd0\u884c\u4e24\u4e2ampc-node\uff0c\u5b83\u4eec\u7684\u540d\u5b57\u5047\u8bbe\u5206\u522b\u662fmpc-node-a\u548cmpc-node-b\uff0c\u90a3\u4e48\u9700\u8981\u521b\u5efa\u4e24\u4e2a\u76ee\u5f55\uff0c\u5b83\u4eec\u7684\u540d\u79f0\u53ef\u4ee5\u662f\uff1ampc-node-a\u548cmpc-node-b\u3002\u7136\u540e\u628anode.sh\u548cconfig.toml\u8fd9\u4e24\u4e2a\u6587\u4ef6\u5206\u522b\u590d\u5236\u5230\u4ee5\u4e0a\u4e24\u4e2a\u76ee\u5f55\u4e2d\u3002"),(0,l.kt)("p",null,"\u9996\u6b21\u90e8\u7f72MPC Node\u65f6\u8bf7\u5728\u547d\u4ee4\u884c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u7136\u540e\u6839\u636e\u63d0\u793a\u5b8c\u6210\u521d\u59cb\u5316\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Bash"},"sudo ./node.sh init\n")),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Shell"},'./node.sh init\nNew password:\nRetype new password:\n{"data":{"node_id":"sinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0MDdlMDgyNzA5OTU1NTUxMzljODExMzQ3YTBkZjVmZjVhYmY1ZmM1MTFiOWFiM2U0MWE5N2MwMDlkODA3OGY3ZTc1MzlhYjA2M2ZkNzczZTliOTJjZWU5MjI1ZTVhMTFhYmJjNzExOWRlNDkwYjNiMzZkNTM3MWFmZDRkYjBiYzI=","public_key":"-----BEGIN PUBLIC KEY-----\\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEB+CCcJlVVROcgRNHoN9f9av1/FEb\\nmrPkGpfACdgHj351OasGP9dz6bks7pIl5aEau8cRneSQs7NtU3Gv1NsLwg==\\n-----END PUBLIC KEY-----\\n"},"status":"ok"}\n')),(0,l.kt)("p",null,"init\u547d\u4ee4\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u521d\u59cb\u5316\u8282\u70b9\u4fe1\u606f\uff0c\u5305\u62ec\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7ed9 MPC \u8282\u70b9\u8bbe\u7f6e\u4e00\u4e2a\u5bc6\u7801\uff0c\u8fd9\u4e2a\u5bc6\u7801\u7528\u4e8e\u4fdd\u62a4\u60a8\u7684\u79c1\u94a5\u5206\u7247 \u53ca\u5176\u4ed6\u79c1\u5bc6\u6570\u636e\uff0c",(0,l.kt)("strong",{parentName:"li"},"\u8bf7\u60a8\u59a5\u5584\u4fdd\u7ba1\uff0c\u5207\u52ff\u6cc4\u6f0f\uff0c\u5e76\u4e14\u505a\u597d\u5b89\u5168\u5197\u4f59\u5907\u4efd"),"\u3002\u8282\u70b9\u542f\u52a8\u65f6\u4f1a\u8981\u6c42\u8f93\u5165\u8be5\u5bc6\u7801\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u521b\u5efanode id\uff0c \u6bcf\u4e00\u4e2aMPC Node\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6id\uff0c\u60a8\u5c06\u9700\u8981\u4f7f\u7528\u8be5 node id \u5c06\u60a8\u7684MPC \u8282\u70b9\u4e0e\u60a8\u7684 WaaS \u7ec4\u7ec7\u8d26\u53f7\u505a\u552f\u4e00\u5173\u8054\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u521b\u5efa\u4e0ecallback-server\u901a\u4fe1\u65f6\u7684ECDSA\u5bc6\u94a5\u5bf9\u3002")),(0,l.kt)("p",null,"\u5bc6\u7801\u8bf4\u660e\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5bc6\u7801\u987b\u5305\u542b\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7279\u6b8a\u5b57\u7b26\uff0c\u957f\u5ea612\u4f4d\u4ee5\u4e0a\u3002"),(0,l.kt)("li",{parentName:"ul"},"sinohope-mpc-node\u5bc6\u7801\u91c7\u7528t-n\u7ec4\u5408\u65b9\u5f0f\uff0ct\u5fc5\u987b\u5c0f\u4e8e\u7b49\u4e8en(\u59822/3\uff0c\u6267\u884cinit\u548cunseal\u65f6\u53ea\u9700\u8981\u8f93\u51652\u6bb5\u5bc6\u7801)\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u914d\u7f6e\u4e2d\u7684",(0,l.kt)("inlineCode",{parentName:"li"},"storage.t"),"\u8bbe\u7f6e\u4e3a1\uff0c\u64cd\u4f5c\u547d\u4ee4\u53ea\u9700\u8981\u6267\u884c1\u6b21\uff0c\u5bc6\u7801\u53ef\u7531\u4eba\u5de5\u521b\u5efa\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u914d\u7f6e\u4e2d\u7684",(0,l.kt)("inlineCode",{parentName:"li"},"storage.t"),"\u5927\u4e8e1\uff0c\u64cd\u4f5c\u547d\u4ee4\u9700\u8981\u6267\u884ct\u6b21\uff0ct-n\u5bc6\u7801\u9700\u8981\u4f7f\u7528\u4e13\u95e8\u5de5\u5177\u751f\u6210\uff0c\u4e0d\u53ef\u4ee5\u4efb\u610f\u521b\u5efa\u3002",(0,l.kt)("a",{parentName:"li",href:"https://github.com/sinohope/shamir-pasasword"},"\u70b9\u51fb\u83b7\u53d6\u5bc6\u7801\u751f\u6210\u5de5\u5177")),(0,l.kt)("li",{parentName:"ul"},"t-n\u5bc6\u7801\u9700\u8981\u624b\u52a8\u4fee\u6539config.toml\u4e2d\u7684",(0,l.kt)("inlineCode",{parentName:"li"},"storage.t"),"\u548c",(0,l.kt)("inlineCode",{parentName:"li"},"storage.n"),"\u3002")),(0,l.kt)("h4",{id:"223-optional-\u90e8\u7f72\u53ca\u914d\u7f6e\u56de\u8c03\u670d\u52a1"},"2.2.3 (Optional) \u90e8\u7f72\u53ca\u914d\u7f6e\u56de\u8c03\u670d\u52a1"),(0,l.kt)("p",null,"MPC Node \u63d0\u4f9b\u56de\u8c03\u673a\u5236\u7528\u4e8e\u4f9b\u60a8\u6267\u884c\u98ce\u9669\u63a7\u5236\uff0c\u8fd9\u4e2a\u56de\u8c03\u670d\u52a1\u662f\u53ef\u9009\u7684\uff08\u5728\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u5f3a\u70c8\u5efa\u8bae\u60a8\u5f00\u53d1\u5e76\u90e8\u7f72\u56de\u8c03\u670d\u52a1\uff09\u3002"),(0,l.kt)("p",null,"\u4e3aMPC Node\u914d\u7f6e\u4e86\u56de\u8c03\u670d\u52a1\u4e4b\u540e\uff0cMPC Node \u5728\u53d1\u8d77\u4efb\u4f55 MPC\u4e1a\u52a1\uff08\u5982\u7b7e\u540d\uff09\u4e4b\u524d\u5747\u4f1a\u56de\u8c03\u6307\u5b9a\u7684\u63a5\u53e3\uff0c\u8bf7\u6c42\u56de\u8c03\u670d\u52a1\u5bf9\u5f53\u524dMPC \u4e1a\u52a1\u7684\u6388\u6743\uff0c\u53ea\u6709\u5728\u60a8\u7684\u56de\u8c03\u670d\u52a1\u660e\u786e\u8fd4\u56de ACCEPT \u72b6\u6001\u65f6\uff0cMPC\u4e1a\u52a1\u624d\u4f1a\u5f00\u59cb\u6267\u884c\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\uff0c\u5f53\u60a8\u4f7f\u7528\u6d88\u606f\u7b7e\u540d \u6216 \u5bf9\u539f\u59cb\u6570\u636e\u76f4\u63a5\u7b7e\u540d \u7684\u529f\u80fd\u65f6\uff0cMPC Node \u5c06\u901a\u8fc7\u56de\u8c03\u63a5\u53e3\u5c06\u7b7e\u540d\u7ed3\u679c\u63d0\u4f9b\u7ed9\u60a8\uff0c\u4f9b\u60a8\u7684\u4e1a\u52a1\u4f7f\u7528\u3002"),(0,l.kt)("p",null,"\u5173\u4e8e\u56de\u8c03\u670d\u52a1\u7684\u5f00\u53d1\u3001\u90e8\u7f72\u3001\u914d\u7f6e\u7b49\u5185\u5bb9\uff0c\u8be6\u89c1\u201cMPC Node \u56de\u8c03\u673a\u5236\u201d\u7ae0\u8282\u3002"),(0,l.kt)("h4",{id:"224-\u7ed1\u5b9a-mpc-node"},"2.2.4 \u7ed1\u5b9a MPC Node"),(0,l.kt)("p",null,"\u524d\u8ff0\u6b65\u9aa4\u5b8c\u6210\u540e\uff0c\u53ef\u4f7f\u7528\u5177\u6709\u7ba1\u7406\u5458\u6743\u9650\u7684\u8d26\u53f7\u767b\u5f55 Sinohope Web Console\uff0c \u5728\u3010\u8bbe\u7f6e\u3011-\u3010MPC Node\u3011\u9875\u9762\u5b8c\u6210 MPC Node \u7684\u5173\u8054\u7ed1\u5b9a\u3002\u6b64\u5904\u9700\u8981\u8f93\u5165MPC Node \u521d\u59cb\u5316\u65f6\u751f\u6210\u7684 Node ID\u3002"),(0,l.kt)("h4",{id:"225-\u542f\u5c01-mpc-node-\u670d\u52a1"},"2.2.5 \u542f\u5c01 MPC Node \u670d\u52a1"),(0,l.kt)("p",null,"\u7ed1\u5b9a MPC Node \u5b8c\u6210\u540e\uff0c\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u542f\u52a8 MPC Node \u670d\u52a1\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Bash"},"sudo ./node.sh unseal \n")),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-JSON"},'./node.sh unseal\n? Enter current password: \n{"data":"in-bkey success","status":"ok"}\n')),(0,l.kt)("p",null,"\u670d\u52a1\u542f\u52a8\u8fd0\u884c\u540e\uff0c\u56de\u5230web console MPC Node \u914d\u7f6e\u754c\u9762\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u7a0d\u7b49\u7247\u523b\u5373\u53ef\u770b\u5230 \u201ckey share \u72b6\u6001\u201d \u4e3a\u201c\u5df2\u751f\u6210\u201d\uff0c\u540c\u65f6\u754c\u9762\u4e0a\u5c06\u5c55\u793a\u60a8\u7684\u7ec4\u7ec7\u7684MPC \u6839\u516c\u94a5 \u4fe1\u606f\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"img",src:n(78347).Z,width:"1953",height:"760"})),(0,l.kt)("h4",{id:"226-\ufe0f\ufe0f\u91cd\u8981\u6570\u636e\u5e93\u5907\u4efd"},"2.2.6 \u2757\ufe0f\u2757\ufe0f\u91cd\u8981\uff1a\u6570\u636e\u5e93\u5907\u4efd"),(0,l.kt)("p",null,"MPC Node \u672c\u5730\u6570\u636e\u5e93\u6587\u4ef6 ",(0,l.kt)("inlineCode",{parentName:"p"},"asset.db")," \u5b58\u50a8\u4e86\u60a8\u7684\u79c1\u94a5\u5206\u7247 \u7b49\u91cd\u8981\u6570\u636e\uff0c\u6240\u6709\u6570\u636e\u5747\u4f7f\u7528\u5f3a\u5bc6\u94a5\u52a0\u5bc6\u5b58\u50a8\uff0c\u8be5\u5f3a\u5bc6\u94a5\u7531\u60a8\u4e3a MPC Node \u8bbe\u7f6e\u7684\u5bc6\u7801\u7ecf KDF \u51fd\u6570\u6d3e\u751f\u800c\u6765\u3002"),(0,l.kt)("p",null,"\u79c1\u94a5\u5206\u7247\u4e8b\u5173\u8d44\u91d1\u5b89\u5168\u53ca\u53ef\u7528\uff0cSinohope\u6240\u638c\u7ba1\u7684\u79c1\u94a5\u5206\u7247\u7531\u5e73\u53f0\u57fa\u4e8e\u591a\u5c42\u7ea7\u591a\u533a\u57df\u7684\u4e00\u7cfb\u5217\u9ad8\u53ef\u7528\u53ca\u707e\u5907\u65b9\u6848\u52a0\u4ee5\u4fdd\u7ba1\u53ca\u5907\u4efd\uff0c\u540c\u65f6\u60a8\u4e5f\u53ef\u7533\u8bf7\u5bf9\u60a8\u7684\u7ec4\u7ec7\u7684\u6240\u6709\u5206\u7247\u79c1\u94a5\u8fdb\u884c\u5907\u4efd\uff0c\u4ece\u800c\u5b8c\u5168\u638c\u63a7\u60a8\u7684\u6240\u67093\u7247\u5206\u7247\u79c1\u94a5\u3002"),(0,l.kt)("p",null,"\u800c",(0,l.kt)("strong",{parentName:"p"},"\u5bf9\u4e8e\u60a8\u672c\u5730\u7684\u6570\u636e\u5e93\u6587\u4ef6\u4e2d\u5b58\u5728\u7684\u79c1\u94a5\u5206\u7247\uff0c\u5219\u5fc5\u987b\u7531\u60a8\u81ea\u5df1\u5b8c\u6210\u5b89\u5168\u5197\u4f59\u5907\u4efd\u3002\u8bf7\u91c7\u53d6\u8db3\u591f\u7684\u5b89\u5168\u63aa\u65bd\u3001\u5f02\u5730\u591a\u526f\u672c \u5907\u4efd\u60a8\u7684\u6570\u636e\u5e93\u6587\u4ef6\uff0c\u4ee5\u53ca\u60a8\u4e3aMPC Node\u8bbe\u7f6e\u7684 \u5bc6\u7801"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5efa\u8bae\u6570\u636e\u5e93\u6587\u4ef6\u4e0e\u5bc6\u7801\u5206\u5f00\u4fdd\u7ba1\uff0c\u964d\u4f4e\u6570\u636e\u6cc4\u6f0f\u98ce\u9669"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u540e\u7eed\u82e5\u60a8\u7684 MPC Node \u670d\u52a1\u5668\u6216\u670d\u52a1\u53d1\u751f\u6545\u969c\u3001\u6570\u636e\u53d7\u635f\u3001\u4e0d\u53ef\u7528\u7b49\u60c5\u51b5\u65f6\uff0c\u53ea\u80fd\u901a\u8fc7\u60a8\u5907\u4efd\u7684 \u6570\u636e\u5e93 \u6587\u4ef6\u53ca\u5bc6\u7801 \u91cd\u65b0\u90e8\u7f72MPC Node\u670d\u52a1\u6765\u8fdb\u884c\u6062\u590d\u3002Sinohope \u5c06\u65e0\u6cd5\u5e2e\u60a8\u6062\u590d\u60a8\u7684MPC Node \u670d\u52a1\uff01\uff01")),(0,l.kt)("h2",{id:"3-mpc-node-\u5b8c\u6574\u4ea4\u4e92\u547d\u4ee4\u4ecb\u7ecd"},"3. MPC Node \u5b8c\u6574\u4ea4\u4e92\u547d\u4ee4\u4ecb\u7ecd"),(0,l.kt)("h3",{id:"\u542f\u52a8"},"\u542f\u52a8"),(0,l.kt)("p",null,"\u8bf7\u5728\u547d\u4ee4\u884c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Bash"},"sudo ./node.sh start\n")),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Shell"},"./node.sh start\nmpc-node instance name: mpc-node, unseal server address: 127.0.0.1:10080\na0c4e4380926d588016570a5d99a7b875a997c841d70472a4bcf1972b200ec49\nmpc-node server address: 127.0.0.1:10080\n")),(0,l.kt)("h3",{id:"\u521d\u59cb\u5316"},"\u521d\u59cb\u5316"),(0,l.kt)("p",null,"\u8bf7\u5728\u547d\u4ee4\u884c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Bash"},"sudo ./node.sh init\n")),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Shell"},'./node.sh init\nNew password:\nRetype new password:\n{"data":{"node_id":"sinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0MDdlMDgyNzA5OTU1NTUxMzljODExMzQ3YTBkZjVmZjVhYmY1ZmM1MTFiOWFiM2U0MWE5N2MwMDlkODA3OGY3ZTc1MzlhYjA2M2ZkNzczZTliOTJjZWU5MjI1ZTVhMTFhYmJjNzExOWRlNDkwYjNiMzZkNTM3MWFmZDRkYjBiYzI=","public_key":"-----BEGIN PUBLIC KEY-----\\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEB+CCcJlVVROcgRNHoN9f9av1/FEb\\nmrPkGpfACdgHj351OasGP9dz6bks7pIl5aEau8cRneSQs7NtU3Gv1NsLwg==\\n-----END PUBLIC KEY-----\\n"},"status":"ok"}\n')),(0,l.kt)("h3",{id:"\u542f\u5c01\u670d\u52a1"},"\u542f\u5c01\u670d\u52a1"),(0,l.kt)("p",null,"\u8bf7\u5728\u547d\u4ee4\u884c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Bash"},"./node.sh unseal \n")),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-JSON"},'./node.sh unseal\n? Enter current password: \n{"data":"in-bkey success","status":"ok"}\n')),(0,l.kt)("p",null,"\u8bf4\u660e\uff1a\u811a\u672c\u4f1a\u8bfb\u53d6\u5bc6\u7801\u5e76\u542f\u52a8docker\u5185\u7684\u670d\u52a1"),(0,l.kt)("h3",{id:"mpc-node\u5176\u4ed6\u547d\u4ee4"},"MPC Node\u5176\u4ed6\u547d\u4ee4"),(0,l.kt)("p",null,"\u6ce8\uff1a\u542f\u52a8\u670d\u52a1\u4e3b\u8981\u662finit\u548cstart\u547d\u4ee4\uff0c\u5176\u4ed6\u547d\u4ee4\u662f\u975e\u5fc5\u987b\u547d\u4ee4\uff0c\u53ef\u6309\u9700\u67e5\u9605\u3002"),(0,l.kt)("h4",{id:"\u67e5\u770bnode-id\u548ccallback\u516c\u94a5"},"\u67e5\u770bnode-id\u548ccallback\u516c\u94a5"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u53ef\u67e5\u770bMPC Node ID\u548c\u56de\u8c03\u670d\u52a1\u901a\u4fe1\u516c\u94a5\uff0c\u53ea\u6709MPC Node\u5904\u4e8e\u8fd0\u884c\u72b6\u6001\u4e2d\u65f6\u624d\u53ef\u4ee5\u4f7f\u7528\u6b64\u547d\u4ee4\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-JSON"},"./node.sh info\n")),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Shell"},'./node.sh info   \n{\n  "data": {\n    "node_id": "sinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0MmFmNGY0Y2I5ZmM1MGFjMWUzNzIxMzM2Y2IyMmJmYzMzMDg4YjJmNGM4OTEyZjZhNDE4ZmNlY2JmZWFhMzIwMjNlMzg0MGE1YjBkODI3YWE5ODE1N2Y1MTE5Y2M2YTdiYzQ2NWNmN2EzNzc0MTkwNjdmYzc5ZGNjMjQ0YjgxZTU=",\n    "public_key": "-----BEGIN PUBLIC KEY-----\\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEKvT0y5/FCsHjchM2yyK/wzCIsvTI\\nkS9qQY/Oy/6qMgI+OEClsNgnqpgVf1EZzGp7xGXPejd0GQZ/x53MJEuB5Q==\\n-----END PUBLIC KEY-----\\n",\n    "state": "unsealed"\n  },\n  "status": "ok"\n}\n')),(0,l.kt)("h4",{id:"\u4fee\u6539\u5bc6\u7801"},"\u4fee\u6539\u5bc6\u7801"),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u7528\u4e8e\u4fee\u6539MPC Node\u5bc6\u7801\uff0c\u8f93\u5165\u65e7\u5bc6\u7801\u3002\u8bf7\u786e\u4fddMPC Node\u5df2\u7ecf\u5904\u4e8e\u6b63\u5e38\u8fd0\u884c\u72b6\u6001\uff08\u5b8c\u6210MPC Node\u7ed1\u5b9a\uff0c\u5e76\u4e14\u8282\u70b9\u5728\u7ebf\u72b6\u6001\u6b63\u5e38\uff09\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-JSON"},"./node.sh reset\n")),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-JSON"},'./node.sh reset\n? Enter current password: \nNew password:\nRetype new password:\n{"status": "ok", "data": "re-bkey-init success"}\n')),(0,l.kt)("p",null,"\u8be5\u547d\u4ee4\u7528\u4e8e\u4fee\u6539MPC Node\u5bc6\u7801\uff0c\u8f93\u5165\u65b0\u5bc6\u7801\u3002\u8bf7\u786e\u4fddMPC Node\u5df2\u7ecf\u5904\u4e8e\u6b63\u5e38\u8fd0\u884c\u72b6\u6001\uff08\u5b8c\u6210MPC Node\u7ed1\u5b9a\uff0c\u5e76\u4e14\u8282\u70b9\u5728\u7ebf\u72b6\u6001\u6b63\u5e38\uff09\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-JSON"},"./node.sh cmreset\n")),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-JSON"},'./node.sh cmreset\nNew password:\nRetype new password:\n{"status": "ok", "data": "re-bkey success"}\n')),(0,l.kt)("h4",{id:"\u505c\u6b62\u670d\u52a1"},"\u505c\u6b62\u670d\u52a1"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Bash"},"./node.sh stop\n")),(0,l.kt)("h4",{id:"\u624b\u52a8\u68c0\u67e5\u73af\u5883"},"\u624b\u52a8\u68c0\u67e5\u73af\u5883"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Bash"},"./node.sh check\n")),(0,l.kt)("h4",{id:"\u547d\u4ee4\u5e2e\u52a9"},"\u547d\u4ee4\u5e2e\u52a9"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Bash"},"./node.sh help\n")),(0,l.kt)("h2",{id:"4-mpc-node\u56de\u8c03\u673a\u5236"},"4. MPC Node\u56de\u8c03\u673a\u5236"),(0,l.kt)("p",null,"MPC Node \u542f\u52a8\u540e\uff0c\u4f1a\u81ea\u52a8\u548c Sinohope \u540e\u53f0\u5efa\u7acb\u957f\u94fe\u63a5\uff0c\u7528\u4e8e\u63a5\u6536 Sinohope \u540e\u53f0\u4e0b\u53d1\u7684\u4efb\u52a1\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cMPC Node\u6ca1\u6709\u542f\u7528\u56de\u8c03\u673a\u5236\uff0cMPC Node \u4f1a\u81ea\u52a8\u5b8c\u6210\u6240\u6709\u4efb\u52a1\u7684\u6267\u884c\uff1b"),(0,l.kt)("p",null,"\u5982\u679c\u914d\u7f6e\u4e3a\u542f\u7528\u56de\u8c03\u673a\u5236\uff0c\u5ba2\u6237\u9700\u8981\u81ea\u5df1\u5f00\u53d1\u4e00\u4e2a\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1\uff0c\u7528\u4e8e\u9a8c\u8bc1Sinohope\u4e0b\u53d1\u7684\u4efb\u52a1\u662f\u5426\u5408\u7406\uff0c\u6700\u7ec8\u51b3\u5b9a\u662f\u5426\u914d\u5408Sinohope\u5b8c\u6210\u7b7e\u540d\u3002"),(0,l.kt)("p",null,"\u56de\u8c03\u670d\u52a1\u7684\u5f00\u53d1\uff0c\u53ef\u53c2\u8003Sinohope \u63d0\u4f9b\u7684\u56de\u8c03\u670d\u52a1\u793a\u4f8b\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://github.com/sinohope/mpc-node-callback-demo"},"GitHub - sinohope/mpc-node-callback-demo")),(0,l.kt)("h3",{id:"41-\u914d\u7f6e\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1"},"4.1 \u914d\u7f6e\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1"),(0,l.kt)("p",null,"\u5728\u90e8\u7f72\u56de\u8c03\u670d\u52a1\u5668\u7684\u4e3b\u673a\u4e0a\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u521d\u59cb\u5316\u7684\u914d\u7f6e\u5de5\u4f5c\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u751f\u6210\u56de\u8c03\u670d\u52a1\u5668\u7684 ECDSA \u79c1\u94a5")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Go"},"openssl ecparam -genkey -name prime256v1 -out private_key.pem\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5bfc\u51fa\u56de\u8c03\u670d\u52a1\u5668\u7684 ECDSA \u516c\u94a5")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Go"},"openssl ec -in private_key.pem -pubout -out callback_server_public.pem\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5c06\u5bfc\u51fa\u7684 ECDSA \u516c\u94a5\uff08\u5373  callback_server_public.pem \u6587\u4ef6\uff09\u590d\u5236\u5230 MPC Node \u6240\u5728\u673a\u5668\uff0c\u5e76\u5728 MPC Node \u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9acallback_server_public.pem\u6587\u4ef6\u4f4d\u7f6e\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-TOML"},'[callback]\nretry-times = 60\nsleep-seconds = 60\n[[callback.server]]\n  address = "http://<callback url>"\n  public-key-path = "./callback_server_public.pem"\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5c06 MPC Node \u7684 ECDSA \u516c\u94a5\u590d\u5236\u5230\u56de\u8c03\u670d\u52a1\u5668\u76f8\u5173\u914d\u7f6e\u6587\u4ef6\u4e2d")),(0,l.kt)("p",null,"\u5982\u4f55\u83b7\u53d6 MPC Node \u7684 ECDSA \u516c\u94a5\uff1a "),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5728 MPC Node \u5b8c\u6210\u521d\u59cb\u5316\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u67e5\u8be2 MPC Node \u7684 ECDSA \u516c\u94a5\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-TOML"},"./node.sh info\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u793a\u4f8b\u8f93\u51fa\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Shell"},'./node.sh info   \nchecking update...\n{\n  "data": {\n    "node_id": "sinoMzA1OTMwMTMwNjA3MmE4NjQ4Y2UzZDAyMDEwNjA4MmE4NjQ4Y2UzZDAzMDEwNzAzNDIwMDA0MmFmNGY0Y2I5ZmM1MGFjMWUzNzIxMzM2Y2IyMmJmYzMzMDg4YjJmNGM4OTEyZjZhNDE4ZmNlY2JmZWFhMzIwMjNlMzg0MGE1YjBkODI3YWE5ODE1N2Y1MTE5Y2M2YTdiYzQ2NWNmN2EzNzc0MTkwNjdmYzc5ZGNjMjQ0YjgxZTU=",\n    "public_key": "-----BEGIN PUBLIC KEY-----\\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEKvT0y5/FCsHjchM2yyK/wzCIsvTI\\nkS9qQY/Oy/6qMgI+OEClsNgnqpgVf1EZzGp7xGXPejd0GQZ/x53MJEuB5Q==\\n-----END PUBLIC KEY-----\\n",\n    "state": "unsealed"\n  },\n  "status": "ok"\n}\n')),(0,l.kt)("p",null,"\u5176\u4e2d\u7684 public key \u5373\u4e3a MPC Node \u4f9b\u56de\u8c03\u670d\u52a1\u4f7f\u7528\u7684 ECDSA \u516c\u94a5\u3002"),(0,l.kt)("h3",{id:"42-\u5f00\u53d1\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1"},"4.2 \u5f00\u53d1\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1"),(0,l.kt)("h4",{id:"421-\u7b7e\u540d\u4e0e\u9a8c\u7b7e"},"4.2.1 \u7b7e\u540d\u4e0e\u9a8c\u7b7e"),(0,l.kt)("p",null,"MPC Node\u4e0e\u56de\u8c03\u670d\u52a1\u4e4b\u95f4\u7684\u6570\u636e\u901a\u8fc7\u5404\u81ea\u7684ECDSA\u79c1\u94a5\u751f\u6210\u7b7e\u540d\uff0c\u7136\u540e\u5bf9\u65b9\u4f7f\u7528\u63d0\u524d\u914d\u7f6e\u597d\u7684\u516c\u94a5\u6839\u636e\u6307\u5b9a\u7684\u89c4\u5219\u8fdb\u884c\u9a8c\u7b7e\uff0c\u53ea\u6709\u7b7e\u9a8c\u901a\u8fc7\u624d\u53ef\u4ee5\u8ba4\u4e3a\u662f\u5408\u6cd5\u7684\u8bf7\u6c42\u3002"),(0,l.kt)("p",null,"\u4ee5\u4e0b\u662f\u5f53\u524dMPC Node\u4e0e\u56de\u8c03\u670d\u52a1\u4e4b\u95f4\u901a\u4fe1\u7684\u6570\u636e\u7ed3\u6784\uff0c\u8bf7\u6ce8\u610f\u4e0d\u8981\u968f\u610f\u66f4\u6539\u5b57\u6bb5\u5148\u540e\u987a\u5e8f\u3002"),(0,l.kt)("p",null,"Request:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Go"},'type Check struct {\n    CallbackId    string `json:"callback_id,omitempty"`\n    RequestType   string `json:"request_type,omitempty"`\n    RequestDetail `json:"request_detail,omitempty"`\n    ExtraInfo     `json:"extra_info,omitempty"`\n}\n\ntype RequestDetail struct {\n    T            int      `json:"t,omitempty"`\n    N            int      `json:"n,omitempty"`\n    Cryptography string   `json:"cryptography,omitempty"`\n    PartyIds     []string `json:"party_ids,omitempty"`\n\n    PublicKey   string `json:"public_key,omitempty"`\n    Path        string `json:"path,omitempty"`\n    Message     string `json:"message,omitempty"`\n    Coin        string `json:"coin,omitempty"`\n    FromAddress string `json:"from_address,omitempty"`\n    ToAddress   string `json:"to_address,omitempty"`\n    Amount      string `json:"amount,omitempty"`\n    Fee         string `json:"fee,omitempty"`\n    GasPrice    string `json:"gas_price,omitempty"`\n    GasLimit    string `json:"gas_limit,omitempty"`\n    Signature   string `json:"signature,omitempty"`\n}\n\ntype ExtraInfo struct {\n    SinoId    string `json:"sino_id,omitempty"`\n    RequestId string `json:"request_id,omitempty"`\n}\n')),(0,l.kt)("p",null,"Response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-Go"},'type Response struct {\n    Status    string        `json:"status,omitempty"`\n    Error     string        `json:"error,omitempty"`\n    Data      *ResponseData `json:"data,omitempty"`\n    Signature string        `json:"signature,omitempty"`\n}\n\ntype ResponseData struct {\n    CallbackId string `json:"callback_id,omitempty"`\n    SinoId     string `json:"sino_id,omitempty"`\n    RequestId  string `json:"request_id,omitempty"`\n    Action     string `json:"action,omitempty"`\n    WaitTime   string `json:"wait_time,omitempty"`\n}\n')),(0,l.kt)("h5",{id:"1-\u751f\u6210request\u7b7e\u540d"},"1\u3001 \u751f\u6210Request\u7b7e\u540d"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"MPC Node\u6839\u636e\u8bf7\u6c42\u7684\u7c7b\u578b\u6784\u9020Check\u7ed3\u6784\u4f53\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u5c06\u6784\u9020\u597d\u7684Check\u7ed3\u6784\u4f53\u8fdb\u884cjson\u5e8f\u5217\u5316\uff0c\u5f97\u5230Message\uff1b"),(0,l.kt)("li",{parentName:"ul"},"MPC Node\u4f7f\u7528\u81ea\u5df1\u7684ECDSA\u79c1\u94a5\u5bf9Message\u7b7e\u540d\uff0c\u5f97\u5230Signature\uff1b"),(0,l.kt)("li",{parentName:"ul"},"MPC Node\u5c06Signature\u8bbe\u7f6e\u5230\u672c\u6b21HTTP\u8bf7\u6c42\u5934\u4e2d\uff0cKey\u4e3aSigature\uff1b")),(0,l.kt)("h5",{id:"2request\u7b7e\u540d\u9a8c\u7b7e"},"2\u3001Request\u7b7e\u540d\u9a8c\u7b7e"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u56de\u8c03\u670d\u52a1\u4f7f\u7528Check\u7ed3\u6784\u4f53\u89e3\u6790MPC Node\u7684HTTP\u8bf7\u6c42\uff0c\u5f97\u5230\u672c\u6b21\u8bf7\u6c42\u7684Check\u6570\u636e\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u56de\u8c03\u670d\u52a1\u5c06\u5f97\u5230\u7684Check\u6570\u636e\u8fdb\u884cjson\u5e8f\u5217\u5316\uff0c\u5f97\u5230\u5f85\u9a8c\u7b7e\u7684Message\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u56de\u8c03\u670d\u52a1\u4eceHTTP\u8bf7\u6c42\u4e2d\u5f97\u5230Signature\uff0c\u7136\u540e\u7ed3\u5408Mesage\u548c\u63d0\u524d\u914d\u7f6e\u597d\u7684MPC Node\u516c\u94a5\u5bf9Signature\u8fdb\u884c\u9a8c\u7b7e\uff1b")),(0,l.kt)("h5",{id:"3\u751f\u6210response\u7b7e\u540d"},"3\u3001\u751f\u6210Response\u7b7e\u540d"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u56de\u8c03\u670d\u52a1\u6839\u636e\u81ea\u8eab\u7684\u51b3\u7b56\u751f\u6210\u4e0a\u8ff0Response\uff0c\u5e76\u5728Response.Data\u4e2d\u586b\u5145\u76f8\u5e94\u7684\u5b57\u6bb5\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u56de\u8c03\u670d\u52a1\u5bf9Response.Data\u8fdb\u884cjson\u5e8f\u5217\u5316\uff0c\u5f97\u5230Message\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u56de\u8c03\u670d\u52a1\u4f7f\u7528\u81ea\u8eab\u7684ECDSA\u79c1\u94a5\u5bf9Message\u7b7e\u540d\uff0c\u5f97\u5230Signature\uff0c\u5e76\u5c06Signature\u8d4b\u503c\u7ed9Response.Signature\u5b57\u6bb5\uff1b")),(0,l.kt)("h5",{id:"4response\u7b7e\u540d\u9a8c\u7b7e"},"4\u3001Response\u7b7e\u540d\u9a8c\u7b7e"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"MPC Node\u5f97\u5230\u56de\u8c03\u670d\u52a1\u7684Response\uff0c\u5e76\u5bf9Response.Data\u5b57\u6bb5\u8fdb\u884cjson\u5e8f\u5217\u5316\u5f97\u5230Message\uff1b"),(0,l.kt)("li",{parentName:"ul"},"MPC Node\u7ed3\u5408Message\u548c\u63d0\u524d\u914d\u7f6e\u597d\u7684\u56de\u8c03\u670d\u52a1\u516c\u94a5\u5bf9Response.Signature\u8fdb\u884c\u9a8c\u7b7e\uff1b")),(0,l.kt)("h4",{id:"422-check"},"4.2.2 check"),(0,l.kt)("p",null,"\u6bcf\u6b21keygen\u548csign\u4e1a\u52a1mpc-node\u90fd\u4f1a\u901a\u8fc7check\u63a5\u53e3\u8bf7\u6c42\u7528\u6237\u8fdb\u884c\u98ce\u63a7\uff0c\u53ea\u6709\u56de\u8c03\u670d\u52a1\u660e\u786e\u56de\u590dApprove\u65f6\u76f8\u5173\u4e1a\u52a1\u624d\u5141\u8bb8\u5f00\u59cb\u3002"),(0,l.kt)("h5",{id:"1http-\u63a5\u53e3"},"1\u3001HTTP \u63a5\u53e3"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"path: /check")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"method: post")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"body: JSON\u7f16\u7801\u7684\u6570\u636e")),(0,l.kt)("h5",{id:"2request"},"2\u3001Request"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"callback_id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u56de\u8c03\u8bf7\u6c42\u552f\u4e00ID")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"request_type"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u56de\u8c03\u8bf7\u6c42\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u6709\u4ee5\u4e0b\u516d\u79cd\u53d6\u503c\uff1akeygen\u3001sign\u3001bip340-schnorr-sign\u3001taproot-sign\u3001pre-sign\u3001pre-sign-online")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"request_detail"),(0,l.kt)("td",{parentName:"tr",align:null},"struct"),(0,l.kt)("td",{parentName:"tr",align:null},"\u56de\u8c03\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u4e00\u7cfb\u5217\u5173\u952e\u4fe1\u606f\u3002\u4e0d\u540c\u7684\u56de\u8c03\u8bf7\u6c42\u7c7b\u578b\u5bf9\u5e94\u4e0d\u540c\u7684 request_detail \u7ed3\u6784\uff1b\u683c\u5f0f\u4e3a JSON \u5e8f\u5217\u5316\u540e\u7684\u5b57\u7b26\u4e32")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"extra_info"),(0,l.kt)("td",{parentName:"tr",align:null},"struct"),(0,l.kt)("td",{parentName:"tr",align:null},"\u56de\u8c03\u8bf7\u6c42\u8f85\u52a9\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u4e00\u4e9b\u989d\u5916\u76f8\u5173\u4fe1\u606f\uff1b\u683c\u5f0f\u4e3a JSON \u5e8f\u5217\u5316\u540e\u7684\u5b57\u7b26\u4e32")))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53",(0,l.kt)("inlineCode",{parentName:"li"},"request_type == keygen"),"\u65f6\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"request_detail")," \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"threshold"),(0,l.kt)("td",{parentName:"tr",align:null},"int"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7b7e\u540d\u9608\u503c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"party_ids"),(0,l.kt)("td",{parentName:"tr",align:null},"[]string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u53c2\u4e0e\u751f\u6210\u79c1\u94a5\u7684\u8282\u70b9ID\u96c6\u5408")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cryptography"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4f7f\u7528\u7684\u7b7e\u540d\u7b97\u6cd5\u3002ecdsa-secp256k1/eddsa-ed25519")))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f53 ",(0,l.kt)("inlineCode",{parentName:"li"},"request_type \u4e3a sign \u6216 bip340-schnorr-sign \u6216 taproot-sign \u6216 pre-sign \u6216 pre-sign-online")," \u65f6\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"request_detail")," \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sign_type"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f85\u7b7e\u540d\u7684\u4ea4\u6613\u7c7b\u578b\uff1a1\u3001\u666e\u901a\u4ea4\u6613\uff1b2\u3001EIP191/EIP712\u7b7e\u540d\uff1b3\u3001RawData\u7b7e\u540d\uff1b")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"public_key"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6839\u516c\u94a5\u5bf9\u5e94\u7684public key")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"path"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"bip32\u6d3e\u751f\u8def\u5f84")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"message"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f85\u7b7e\u540d\u7684\u6d88\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"tx_info"),(0,l.kt)("td",{parentName:"tr",align:null},"json"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ea4\u6613\u7684\u8be6\u7ec6\u4fe1\u606f")))),(0,l.kt)("p",null,"\u5176\u4e2d\uff0ctx_info \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"vaultId"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u91d1\u5e93id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"walletId"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u94b1\u5305id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"requestId"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bf7\u6c42\u65b9\u4ea4\u6613\u7684requestId")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"chainSymbol"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u94fe\u6807\u8bc6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"assetId"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8d44\u4ea7id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"from"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"from \u5730\u5740")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"to"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"to\u5730\u5740")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"toTag"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ea4\u6613\u7684memo")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"amount"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u91d1\u989d")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"fee"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u624b\u7eed\u8d39 \u5bf9\u4e8e UTXO \u7c7b\u7684\u975eEVM\u517c\u5bb9\u94fe\u7684\u4ea4\u6613,\u81ea\u8bbe\u7f6efee, \u5982\u53c2\u6570\u4e3a UTXO \u8d44\u4ea7\u8f6c\u8d26\u63d0\u4f9b\uff0c\u8868\u793a\u6bcf\u5b57\u8282\u7684\u624b\u7eed\u8d39")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"gasPrice"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"gasprice")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"gasLimit"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"gaslimit")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"inputdata"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ee5\u592a\u574a\u4ea4\u6613data")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"note"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5907\u6ce8\uff1a\u7528\u4e8e\u7528\u6237\u81ea\u5df1\u9700\u8981\u7684\u4e00\u4e9b\u5907\u6ce8\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"curInputId"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d\u7b7e\u540dinputId")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"tapScriptRoot"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"taproot script \u6811\u6839")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"publickKey"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"from\u5730\u5740\u7684\u516c\u94a5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"extraData"),(0,l.kt)("td",{parentName:"tr",align:null},"json"),(0,l.kt)("td",{parentName:"tr",align:null},"utxo\u4ea4\u6613\u7684\u8be6\u7ec6\u6570\u636e\uff0c\u5305\u62ecvin,vout")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"brc20Details"),(0,l.kt)("td",{parentName:"tr",align:null},"json"),(0,l.kt)("td",{parentName:"tr",align:null},"brc20\u8be6\u7ec6\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"runeDetails"),(0,l.kt)("td",{parentName:"tr",align:null},"json"),(0,l.kt)("td",{parentName:"tr",align:null},"rune\u8be6\u7ec6\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pre_sign_signature_id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u9884\u7b7e\u540did\uff0cpre-sign-online\u4f7f\u7528\u7684\u9884\u7b7e\u540d\u6570\u636e\u7684id")))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"brc20Details \u7684\u7ed3\u6784\u793a\u4f8b\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'[\n    {\n        "method": "transfer",\n        "ticker": "helloworld",\n        "quantity": "920769938",\n        "inscriptionId": "63045affabbd947fb4bc425***********",\n        "step": 3,\n        "from": "1Bt84h23CKi****************",\n        "to": "bc1q53ss0p87****************"\n    }\n]\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"runeDetails \u7684\u7ed3\u6784\u793a\u4f8b\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'[\n    {\n        "fromAddress": "1Bt84h23CKi****************",\n        "toAddress": "bc1q53ss0p87****************",\n        "runeName": "HELLOWORLD",\n        "runeId": "2818544:3897",\n        "runeSpacedName": "HELLO\u2022WORLD",\n        "runeAmount": "100",\n        "runeSymbol": "\xa4",\n        "runeDivisibility": 0\n    }\n]\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"extraData \u7684\u7ed3\u6784\u793a\u4f8b\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n    "toTag": "TOTAG1637",\n    "vinList": [\n        {\n            "address": "mwTnMZzAvUzVCQKGkdcAHYW1sMnJCumbJL",\n            "amount": 1425593,\n            "blockHash": "0000000000000005f9c6962d86854e412bf0cc1d61b5849c0ac2f83d701007a8",\n            "blockHeight": 2583605,\n            "blockState": 1,\n            "blockTimeStamp": 1711441887,\n            "currency": "btc",\n            "id": 6909,\n            "state": 0,\n            "tag": "",\n            "transactionHash": "17b0378f551ddfda5d512a7304fdc0f33493f0429a479e243f3653d7dca0700e",\n            "voutIndex": 1\n        }\n    ],\n    "voutList": [\n        {\n            "address": "mwTnMZzAvUzVCQKGkdcAHYW1sMnJCumbJL",\n            "amount": 22000\n        }\n    ]\n}\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"extra_info \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sino_id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Sinohope \u5185\u90e8\u5bf9\u5f53\u524d\u7b7e\u540d\u5bf9\u5e94\u4e1a\u52a1\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u8be5\u6807\u8bc6\u4f1a\u5728\u5f00\u53d1\u8005\u8c03\u7528\u8bf8\u5982",(0,l.kt)("inlineCode",{parentName:"td"},"create_transfer")," \u4e4b\u7c7b\u7684waas API\u65f6\u5728 response\u4e2d\u63d0\u4f9b\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"request_id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7528\u6237\u901a\u8fc7 WaaS \u63a5\u53e3\u4f20\u5165\u7684\u8bf7\u6c42 ID\uff0c\u5982\u679c\u8bf7\u6c42\u975e WaaS \u63a5\u53e3\uff0cSinohope \u5185\u90e8\u4f1a\u81ea\u52a8\u751f\u6210")))),(0,l.kt)("h5",{id:"3response"},"3\u3001Response"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"status"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u72b6\u6001\u7801\uff0c\u5f53\u72b6\u6001\u7801\u4e3a 0 \u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6b63\u5e38\u6267\u884c\uff1b\u5f53\u72b6\u6001\u7801\u4e3a\u5176\u4ed6\u503c\u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6267\u884c\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u4e00\u4e9b\u5f02\u5e38\u60c5\u51b5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"error"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u9519\u8bef\u4fe1\u606f\uff1b\u5f53 status \u8fd4\u56de\u503c\u4e0d\u662f 0 \u65f6\uff0c\u4ee3\u8868\u56de\u8c03\u670d\u52a1\u5668\u5185\u90e8\u51fa\u73b0\u7684\u9519\u8bef\u4fe1\u606f\uff1b\u5f53 status \u4e3a 0\uff0c\u4e14\u98ce\u63a7\u7ed3\u679c\u4e3a REJECT \u65f6\uff0c\u4ee3\u8868\u5177\u4f53\u7684\u98ce\u63a7\u62d2\u7edd\u4fe1\u606f\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"data"),(0,l.kt)("td",{parentName:"tr",align:null},"json"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bf7\u6c42\u7684\u7ed3\u679c\u6570\u636e")))),(0,l.kt)("p",null,"data\u7ed3\u6784"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"callback_id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u672c\u6b21\u8bf7\u6c42\u7684callback_id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sino_id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u672c\u6b21\u8bf7\u6c42\u7684sino_id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"request_id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u672c\u6b21\u8bf7\u6c42\u7684request_id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"action"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u672c\u6b21\u8bf7\u6c42\u7684\u5904\u7406\u7ed3\u679c\uff1a Approve: \u5141\u8bb8 Reject: \u62d2\u7edd Wait: \u7b49\u5f85\u540e\u91cd\u8bd5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"wait_time"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f53action\u4e3aWait\u65f6\uff0c\u6b64\u5b57\u6bb5\u7528\u4e8e\u6307\u793aMPC Node\u9700\u8981\u7b49\u5f85\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2")))),(0,l.kt)("h4",{id:"rawdata_signature"},"rawdata_signature"),(0,l.kt)("p",null,"\u8be5\u63a5\u53e3\u7528\u4e8e\u4e0a\u62a5\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u6d88\u606f\u7684\u7b7e\u540d\u7ed3\u679c\uff0c\u53ea\u6709\u5f53sign\u4e1a\u52a1\u7684sign_type\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"2"),"\u6216",(0,l.kt)("inlineCode",{parentName:"p"},"3"),"\u65f6\u4e14MPC Node\u7b7e\u540d\u6210\u529f\u540e\u624d\u4f1a\u5411\u56de\u8c03\u670d\u52a1\u4e0a\u62a5\u539f\u59cb\u7684\u6d88\u606f\u548c\u7b7e\u540d\u7ed3\u679c\u3002"),(0,l.kt)("h5",{id:"1http\u63a5\u53e3"},"1\u3001HTTP\u63a5\u53e3"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"path: /rawdata_signature"),(0,l.kt)("p",{parentName:"blockquote"},"method: post"),(0,l.kt)("p",{parentName:"blockquote"},"body: JSON\u7f16\u7801\u7684\u6570\u636e")),(0,l.kt)("h5",{id:"2-request"},"2\u3001 Request"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"callback_id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u56de\u8c03\u8bf7\u6c42\u552f\u4e00ID")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"request_detail"),(0,l.kt)("td",{parentName:"tr",align:null},"struct"),(0,l.kt)("td",{parentName:"tr",align:null},"\u56de\u8c03\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u4e00\u7cfb\u5217\u5173\u952e\u4fe1\u606f\u3002\u4e0d\u540c\u7684\u56de\u8c03\u8bf7\u6c42\u7c7b\u578b\u5bf9\u5e94\u4e0d\u540c\u7684 request_detail \u7ed3\u6784\uff1b\u683c\u5f0f\u4e3a JSON \u5e8f\u5217\u5316\u540e\u7684\u5b57\u7b26\u4e32")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"extra_info"),(0,l.kt)("td",{parentName:"tr",align:null},"struct"),(0,l.kt)("td",{parentName:"tr",align:null},"\u56de\u8c03\u8bf7\u6c42\u8f85\u52a9\u4fe1\u606f\uff0c\u5305\u62ec\u8bf7\u6c42\u7684\u4e00\u4e9b\u989d\u5916\u76f8\u5173\u4fe1\u606f\uff1b\u4e0d\u540c\u7684\u56de\u8c03\u8bf7\u6c42\u7c7b\u578b\u5bf9\u5e94\u4e0d\u540c\u7684 extra_info \u7ed3\u6784\uff1b\u683c\u5f0f\u4e3a JSON \u5e8f\u5217\u5316\u540e\u7684\u5b57\u7b26\u4e32")))),(0,l.kt)("p",null,"request_defailt\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"message"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u539f\u59cb\u5f85\u7b7e\u540d\u7684\u6d88\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"signature"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7b7e\u540d\u7ed3\u679c")))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"extra_info \u7684\u7ed3\u6784\u5b9a\u4e49\u5982\u4e0b\uff1a")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sino_id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Sinohope \u5185\u90e8\u5bf9\u5f53\u524d\u7b7e\u540d\u5bf9\u5e94\u4e1a\u52a1\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u8be5\u6807\u8bc6\u4f1a\u5728\u5f00\u53d1\u8005\u8c03\u7528\u8bf8\u5982",(0,l.kt)("inlineCode",{parentName:"td"},"create_transfer")," \u4e4b\u7c7b\u7684waas API\u65f6\u5728 response\u4e2d\u63d0\u4f9b\u3002")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"request_id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7528\u6237\u901a\u8fc7 WaaS \u63a5\u53e3\u4f20\u5165\u7684\u8bf7\u6c42 ID\uff0c\u5982\u679c\u8bf7\u6c42\u975e WaaS \u63a5\u53e3\uff0cSinohope \u5185\u90e8\u4f1a\u81ea\u52a8\u751f\u6210")))),(0,l.kt)("h5",{id:"3response-1"},"3\u3001Response"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"status"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u72b6\u6001\u7801\uff0c\u5f53\u72b6\u6001\u7801\u4e3a 0 \u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6b63\u5e38\u6267\u884c\uff1b\u5f53\u72b6\u6001\u7801\u4e3a\u5176\u4ed6\u503c\u65f6\uff0c\u8868\u660e\u56de\u8c03\u670d\u52a1\u5668\u6267\u884c\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u4e00\u4e9b\u5f02\u5e38\u60c5\u51b5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"error"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u9519\u8bef\u4fe1\u606f\uff1b\u5f53 status \u8fd4\u56de\u503c\u4e0d\u662f 0 \u65f6\uff0c\u4ee3\u8868\u56de\u8c03\u670d\u52a1\u5668\u5185\u90e8\u51fa\u73b0\u7684\u9519\u8bef\u4fe1\u606f\uff1b\u5f53 status \u4e3a 0\uff0c\u4e14\u98ce\u63a7\u7ed3\u679c\u4e3a REJECT \u65f6\uff0c\u4ee3\u8868\u5177\u4f53\u7684\u98ce\u63a7\u62d2\u7edd\u4fe1\u606f\u3002")))),(0,l.kt)("h3",{id:"43-\u6fc0\u6d3b\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1"},"4.3 \u6fc0\u6d3b\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1"),(0,l.kt)("p",null,"\u56de\u8c03\u9a8c\u8bc1\u670d\u52a1\u914d\u7f6e\u548c\u542f\u52a8\u540e\uff0c\u9700\u8981\u8c03\u7528./node.sh start\u91cd\u65b0\u542f\u52a8MPC Node\u3002"),(0,l.kt)("h2",{id:"5-mpc-node\u7b7e\u540d\u7ed3\u679c\u52a0\u5bc6"},"5. MPC Node\u7b7e\u540d\u7ed3\u679c\u52a0\u5bc6"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u72ec\u7acb\u90e8\u7f72mpc-node\u7684\u7528\u6237\uff0c\u5728\u8c03\u7528\u63a5\u53e3",(0,l.kt)("inlineCode",{parentName:"p"},"/v1/waas/mpc/web3/sign_message"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"/v1/waas/mpc/wallet/advance/sign_raw_data"),"\u8fdb\u884c\u7b7e\u540d\u65f6\uff0c mpc-node\u53ef\u5bf9\u7b7e\u540d\u7ed3\u679c\u8fdb\u884c\u52a0\u5bc6\u4fdd\u62a4\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u52a0\u5bc6\u4fdd\u62a4\u4f7f\u7528Secp256r1\u7b97\u6cd5\uff0c\u516c\u94a5\u52a0\u5bc6\uff0c\u79c1\u94a5\u89e3\u5bc6\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7528\u6237\u8c03\u7528\u63a5\u53e3",(0,l.kt)("inlineCode",{parentName:"li"},"/v1/waas/mpc/web3/sign_result"),"\u67e5\u8be2\u7b7e\u540d\u7ed3\u679c\u65f6\uff0c\u9700\u8981\u89e3\u5bc6\u540e\u4f7f\u7528\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679cmpc-node\u914d\u7f6e\u4e86Callback \u56de\u8c03\u670d\u52a1\uff0c\u56de\u8c03\u670d\u52a1\u63a5\u6536\u5230\u7684\u7b7e\u540d\u7ed3\u679c\u4e5f\u9700\u8981\u89e3\u5bc6\u540e\u518d\u4f7f\u7528\u3002")),(0,l.kt)("h3",{id:"51-\u751f\u6210\u52a0\u5bc6\u516c\u79c1\u94a5"},"5.1 \u751f\u6210\u52a0\u5bc6\u516c\u79c1\u94a5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"openssl ecparam -genkey -name prime256v1 -out decrypt_sig_pirvate.pem\nopenssl ec -in decrypt_sig_pirvate.pem -pubout -out encrypt_sig_public.pem\n")),(0,l.kt)("h3",{id:"52-\u8bbe\u7f6e\u914d\u7f6e\u6587\u4ef6"},"5.2 \u8bbe\u7f6e\u914d\u7f6e\u6587\u4ef6"),(0,l.kt)("p",null,"\u5728\u914d\u7f6e\u6587\u4ef6config.toml\u4e2d\u5f00\u542f\u52a8\u7b7e\u540d\u7ed3\u679c\u52a0\u5bc6\u529f\u80fd\uff0c\u5e76\u6307\u5b9a\u52a0\u5bc6\u7684\u516c\u94a5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'[encrypt-signature]\nenable = true\npublic-key-path = "/tmp/mpc-node/encrypt_sig_public.pem"\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c",(0,l.kt)("inlineCode",{parentName:"li"},"encrypt-signature.enable = true")," \uff0c\u5219mpc-node\u4f1a\u5bf9\u7b7e\u540d\u7ed3\u679c\u8fdb\u884c\u52a0\u5bc6\uff0c\u5426\u5219\u8fd4\u56de\u539f\u59cb\u7b7e\u540d\u7ed3\u679c\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"encrypt-signature.public-key-path")," \u52a0\u5bc6\u7b7e\u540d\u7ed3\u679c\u7684\u516c\u94a5\uff0c\u4f7f\u7528pem\u683c\u5f0f\u6587\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"callback.server.public-key-path")," mpc-node\u4e0eCallback\u670d\u52a1\u901a\u4fe1\u6570\u636e\u9a8c\u7b7e\u516c\u7528\uff0cCallback\u670d\u52a1\u4f7f\u7528\u79c1\u94a5\u5bf9\u901a\u4fe1\u6570\u636e\u7ed9\u51fa\u4e00\u4e2a\u7b7e\u540d\uff0cmpc-node\u901a\u8fc7\u8fd9\u4e2a\u516c\u94a5\u8fdb\u884c\u6570\u636e\u6821\u9a8c\uff0c\u4f7f\u7528pem\u683c\u5f0f\u6587\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"encrypt-signature.public-key-path")," \u548c",(0,l.kt)("inlineCode",{parentName:"li"},"callback.server.public-key-path")," \u90fd\u4f7f\u7528\u7684Secp256r1\u7b97\u6cd5\u3002\u4e3a\u4e86\u7b80\u5355\u5316\uff0c\u5efa\u8bae\u4f7f\u7528\u540c\u4e00\u628a\u516c\u79c1\u94a5\u3002")),(0,l.kt)("h3",{id:"53-\u89e3\u5bc6\u7b7e\u540d\u7ed3\u679c"},"5.3 \u89e3\u5bc6\u7b7e\u540d\u7ed3\u679c"),(0,l.kt)("p",null,"\u56de\u8c03\u670d\u52a1demo\u4e2d\uff0c\u5bf9\u56de\u8c03\u7ed3\u679c(\u52a0\u5bc6\u7684\u7b7e\u540d\u6570\u636e)\u505a\u4e86\u89e3\u5bc6\u5904\u7406\uff0c\u53ef\u53c2\u8003Sinohope \u63d0\u4f9b\u7684\u56de\u8c03\u670d\u52a1\u793a\u4f8b\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://github.com/sinohope/mpc-node-callback-demo"},"GitHub - sinohope/mpc-node-callback-demo")),(0,l.kt)("h3",{id:"54-\u9884\u7b7e\u540d"},"5.4 \u9884\u7b7e\u540d"),(0,l.kt)("p",null,"mpc\u7b7e\u540d\u6bd4\u8f83\u6d88\u8017CPU\uff0c\u4e5f\u6bd4\u8f83\u8017\u65f6\uff0c\u4e00\u822c\u5355\u6b21\u7b7e\u540d\u53ef\u80fd\u9700\u89813-5\u79d2\u624d\u80fd\u5b8c\u6210\uff0c\u65f6\u95f4\u7684\u957f\u77ed\u53d6\u51b3\u4e8empc-node\u7684\u914d\u7f6e\u548c\u7f51\u7edc\u72b6\u51b5\u3002\u5982\u679c\u5e0c\u671b\u83b7\u5f97\u6beb\u79d2\u7ea7\u7684\u4f53\u9a8c\uff0c\u53ef\u4ee5\u5f00\u542f\u9884\u7b7e\u540d\u3002\u5f00\u542f\u4e4b\u540e\uff0c\u7cfb\u7edf\n\u4f1a\u5728mpc-node\u7a7a\u95f2\u7684\u65f6\u5019\u505a\u9884\u7b7e\u540d\uff08pre-sign\uff09\uff0c\u5728\u771f\u6b63\u9700\u8981\u5bf9\u4ea4\u6613\u8fdb\u884c\u7b7e\u540d\u65f6\u4f7f\u7528\u4e4b\u524d\u51c6\u5907\u597d\u7684\u9884\u7b7e\u540d\u6570\u636e\u505apre-sign-online\uff0cpre-sign-online\u7684\u6548\u7387\u8fdc\u9ad8\u4e8e\u666e\u901a\u7684sign\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f00\u542f\u9884\u7b7e\u540d\u524d\u7684\u51c6\u5907\uff1a\u7b7e\u540dcallback\u670d\u52a1\u8981\u652f\u6301request_type\u4e3apre-sign\u3001pre-sign-online\u7684\u4e24\u79cd\u7684\u4e1a\u52a1\u7c7b\u578b\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u4f55\u5f00\u542f\uff1a\u76ee\u524d\u9700\u8981\u8054\u7cfb\u7ba1\u7406\u5458\uff0c\u7531\u7ba1\u7406\u5458\u534f\u52a9\u5f00\u542f")))}m.isMDXComponent=!0},78347:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/mpc-node-c68a2d846433981c1e03c415271b6a6f.png"},49102:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/sgx-c4fc2cabbc01d0a1f68348adc639ad29.png"}}]);